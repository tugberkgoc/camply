\href{https://npmjs.org/package/cross-spawn}{\tt } \href{https://npmjs.org/package/cross-spawn}{\tt } \href{https://travis-ci.org/IndigoUnited/node-cross-spawn}{\tt } \href{https://ci.appveyor.com/project/satazor/node-cross-spawn}{\tt } \href{https://david-dm.org/IndigoUnited/node-cross-spawn}{\tt } \href{https://david-dm.org/IndigoUnited/node-cross-spawn#info=devDependencies}{\tt }

A cross platform solution to node\textquotesingle{}s spawn and spawn\+Sync.

\subsection*{Installation}

{\ttfamily \$ npm install cross-\/spawn}

If you are using {\ttfamily spawn\+Sync} on node 0.\+10 or older, you will also need to install {\ttfamily spawn-\/sync}\+:

{\ttfamily \$ npm install spawn-\/sync}

\subsection*{Why}

Node has issues when using spawn on Windows\+:


\begin{DoxyItemize}
\item It ignores \href{https://github.com/joyent/node/issues/2318}{\tt P\+A\+T\+H\+E\+XT}
\item It does not support \href{http://pt.wikipedia.org/wiki/Shebang}{\tt shebangs}
\item No {\ttfamily options.\+shell} support on node $<$ v6
\item It does not allow you to run {\ttfamily del} or {\ttfamily dir}
\end{DoxyItemize}

All these issues are handled correctly by {\ttfamily cross-\/spawn}. There are some known modules, such as \href{https://github.com/ForbesLindesay/win-spawn}{\tt win-\/spawn}, that try to solve this but they are either broken or provide faulty escaping of shell arguments.

\subsection*{Usage}

Exactly the same way as node\textquotesingle{}s \href{https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options}{\tt {\ttfamily spawn}} or \href{https://nodejs.org/api/child_process.html#child_process_child_process_spawnsync_command_args_options}{\tt {\ttfamily spawn\+Sync}}, so it\textquotesingle{}s a drop in replacement.


\begin{DoxyCode}
var spawn = require('cross-spawn');

// Spawn NPM asynchronously
var child = spawn('npm', ['list', '-g', '-depth', '0'], \{ stdio: 'inherit' \});

// Spawn NPM synchronously
var results = spawn.sync('npm', ['list', '-g', '-depth', '0'], \{ stdio: 'inherit' \});
\end{DoxyCode}


\subsection*{Caveats}

\paragraph*{{\ttfamily options.\+shell} as an alternative to {\ttfamily cross-\/spawn}}

Starting from node v6, {\ttfamily spawn} has a {\ttfamily shell} option that allows you run commands from within a shell. This new option solves most of the problems that {\ttfamily cross-\/spawn} attempts to solve, but\+:


\begin{DoxyItemize}
\item It\textquotesingle{}s not supported in node $<$ v6
\item It has no support for shebangs on Windows
\item You must manually escape the command and arguments which is very error prone, specially when passing user input
\end{DoxyItemize}

If you are using the {\ttfamily shell} option to spawn a command in a cross platform way, consider using {\ttfamily cross-\/spawn} instead. You have been warned.

\paragraph*{Shebangs}

While {\ttfamily cross-\/spawn} handles shebangs on Windows, its support is limited\+: e.\+g.\+: it doesn\textquotesingle{}t handle arguments after the path, e.\+g.\+: {\ttfamily \#!/bin/bash -\/e}.

Remember to always test your code on Windows!

\subsection*{Tests}

{\ttfamily \$ npm test}

\subsection*{License}

Released under the \href{http://www.opensource.org/licenses/mit-license.php}{\tt M\+IT License}. 