\begin{quote}
Detect the file type of a Buffer/\+Uint8\+Array \end{quote}


The file type is detected by checking the \href{http://en.wikipedia.org/wiki/Magic_number_(programming)#Magic_numbers_in_files}{\tt magic number} of the buffer.

\subsection*{Install}


\begin{DoxyCode}
$ npm install --save file-type
\end{DoxyCode}


\subsection*{Usage}

\subparagraph*{Node.\+js}


\begin{DoxyCode}
const readChunk = require('read-chunk'); // npm install read-chunk
const fileType = require('file-type');
const buffer = readChunk.sync('unicorn.png', 0, 262);

fileType(buffer);
//=> \{ext: 'png', mime: 'image/png'\}
\end{DoxyCode}


or from a remote location\+:


\begin{DoxyCode}
const http = require('http');
const fileType = require('file-type');
const url = 'http://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif';

http.get(url, res => \{
  res.once('data', chunk => \{
    res.destroy();
    console.log(fileType(chunk));
    //=> \{ext: 'gif', mime: 'image/gif'\}
  \});
\});
\end{DoxyCode}


\subparagraph*{Browser}


\begin{DoxyCode}
const xhr = new XMLHttpRequest();
xhr.open('GET', 'unicorn.png');
xhr.responseType = 'arraybuffer';

xhr.onload = () => \{
  fileType(new Uint8Array(this.response));
  //=> \{ext: 'png', mime: 'image/png'\}
\};

xhr.send();
\end{DoxyCode}


\subsection*{A\+PI}

\subsubsection*{file\+Type(buffer)}

Returns an {\ttfamily Object} (or {\ttfamily null} when no match) with\+:


\begin{DoxyItemize}
\item {\ttfamily ext} -\/ one of the \href{#supported-file-types}{\tt supported file types}
\item {\ttfamily mime} -\/ the \href{http://en.wikipedia.org/wiki/Internet_media_type}{\tt M\+I\+ME type}
\end{DoxyItemize}

\paragraph*{buffer}

Type\+: {\ttfamily Buffer} {\ttfamily Uint8\+Array}

It only needs the first 262 bytes.

\subsection*{Supported file types}


\begin{DoxyItemize}
\item \href{https://en.wikipedia.org/wiki/JPEG}{\tt {\ttfamily jpg}}
\item \href{https://en.wikipedia.org/wiki/Portable_Network_Graphics}{\tt {\ttfamily png}}
\item \href{https://en.wikipedia.org/wiki/GIF}{\tt {\ttfamily gif}}
\item \href{https://en.wikipedia.org/wiki/WebP}{\tt {\ttfamily webp}}
\item \href{https://en.wikipedia.org/wiki/Free_Lossless_Image_Format}{\tt {\ttfamily flif}}
\item \href{http://fileinfo.com/extension/cr2}{\tt {\ttfamily cr2}}
\item \href{https://en.wikipedia.org/wiki/Tagged_Image_File_Format}{\tt {\ttfamily tif}}
\item \href{https://en.wikipedia.org/wiki/BMP_file_format}{\tt {\ttfamily bmp}}
\item \href{https://en.wikipedia.org/wiki/JPEG_XR}{\tt {\ttfamily jxr}}
\item \href{https://en.wikipedia.org/wiki/Adobe_Photoshop#File_format}{\tt {\ttfamily psd}}
\item \href{https://en.wikipedia.org/wiki/Zip_(file_format)}{\tt {\ttfamily zip}}
\item \href{https://en.wikipedia.org/wiki/Tar_(computing)#File_format}{\tt {\ttfamily tar}}
\item \href{https://en.wikipedia.org/wiki/RAR_(file_format)}{\tt {\ttfamily rar}}
\item \href{https://en.wikipedia.org/wiki/Gzip}{\tt {\ttfamily gz}}
\item \href{https://en.wikipedia.org/wiki/Bzip2}{\tt {\ttfamily bz2}}
\item \href{https://en.wikipedia.org/wiki/7z}{\tt {\ttfamily 7z}}
\item \href{https://en.wikipedia.org/wiki/Apple_Disk_Image}{\tt {\ttfamily dmg}}
\item \href{https://en.wikipedia.org/wiki/MPEG-4_Part_14#Filename_extensions}{\tt {\ttfamily mp4}}
\item \href{https://en.wikipedia.org/wiki/M4V}{\tt {\ttfamily m4v}}
\item \href{https://en.wikipedia.org/wiki/MIDI}{\tt {\ttfamily mid}}
\item \href{https://en.wikipedia.org/wiki/Matroska}{\tt {\ttfamily mkv}}
\item \href{https://en.wikipedia.org/wiki/WebM}{\tt {\ttfamily webm}}
\item \href{https://en.wikipedia.org/wiki/QuickTime_File_Format}{\tt {\ttfamily mov}}
\item \href{https://en.wikipedia.org/wiki/Audio_Video_Interleave}{\tt {\ttfamily avi}}
\item \href{https://en.wikipedia.org/wiki/Windows_Media_Video}{\tt {\ttfamily wmv}}
\item \href{https://en.wikipedia.org/wiki/MPEG-1}{\tt {\ttfamily mpg}}
\item \href{https://en.wikipedia.org/wiki/MP3}{\tt {\ttfamily mp3}}
\item \href{https://en.wikipedia.org/wiki/MPEG-4_Part_14#.MP4_versus_.M4A}{\tt {\ttfamily m4a}}
\item \href{https://en.wikipedia.org/wiki/Ogg}{\tt {\ttfamily ogg}}
\item \href{https://en.wikipedia.org/wiki/Opus_(audio_format)}{\tt {\ttfamily opus}}
\item \href{https://en.wikipedia.org/wiki/FLAC}{\tt {\ttfamily flac}}
\item \href{https://en.wikipedia.org/wiki/WAV}{\tt {\ttfamily wav}}
\item \href{https://en.wikipedia.org/wiki/Adaptive_Multi-Rate_audio_codec}{\tt {\ttfamily amr}}
\item \href{https://en.wikipedia.org/wiki/Portable_Document_Format}{\tt {\ttfamily pdf}}
\item \href{https://en.wikipedia.org/wiki/EPUB}{\tt {\ttfamily epub}}
\item \href{https://en.wikipedia.org/wiki/.exe}{\tt {\ttfamily exe}}
\item \href{https://en.wikipedia.org/wiki/SWF}{\tt {\ttfamily swf}}
\item \href{https://en.wikipedia.org/wiki/Rich_Text_Format}{\tt {\ttfamily rtf}}
\item \href{https://en.wikipedia.org/wiki/Web_Open_Font_Format}{\tt {\ttfamily woff}}
\item \href{https://en.wikipedia.org/wiki/Web_Open_Font_Format}{\tt {\ttfamily woff2}}
\item \href{https://en.wikipedia.org/wiki/Embedded_OpenType}{\tt {\ttfamily eot}}
\item \href{https://en.wikipedia.org/wiki/TrueType}{\tt {\ttfamily ttf}}
\item \href{https://en.wikipedia.org/wiki/OpenType}{\tt {\ttfamily otf}}
\item \href{https://en.wikipedia.org/wiki/ICO_(file_format)}{\tt {\ttfamily ico}}
\item \href{https://en.wikipedia.org/wiki/Flash_Video}{\tt {\ttfamily flv}}
\item \href{https://en.wikipedia.org/wiki/Postscript}{\tt {\ttfamily ps}}
\item \href{https://en.wikipedia.org/wiki/Xz}{\tt {\ttfamily xz}}
\item \href{https://www.sqlite.org/fileformat2.html}{\tt {\ttfamily sqlite}}
\item \href{http://fileinfo.com/extension/nes}{\tt {\ttfamily nes}}
\item \href{https://developer.chrome.com/extensions/crx}{\tt {\ttfamily crx}}
\item \href{https://en.wikipedia.org/wiki/XPInstall}{\tt {\ttfamily xpi}}
\item \href{https://en.wikipedia.org/wiki/Cabinet_(file_format)}{\tt {\ttfamily cab}}
\item \href{https://en.wikipedia.org/wiki/Deb_(file_format)}{\tt {\ttfamily deb}}
\item \href{https://en.wikipedia.org/wiki/Ar_(Unix)}{\tt {\ttfamily ar}}
\item \href{http://fileinfo.com/extension/rpm}{\tt {\ttfamily rpm}}
\item \href{http://fileinfo.com/extension/z}{\tt {\ttfamily Z}}
\item \href{https://en.wikipedia.org/wiki/Lzip}{\tt {\ttfamily lz}}
\item \href{https://en.wikipedia.org/wiki/Windows_Installer}{\tt {\ttfamily msi}}
\end{DoxyItemize}

{\itshape S\+VG isn\textquotesingle{}t included as it requires the whole file to be read, but you can get it \href{https://github.com/sindresorhus/is-svg}{\tt here}.}

{\itshape PR welcome for additional commonly used file types.}

\subsection*{Related}


\begin{DoxyItemize}
\item \href{https://github.com/sindresorhus/file-type-cli}{\tt file-\/type-\/cli} -\/ C\+LI for this module
\end{DoxyItemize}

\subsection*{License}

M\+IT Â© \href{https://sindresorhus.com}{\tt Sindre Sorhus} 