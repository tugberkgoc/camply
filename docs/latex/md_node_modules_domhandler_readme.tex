The D\+OM handler (formally known as Default\+Handler) creates a tree containing all nodes of a page. The tree may be manipulated using the \href{https://github.com/fb55/domutils}{\tt domutils} library.

\#\# Usage 
\begin{DoxyCode}
var handler = new DomHandler([ <func> callback(err, dom), ] [ <obj> options ]);
// var parser = new Parser(handler[, options]);
\end{DoxyCode}


Available options are described below.

\#\# Example 
\begin{DoxyCode}
var htmlparser = require("htmlparser2");
var rawHtml = "Xyz <script language= javascript>var foo = '<<bar>>';< /  script><!--<!-- Waah! -- -->";
var handler = new htmlparser.DomHandler(function (error, dom) \{
    if (error)
      [...do something for errors...]
    else
      [...parsing done, do something...]
        console.log(dom);
\});
var parser = new htmlparser.Parser(handler);
parser.write(rawHtml);
parser.end();
\end{DoxyCode}


Output\+:

\`{}\`{}\`{}javascript \mbox{[}\{ data\+: \textquotesingle{}Xyz \textquotesingle{}, type\+: \textquotesingle{}text\textquotesingle{} \}, \{ type\+: \textquotesingle{}script\textquotesingle{}, name\+: \textquotesingle{}script\textquotesingle{}, attribs\+: \{ language\+: \textquotesingle{}javascript\textquotesingle{} \}, children\+: \mbox{[}\{ data\+: \textquotesingle{}var foo = \textbackslash{}\textquotesingle{}$<$bar$>$\textbackslash{}\textquotesingle{};$<$\textquotesingle{}, type\+: \textquotesingle{}text\textquotesingle{} \}\mbox{]} \}, \{ data\+: \textquotesingle{}

\subsection*{Option\+: with\+Start\+Indices}

Indicates whether a {\ttfamily start\+Index} property will be added to nodes. When the parser is used in a non-\/streaming fashion, {\ttfamily start\+Index} is an integer indicating the position of the start of the node in the document. The default value is \char`\"{}false\char`\"{}.

\subsection*{Option\+: with\+End\+Indices}

Indicates whether a {\ttfamily end\+Index} property will be added to nodes. When the parser is used in a non-\/streaming fashion, {\ttfamily end\+Index} is an integer indicating the position of the end of the node in the document. The default value is \char`\"{}false\char`\"{}. 