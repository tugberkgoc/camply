
\begin{DoxyItemize}
\item feat(schematype)\+: add {\ttfamily Schema\+Type.\+get()}, custom getters across all instances of a schematype \#6912
\item feat(schematype)\+: add {\ttfamily Schema\+Type.\+cast()}, configure casting for individual schematypes \#7045
\item feat(schematype)\+: add {\ttfamily Schema\+Type.\+check\+Required()}, configure what values pass {\ttfamily required} check for a schematype \#7186 \#7150
\item feat(model)\+: add {\ttfamily Model.\+find\+One\+And\+Replace()} \#7162
\item feat(model)\+: add {\ttfamily Model.\+events} emitter that emits all {\ttfamily error}\textquotesingle{}s that occur with a given model \#7125
\item feat(populate)\+: add {\ttfamily count} option to populate virtuals, support returning \# of populated docs instead of docs themselves \#4469
\item feat(aggregate)\+: add {\ttfamily .catch()} helper to make aggregations full thenables \#7267
\item feat(query)\+: add hooks for {\ttfamily delete\+One()} and {\ttfamily delete\+Many()} \#7195
\item feat(document)\+: add hooks for {\ttfamily update\+One()} \#7133
\item feat(query)\+: add {\ttfamily Query\+::map()} for synchronously transforming results before post middleware runs \#7142
\item feat(schema)\+: support passing an array of objects or schemas to {\ttfamily Schema} constructor \#7218
\item feat(populate)\+: add {\ttfamily clone} option to ensure multiple docs don\textquotesingle{}t share the same populated doc \#3258
\item feat(query)\+: add {\ttfamily Query\+::max\+Time\+M\+S()} helper \#7254
\item fix(query)\+: deprecate broken {\ttfamily Aggregate\+::add\+Cursor\+Flag()} \#7120
\item docs(populate)\+: fix incorrect example \#7335 \href{https://github.com/zcfan}{\tt zcfan}
\item docs(middleware)\+: add {\ttfamily find\+One\+And\+Delete} to middleware list \#7327 \href{https://github.com/danielkesselberg}{\tt danielkesselberg}
\end{DoxyItemize}

\section*{5.\+3.\+16 / 2018-\/12-\/11 }


\begin{DoxyItemize}
\item fix(document)\+: handle {\ttfamily \+\_\+\+\_\+proto\+\_\+\+\_\+} in queries \#7290
\item fix(document)\+: use Array.\+is\+Array() instead of checking constructor name for arrays \#7290
\item docs(populate)\+: add section about what happens when no document matches \#7279
\item fix(mongoose)\+: avoid crash on `import mongoose, \{Schema\} from \textquotesingle{}mongoose'\`{} \#5648
\end{DoxyItemize}

\section*{5.\+3.\+15 / 2018-\/12-\/05 }


\begin{DoxyItemize}
\item fix(query)\+: handle {\ttfamily or\+Fail()} with {\ttfamily find\+One\+And\+Update()} and {\ttfamily find\+One\+And\+Delete()} \#7297 \#7280
\item fix(document)\+: make {\ttfamily save()} succeed if strict\+: false with a {\ttfamily collection} property \#7276
\item fix(document)\+: add {\ttfamily flatten\+Maps} option for to\+Object() \#7274
\item docs(document)\+: document flatten\+Maps option \#7274
\item fix(populate)\+: support populating individual subdoc path in document array \#7273
\item fix(populate)\+: ensure {\ttfamily model} option overrides {\ttfamily ref\+Path} \#7273
\item fix(map)\+: don\textquotesingle{}t call subdoc setters on init \#7272
\item fix(document)\+: use internal get() helper instead of lodash.\+get to support {\ttfamily null} projection param \#7271
\item fix(document)\+: continue running validate\+Sync() for all elements in doc array after first error \#6746
\end{DoxyItemize}

\section*{5.\+3.\+14 / 2018-\/11-\/27 }


\begin{DoxyItemize}
\item docs(api)\+: use {\ttfamily open\+Uri()} instead of legacy {\ttfamily open()} \#7277 \href{https://github.com/artemjackson}{\tt artemjackson}
\item fix(document)\+: don\textquotesingle{}t mark date underneath single nested as modified if setting to string \#7264
\item fix(update)\+: set timestamps on subdocs if not using \$set with no overwrite \#7261
\item fix(document)\+: use symbol instead of {\ttfamily \+\_\+\+\_\+parent} so user code doesn\textquotesingle{}t conflict \#7230
\item fix(mongoose)\+: allow using {\ttfamily mongoose.\+model()} without context, like `import \{model\} from \textquotesingle{}mongoose'\`{} \#3768
\end{DoxyItemize}

\section*{5.\+3.\+13 / 2018-\/11-\/20 }


\begin{DoxyItemize}
\item fix\+: bump mongodb driver -\/$>$ 3.\+1.\+10 \#7266
\item fix(populate)\+: support setting a model as a {\ttfamily ref} \#7253
\item docs(schematype)\+: add ref() function to document what is a valid {\ttfamily ref} path in a schematype \#7253
\item fix(array)\+: clean modified subpaths when calling {\ttfamily splice()} \#7249
\item docs(compatibility)\+: don\textquotesingle{}t show Mongoose 4.\+11 as compatible with Mongo\+DB 3.\+6 re\+: Mongo\+DB\textquotesingle{}s official compatibility table \#7248 \href{https://github.com/a-harrison}{\tt a-\/harrison}
\item fix(document)\+: report correct validation error if doc array set to primitive \#7242
\item fix(mongoose)\+: print warning when including server-\/side lib with jest jsdom environment \#7240
\end{DoxyItemize}

\section*{5.\+3.\+12 / 2018-\/11-\/13 }


\begin{DoxyItemize}
\item docs(compatibility)\+: don\textquotesingle{}t show Mongoose 4.\+11 as compatible with Mongo\+DB 3.\+6 re\+: Mongo\+DB\textquotesingle{}s official compatibility table \#7238 \href{https://github.com/a-harrison}{\tt a-\/harrison}
\item fix(populate)\+: use {\ttfamily instanceof} rather than class name for comparison \#7237 \href{https://github.com/ivanseidel}{\tt ivanseidel}
\item docs(api)\+: make options show up as a nested list \#7232
\item fix(document)\+: don\textquotesingle{}t mark array as modified on init if doc array has default \#7227
\item docs(api)\+: link to bulk write result object in {\ttfamily bulk\+Write()} docs \#7225
\end{DoxyItemize}

\section*{5.\+3.\+11 / 2018-\/11-\/09 }


\begin{DoxyItemize}
\item fix(model)\+: make parent pointers non-\/enumerable so they don\textquotesingle{}t crash J\+S\+O\+N.\+stringify() \#7220
\item fix(document)\+: allow saving docs with nested props with \textquotesingle{}.\textquotesingle{} using {\ttfamily check\+Keys\+: false} \#7144
\item docs(lambda)\+: use async/await with lambda example \#7019
\end{DoxyItemize}

\section*{5.\+3.\+10 / 2018-\/11-\/06 }


\begin{DoxyItemize}
\item fix(discriminator)\+: support reusing a schema for multiple discriminators \#7200
\item fix(cursor)\+: handle {\ttfamily lean(false)} correctly with query cursors \#7197
\item fix(document)\+: avoid manual populate if {\ttfamily ref} not set \#7193
\item fix(schema)\+: handle schema without {\ttfamily .base} for browser build \#7170
\item docs\+: add further reading section
\end{DoxyItemize}

\section*{5.\+3.\+9 / 2018-\/11-\/02 }


\begin{DoxyItemize}
\item fix\+: upgrade bson dep -\/$>$ 1.\+1.\+0 to match mongodb-\/core \#7213 \href{https://github.com/NewEraCracker}{\tt New\+Era\+Cracker}
\item docs(api)\+: fix broken anchor link \#7210 \href{https://github.com/gfranco93}{\tt gfranco93}
\item fix\+: don\textquotesingle{}t set parent timestamps because a child has timestamps set to false \#7203 \#7202 \href{https://github.com/lineus}{\tt lineus}
\item fix(document)\+: run setter only once when doing {\ttfamily .set()} underneath a single nested subdoc \#7196
\item fix(document)\+: surface errors in subdoc pre validate \#7187
\item fix(query)\+: run default functions after hydrating the loaded document \#7182
\item fix(query)\+: handle strict\+Query\+: \textquotesingle{}throw\textquotesingle{} with nested path correctly \#7178
\item fix(update)\+: update timestamps on replace\+One() \#7152
\item docs(transactions)\+: add example of aborting a transaction \#7113
\end{DoxyItemize}

\section*{5.\+3.\+8 / 2018-\/10-\/30 }


\begin{DoxyItemize}
\item fix\+: bump mongodb driver -\/$>$ 3.\+1.\+8 to fix connecting to +srv uri with no credentials \#7191 \#6881 \href{https://github.com/lineus}{\tt lineus}
\item fix(document)\+: sets defaults correctly in child docs with projection \#7159
\item fix(mongoose)\+: handle setting custom type on a separate mongoose global \#7158
\item fix\+: add unnecessary files to npmignore \#7157
\item fix(model)\+: set session when creating new subdoc \#7104
\end{DoxyItemize}

\section*{5.\+3.\+7 / 2018-\/10-\/26 }


\begin{DoxyItemize}
\item fix(browser)\+: fix buffer usage in browser build \#7184 \#7173 \href{https://github.com/lineus}{\tt lineus}
\item fix(document)\+: make depopulate() work on populate virtuals and unpopulated docs \#7180 \#6075 \href{https://github.com/lineus}{\tt lineus}
\item fix(document)\+: only pass properties as 2nd arg to custom validator if {\ttfamily props\+Parameter} set \#7145
\item docs(schematypes)\+: add note about nested paths with {\ttfamily type} getting converted to mixed \#7143
\item fix(update)\+: run update validators on nested doc when \$set on an array \#7135
\item fix(update)\+: copy exact errors from array subdoc validation into top-\/level update validator error \#7135
\end{DoxyItemize}

\section*{5.\+3.\+6 / 2018-\/10-\/23 }


\begin{DoxyItemize}
\item fix(cursor)\+: fix undefined transforms error
\end{DoxyItemize}

\section*{5.\+3.\+5 / 2018-\/10-\/22 }


\begin{DoxyItemize}
\item fix(model)\+: make sure version\+Key on {\ttfamily replace\+One()} always gets set at top level to prevent cast errors \#7138
\item fix(cursor)\+: handle non-\/boolean lean option in {\ttfamily each\+Async()} \#7137
\item fix(update)\+: correct cast update that overwrites a map \#7111
\item fix(schema)\+: handle arrays of mixed correctly \#7109
\item fix(query)\+: use correct path when getting schema for child timestamp update \#7106
\item fix(document)\+: make {\ttfamily \$session()} propagate sessions to child docs \#7104
\item fix(document)\+: handle user setting `schema.\+options.\+strict = \textquotesingle{}throw'\`{} \#7103
\item fix(types)\+: use core Node.\+js buffer prototype instead of safe-\/buffer because safe-\/buffer is broken for Node.\+js 4.\+x \#7102
\item fix(document)\+: handle setting single doc with ref\+Path to document \#7070
\item fix(model)\+: handle array filters when updating timestamps for subdocs \#7032
\end{DoxyItemize}

\section*{5.\+3.\+4 / 2018-\/10-\/15 }


\begin{DoxyItemize}
\item fix(schema)\+: make {\ttfamily add()} and {\ttfamily remove()} return the schema instance \#7131 \href{https://github.com/lineus}{\tt lineus}
\item fix(query)\+: don\textquotesingle{}t require passing model to {\ttfamily cast()} \#7118
\item fix\+: support {\ttfamily use\+Find\+And\+Modify} as a connection-\/level option \#7110 \href{https://github.com/lineus}{\tt lineus}
\item fix(populate)\+: handle plus path projection with virtual populate \#7050
\item fix(schema)\+: allow using Object\+Id type as schema path type \#7049
\item docs(schematypes)\+: elaborate on how schematypes relate to types \#7049
\item docs(deprecations)\+: add note about gridstore deprecation \#6922
\item docs(guide)\+: add store\+Subdoc\+Validation\+Error option to guide \#6802
\end{DoxyItemize}

\section*{5.\+3.\+3 / 2018-\/10-\/12 }


\begin{DoxyItemize}
\item fix(document)\+: enable storing mongoose validation error in Mongo\+DB by removing {\ttfamily \$is\+Validator\+Error} property \#7127
\item docs(api)\+: clarify that aggregate triggers aggregate middleware \#7126 \href{https://github.com/lineus}{\tt lineus}
\item fix(connection)\+: handle Model.\+init() when an index exists on schema + auto\+Create == true \#7122 \href{https://github.com/jesstelford}{\tt jesstelford}
\item docs(middleware)\+: explain how to switch between document and query hooks for {\ttfamily remove()} \#7093
\item docs(api)\+: clean up encoding issues in Schema\+Type.\+prototype.\+validate docs \#7091
\item docs(schema)\+: add schema types to api docs and update links on schematypes page \#7080 \#7076 \href{https://github.com/lineus}{\tt lineus}
\item docs(model)\+: expand model constructor docs with examples and {\ttfamily fields} param \#7077
\item docs(aggregate)\+: remove incorrect description of no\+Cursor\+Timeout and add description of aggregate options \#7056
\item docs\+: re-\/add array type to A\+PI docs \#7027
\item docs(connections)\+: add note about {\ttfamily members.\+host} errors due to bad host names in replica set \#7006
\end{DoxyItemize}

\section*{5.\+3.\+2 / 2018-\/10-\/07 }


\begin{DoxyItemize}
\item fix(query)\+: make sure to return correct result from {\ttfamily or\+Fail()} \#7101 \#7099 \href{https://github.com/gsandorx}{\tt gsandorx}
\item fix(schema)\+: handle {\ttfamily \{ timestamps\+: false \}} correctly \#7088 \#7074 \href{https://github.com/lineus}{\tt lineus}
\item docs\+: fix markdown in options.\+use\+Create\+Index documentation \#7085 \href{https://github.com/Cyral}{\tt Cyral}
\item docs(schema)\+: correct field name in timestamps example \#7082 \href{https://github.com/kizmo04}{\tt kizmo04}
\item docs(migrating\+\_\+to\+\_\+5)\+: correct markdown syntax \#7078 \href{https://github.com/gwuah}{\tt gwuah}
\item fix(connection)\+: add use\+Find\+And\+Modify option in connect \#7059 \href{https://github.com/NormanPerrin}{\tt Norman\+Perrin}
\item fix(document)\+: dont mark single nested path as modified if setting to the same value \#7048
\item fix(populate)\+: use Weak\+Map to track lean populate models rather than lean\+Populate\+Symbol \#7026
\item fix(mongoose)\+: avoid unhandled rejection when {\ttfamily mongoose.\+connect()} errors with a callback \#6997
\item fix(mongoose)\+: isolate Schema.\+Types between custom Mongoose instances \#6933
\end{DoxyItemize}

\section*{5.\+3.\+1 / 2018-\/10-\/02 }


\begin{DoxyItemize}
\item fix(\+Change\+Stream)\+: expose driver\textquotesingle{}s {\ttfamily close()} function \#7068 \#7022 \href{https://github.com/lineus}{\tt lineus}
\item fix(model)\+: avoid printing warning if {\ttfamily \+\_\+id} index is set to \char`\"{}hashed\char`\"{} \#7053
\item fix(populate)\+: handle nested populate underneath lean array correctly \#7052
\item fix(update)\+: make timestamps not crash on a null or undefined update \#7041
\item docs(schematypes+validation)\+: clean up links from validation docs to schematypes docs \#7040
\item fix(model)\+: apply timestamps to nested docs in bulk\+Write() \#7032
\item docs(populate)\+: rewrite ref\+Path docs to be simpler and more direct \#7013
\item docs(faq)\+: explain why destructuring imports are not supported in F\+AQ \#7009
\end{DoxyItemize}

\section*{5.\+3.\+0 / 2018-\/09-\/28 }


\begin{DoxyItemize}
\item feat(mongoose)\+: support `mongoose.\+set(\textquotesingle{}debug', Writable\+Stream)\`{} so you can pipe debug to stderr, file, or network \#7018
\item feat(query)\+: add use\+Nested\+Strict option \#6973 \#5144 \href{https://github.com/lineus}{\tt lineus}
\item feat(query)\+: add get\+Populated\+Paths helper to Query.\+prototype \#6970 \#6677 \href{https://github.com/lineus}{\tt lineus}
\item feat(model)\+: add {\ttfamily create\+Collection()} helper to make transactions easier \#6948 \#6711 \href{https://github.com/Fonger}{\tt Fonger}
\item feat(schema)\+: add ability to do {\ttfamily schema.\+add(other\+Schema)} to merge hooks, virtuals, etc. \#6897
\item feat(query)\+: add {\ttfamily or\+Fail()} helper that throws an error if no documents match {\ttfamily filter} \#6841
\item feat(mongoose)\+: support global to\+Object and to\+J\+S\+ON \#6815
\item feat(connection)\+: add delete\+Model() to remove a model from a connection \#6813
\item feat(mongoose)\+: add top-\/level mongoose.\+Object\+Id, mongoose.\+Decimal128 for easier schema declarations \#6760
\item feat(aggregate+query)\+: support for/await/of (async iterators) \#6737
\item feat(mongoose)\+: add global {\ttfamily now()} function that you can stub for testing timestamps \#6728
\item feat(schema)\+: support {\ttfamily schema.\+pre(\+Reg\+Exp, fn)} and {\ttfamily schema.\+post(\+Reg\+Exp, fn)} \#6680
\item docs(query)\+: add better docs for the {\ttfamily mongoose\+Options()} function \#6677
\item feat(mongoose)\+: add support for global strict object \#6858
\item feat(schema+mongoose)\+: add auto\+Create option to automatically create collections \#6489
\item feat(update)\+: update timestamps on nested subdocs when using {\ttfamily \$set} \#4412
\item feat(query+schema)\+: add query {\ttfamily remove} hook and ability to switch between query {\ttfamily remove} and document {\ttfamily remove} middleware \#3054
\end{DoxyItemize}

\section*{5.\+2.\+18 / 2018-\/09-\/27 }


\begin{DoxyItemize}
\item docs(migrating\+\_\+to\+\_\+5)\+: add note about overwriting filter properties \#7030
\item fix(query)\+: correctly handle `select('+c\textquotesingle{})\`{} if c is not in schema \#7017
\item fix(document)\+: check path exists before checking for required \#6974
\item fix(document)\+: retain user-\/defined key order on initial set with nested docs \#6944
\item fix(populate)\+: handle multiple local\+Fields + foreign\+Fields using {\ttfamily local\+Field\+: function() \{\}} syntax \#5704
\end{DoxyItemize}

\section*{5.\+2.\+17 / 2018-\/09-\/21 }


\begin{DoxyItemize}
\item docs(guide)\+: clarify that Mongoose only increments version\+Key on {\ttfamily save()} and add a workaround for {\ttfamily find\+One\+And\+Update()} \#7038
\item fix(model)\+: correctly handle {\ttfamily create\+Index} option to {\ttfamily ensure\+Indexes()} \#7036 \#6922 \href{https://github.com/lineus}{\tt lineus}
\item docs(migrating\+\_\+to\+\_\+5)\+: add a note about changing debug output from stderr to stdout \#7034 \#7018 \href{https://github.com/lineus}{\tt lineus}
\item fix(query)\+: add {\ttfamily set\+Update()} to allow overwriting update without changing op \#7024 \#7012 \href{https://github.com/lineus}{\tt lineus}
\item fix(update)\+: find top-\/level version key even if there are {\ttfamily \$} operators in the update \#7003
\item docs(model+query)\+: explain which operators {\ttfamily count()} supports that {\ttfamily count\+Documents()} doesn\textquotesingle{}t \#6911
\end{DoxyItemize}

\section*{5.\+2.\+16 / 2018-\/09-\/19 }


\begin{DoxyItemize}
\item fix(index)\+: use dynamic require only when needed for better webpack support \#7014 \#7010 \href{https://github.com/jaydp17}{\tt jaydp17}
\item fix(map)\+: handle arrays of mixed maps \#6995
\item fix(populate)\+: leave just\+One as null if populating underneath a Mixed type \#6985
\item fix(populate)\+: add just\+One option to allow overriding any bugs with just\+One \#6985
\item fix(query)\+: add option to skip adding timestamps to an update \#6980
\item docs(model+schematype)\+: improve docs about background indexes and init() \#6966
\item fix\+: bump mongodb -\/$>$ 3.\+1.\+6 to allow connecting to srv url without credentials \#6955 \#6881 \href{https://github.com/lineus}{\tt lineus}
\item fix(connection)\+: allow specifying {\ttfamily use\+Create\+Index} at the connection level, overrides global-\/level \#6922
\item fix(schema)\+: throw a helpful error if setting {\ttfamily ref} to an invalid value \#6915
\end{DoxyItemize}

\section*{5.\+2.\+15 / 2018-\/09-\/15 }


\begin{DoxyItemize}
\item fix(populate)\+: handle virtual just\+One correctly if it isn\textquotesingle{}t set \#6988
\item fix(populate)\+: consistently use lowercase {\ttfamily model} instead of {\ttfamily Model} so double-\/populating works with existing docs \#6978
\item fix(model)\+: allow calling {\ttfamily Model.\+init()} again after calling {\ttfamily drop\+Database()} \#6967
\item fix(populate)\+: find correct just\+One when double-\/populating underneath an array \#6798
\item docs(webpack)\+: make webpack docs use es2015 preset for correct libs and use acorn to test output is valid E\+S5 \#6740
\item fix(populate)\+: add select\+Populated\+Paths option to opt out of auto-\/adding {\ttfamily populate()}-\/ed fields to {\ttfamily select()} \#6546
\item fix(model)\+: set timestamps on bulk\+Write {\ttfamily insert\+One} and {\ttfamily replace\+One} \#5708
\end{DoxyItemize}

\section*{5.\+2.\+14 / 2018-\/09-\/09 }


\begin{DoxyItemize}
\item docs\+: fix wording on promise docs to not imply queries only return promises \#6983 \#6982 \href{https://github.com/lineus}{\tt lineus}
\item fix(map)\+: throw Type\+Error if keys are not string \#6956
\item fix(document)\+: ensure you can {\ttfamily validate()} a child doc \#6931
\item fix(populate)\+: avoid cast error if ref\+Path points to local\+Fields with 2 different types \#6870
\item fix(populate)\+: handle populating already-\/populated paths \#6839
\item fix(schematype)\+: make Object\+Ids handle ref\+Paths when checking required \#6714
\item fix(model)\+: set timestamps on bulk\+Write() updates \#5708
\end{DoxyItemize}

\section*{5.\+2.\+13 / 2018-\/09-\/04 }


\begin{DoxyItemize}
\item fix(map)\+: throw Type\+Error if keys are not string \#6968 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(update)\+: make array op casting work with strict\+:false and \{\} \#6962 \#6952 \href{https://github.com/lineus}{\tt lineus}
\item fix(document)\+: add doc.\+delete\+One(), doc.\+update\+One(), doc.\+replace\+One() re\+: deprecation warnings \#6959 \#6940 \href{https://github.com/lineus}{\tt lineus}
\item docs(faq+schematypes)\+: add note about map keys needing to be strings \#6957 \#6956 \href{https://github.com/lineus}{\tt lineus}
\item fix(schematype)\+: remove unused if statement \#6950 \#6949 \href{https://github.com/cacothi}{\tt cacothi}
\item docs\+: add /docs/deprecations.html for dealing with Mongo\+DB driver deprecation warnings \#6922
\item fix(populate)\+: handle ref\+Path where first element in array has no ref\+Path \#6913
\item fix(mongoose)\+: allow setting use\+Create\+Index option after creating a model but before initial connection succeeds \#6890
\item fix(update\+Validators)\+: ensure \$pull validators always get an array \#6889
\end{DoxyItemize}

\section*{5.\+2.\+12 / 2018-\/08-\/30 }


\begin{DoxyItemize}
\item fix(document)\+: disallow setting {\ttfamily constructor} and {\ttfamily prototype} if strict mode false
\end{DoxyItemize}

\section*{4.\+13.\+17 / 2018-\/08-\/30 }


\begin{DoxyItemize}
\item fix(document)\+: disallow setting {\ttfamily constructor} and {\ttfamily prototype} if strict mode false
\end{DoxyItemize}

\section*{5.\+2.\+11 / 2018-\/08-\/30 }


\begin{DoxyItemize}
\item fix(document)\+: disallow setting {\bfseries proto} if strict mode false
\item fix(document)\+: run document middleware on docs embedded in maps \#6945 \#6938 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(query)\+: make cast\+For\+Query return a Cast\+Error \#6943 \#6927 \href{https://github.com/lineus}{\tt lineus}
\item fix(query)\+: use correct {\ttfamily this} scope when casting query with legacy 2dsphere pairs defined in schema \#6939 \#6937 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(document)\+: avoid crash when calling {\ttfamily get()} on deeply nested subdocs \#6929 \#6925 \href{https://github.com/jakemccloskey}{\tt jakemccloskey}
\item fix(plugins)\+: make save\+Subdocs execute child post save hooks {\itshape after} the actual save \#6926
\item docs\+: add db\+Name to api docs for .connect() \#6923 \href{https://github.com/p722}{\tt p722}
\item fix(populate)\+: convert to array when schema specifies array, even if doc doesn\textquotesingle{}t have an array \#6908
\item fix(populate)\+: handle {\ttfamily just\+One} virtual populate underneath array \#6867
\item fix(model)\+: dont set version\+Key on upsert if it is already {\ttfamily \$set} \#5973
\end{DoxyItemize}

\section*{4.\+13.\+16 / 2018-\/08-\/30 }


\begin{DoxyItemize}
\item fix(document)\+: disallow setting {\bfseries proto} if strict mode false
\item feat(error)\+: backport adding modified paths to Version\+Error \#6928 \href{https://github.com/freewil}{\tt freewil}
\end{DoxyItemize}

\section*{5.\+2.\+10 / 2018-\/08-\/27 }


\begin{DoxyItemize}
\item fix\+: bump mongodb driver -\/$>$ 3.\+1.\+4 \#6920 \#6903 \#6884 \#6799 \#6741 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(model)\+: track {\ttfamily session} option for {\ttfamily save()} as the document\textquotesingle{}s {\ttfamily \$session()} \#6909
\item fix(query)\+: add Query.\+get\+Options() helper \#6907 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(document)\+: ensure array atomics get cleared after save() \#6900
\item fix(aggregate)\+: add missing redact and read\+Concern helpers \#6895 \href{https://github.com/Fonger}{\tt Fonger}
\item fix\+: add global option `mongoose.\+set(\textquotesingle{}use\+Create\+Index', true){\ttfamily to avoid ensure\+Index deprecation warning \#6890}
\item {\ttfamily fix(query)\+: use}projection{\ttfamily option to avoid deprecation warnings \#6888 \#6880 \mbox{[}Fonger\mbox{]}(\href{https://github.com/Fonger}{\tt https\+://github.\+com/\+Fonger})}
\item {\ttfamily fix(query)\+: use}find\+One\+And\+Replace(){\ttfamily internally if using}overwrite\+: true{\ttfamily with}find\+One\+And\+Update()\`{} \#6888 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(document)\+: ensure required cache gets cleared correctly between subsequent saves \#6892
\item fix(aggregate)\+: support session chaining correctly \#6886 \#6885 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(query)\+: use {\ttfamily projection} instead of {\ttfamily fields} internally for {\ttfamily find()} and {\ttfamily find\+One()} to avoid deprecation warning \#6880
\item fix(populate)\+: add {\ttfamily getters} option to opt in to calling getters on populate \#6844
\end{DoxyItemize}

\section*{5.\+2.\+9 / 2018-\/08-\/17 }


\begin{DoxyItemize}
\item fix(document)\+: correctly propagate write concern options in save() \#6877 \href{https://github.com/Fonger}{\tt Fonger}
\item fix\+: upgrade mongodb driver -\/$>$ 3.\+1.\+3 for numerous fixes \#6869 \#6843 \#6692 \#6670 \href{https://github.com/simllll}{\tt simllll}
\item fix\+: correct {\ttfamily this} scope of default functions for Document\+Array and Array \#6868 \#6840 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(types)\+: support casting J\+S\+ON form of buffers \#6866 \#6863 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(query)\+: get global run\+Validators option correctly \#6865 \#6578
\item fix(query)\+: add Query.\+prototype.\+set\+Query() analogous to {\ttfamily get\+Query()} \#6855 \#6854
\item docs(connections)\+: add note about the {\ttfamily family} option for I\+Pv4 vs I\+Pv6 and add port to example U\+R\+Is \#6784
\item fix(query)\+: get global run\+Validators option correctly \#6578
\end{DoxyItemize}

\section*{4.\+13.\+15 / 2018-\/08-\/14 }


\begin{DoxyItemize}
\item fix(mongoose)\+: add global {\ttfamily use\+Push\+Each} option for easier Mongoose 4.\+x + Mongo\+DB 3.\+6 \#6858
\item chore\+: fix flakey tests for 4.\+x \#6853 \href{https://github.com/Fonger}{\tt Fonger}
\item feat(error)\+: add version number to Version\+Error \#6852 \href{https://github.com/freewil}{\tt freewil}
\end{DoxyItemize}

\section*{5.\+2.\+8 / 2018-\/08-\/13 }


\begin{DoxyItemize}
\item docs\+: update {\ttfamily exec\+Populate()} code example \#6851 \href{https://github.com/WJakub}{\tt W\+Jakub}
\item fix(document)\+: allow passing callback to {\ttfamily exec\+Populate()} \#6851
\item fix(populate)\+: populate with undefined fields without error \#6848 \#6845 \href{https://github.com/Fonger}{\tt Fonger}
\item docs(migrating\+\_\+to\+\_\+5)\+: Add {\ttfamily object\+Id\+Getter} option docs \#6842 \href{https://github.com/jwalton}{\tt jwalton}
\item chore\+: run lint in parallel and only on Node.\+js v10 \#6836 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(populate)\+: throw helpful error if ref\+Path excluded in query \#6834
\item docs(migrating\+\_\+to\+\_\+5)\+: add note about removing run\+Setters\+On\+Query \#6832
\item fix\+: use safe-\/buffer to avoid buffer deprecation errors in Node.\+js 10 \#6829 \href{https://github.com/Fonger}{\tt Fonger}
\item docs(query)\+: fix broken links \#6828 \href{https://github.com/yaynick}{\tt yaynick}
\item docs(defaults)\+: clarify that defaults only run on undefined \#6827
\item chore\+: fix flakey tests \#6824 \href{https://github.com/Fonger}{\tt Fonger}
\item docs\+: fix custom inspect function deprecation warning in Node.\+js 10 \#6821 \href{https://github.com/yelworc}{\tt yelworc}
\item fix(document)\+: ensure subdocs get set to init state after save() so validators can run again \#6818
\item fix(query)\+: make sure embedded query casting always throws a Cast\+Error \#6803
\item fix(document)\+: ensure {\ttfamily required} function only gets called once when validating \#6801
\item docs(connections)\+: note that you must specify port if using {\ttfamily use\+New\+Url\+Parser\+: true} \#6789
\item fix(populate)\+: support {\ttfamily options.\+match} in virtual populate schema definition \#6787
\item fix(update)\+: strip out virtuals from updates if strict\+: \textquotesingle{}throw\textquotesingle{} rather than returning an error \#6731
\end{DoxyItemize}

\section*{5.\+2.\+7 / 2018-\/08-\/06 }


\begin{DoxyItemize}
\item fix(model)\+: check {\ttfamily expire\+After\+Seconds} option when diffing indexes in sync\+Indexes() \#6820 \#6819 \href{https://github.com/christopherhex}{\tt christopherhex}
\item chore\+: fix some common test flakes in travis \#6816 \href{https://github.com/Fonger}{\tt Fonger}
\item chore\+: bump eslint and webpack to avoid bad versions of eslint-\/scope \#6814
\item test(model)\+: add delay to session tests to improve pass rate \#6811 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(model)\+: support options in {\ttfamily delete\+Many} \#6810 \href{https://github.com/Fonger}{\tt Fonger}
\item fix(query)\+: don\textquotesingle{}t use \$each when pushing an array into an array \#6809 \href{https://github.com/lineus}{\tt lineus}
\item chore\+: bump mquery so eslint isn\textquotesingle{}t a prod dependency \#6800
\item fix(populate)\+: correctly get schema type when calling {\ttfamily populate()} on already populated path \#6798
\item fix(populate)\+: propagate read\+Concern options in populate from parent query \#6792 \#6785 \href{https://github.com/Fonger}{\tt Fonger}
\item docs(connection)\+: add description of use\+New\+Url\+Parser option \#6789
\item fix(query)\+: make select(\textquotesingle{}+path\textquotesingle{}) a no-\/op if no select prop in schema \#6785
\item docs(schematype+validation)\+: document using function syntax for custom validator message \#6772
\item fix(update)\+: throw Cast\+Error if updating with {\ttfamily \$inc\+: null} \#6770
\item fix(connection)\+: throw helpful error when calling {\ttfamily create\+Connection(undefined)} \#6763
\end{DoxyItemize}

\section*{5.\+2.\+6 / 2018-\/07-\/30 }


\begin{DoxyItemize}
\item fix(document)\+: don\textquotesingle{}t double-\/call deeply nested custom getters when using {\ttfamily get()} \#6779 \#6637
\item fix(query)\+: upgrade mquery for read\+Concern() helper \#6777
\item docs(schematypes)\+: clean up typos \#6773 \href{https://github.com/sajadtorkamani}{\tt sajadtorkamani}
\item refactor(browser)\+: fix webpack warnings \#6771 \#6705
\item fix(populate)\+: make error reported when no {\ttfamily local\+Field} specified catchable \#6767
\item docs(connection)\+: use correct form in create\+Connection example \#6766 \href{https://github.com/lineus}{\tt lineus}
\item fix(connection)\+: throw helpful error when using legacy {\ttfamily mongoose.\+connect()} syntax \#6756
\item fix(document)\+: handle overwriting {\ttfamily \$session} in {\ttfamily exec\+Populate()} \#6754
\item fix(query)\+: propagate top-\/level session down to {\ttfamily populate()} \#6754
\item fix(aggregate)\+: add {\ttfamily session()} helper for consistency with query api \#6752
\item fix(map)\+: avoid infinite recursion when update overwrites a map \#6750
\item fix(model)\+: be consistent about passing noop callback to mongoose.\+model() {\ttfamily init()} as well as db.\+model() \#6707
\end{DoxyItemize}

\section*{5.\+2.\+5 / 2018-\/07-\/23 }


\begin{DoxyItemize}
\item fix(boolean)\+: expose {\ttfamily convert\+To\+True} and {\ttfamily convert\+To\+False} for custom boolean casting \#6758
\item docs(schematypes)\+: add note about what values are converted to booleans \#6758
\item fix(document)\+: fix(document)\+: report cast\+Error when setting single nested doc to array \#6753
\item docs\+: prefix mongoose.\+Schema call with new operator \#6751 \href{https://github.com/sajadtorkamani}{\tt sajadtorkamani}
\item docs(query)\+: add examples and links to schema write\+Concern option for write\+Concern helpers \#6748
\item docs(middleware)\+: clarify that init middleware is sync \#6747
\item perf(model)\+: create error rather than modifying stack for source map perf \#6735
\item fix(model)\+: throw helpful error when passing object to aggregate() \#6732
\item fix(model)\+: pass Model instance as context to apply\+Getters when calling getters for virtual populate \#6726 \href{https://github.com/lineus}{\tt lineus}
\item fix(documentarray)\+: remove {\ttfamily is\+New} and {\ttfamily save} listeners on Cast\+Error because otherwise they never get removed \#6723
\item docs(model+query)\+: clarify when to use {\ttfamily count\+Documents()} vs {\ttfamily estimated\+Document\+Count()} \#6713
\item fix(populate)\+: correctly set virtual nested\+Schema\+Path when calling populate() multiple times \#6644
\item docs(connections)\+: add note about the {\ttfamily family} option for I\+Pv4 vs I\+Pv6 and add port to example U\+R\+Is \#6566
\end{DoxyItemize}

\section*{5.\+2.\+4 / 2018-\/07-\/16 }


\begin{DoxyItemize}
\item docs\+: Model.\+insert\+Many raw\+Result option in api docs \#6724 \href{https://github.com/lineus}{\tt lineus}
\item docs\+: fix typo on migrating to 5 guide \#6722 \href{https://github.com/iagowp}{\tt iagowp}
\item docs\+: update doc about keepalive \#6719 \#6718 \href{https://github.com/simllll}{\tt simllll}
\item fix\+: ensure debug mode doesn\textquotesingle{}t crash with sessions \#6712
\item fix(document)\+: report cast\+Error when setting single nested doc to primitive value \#6710
\item fix(connection)\+: throw helpful error if using {\ttfamily new db.\+model(foo)(bar)} \#6698
\item fix(model)\+: throw readable error with better stack trace when non-\/cb passed to \$wrap\+Callback() \#6640
\end{DoxyItemize}

\section*{5.\+2.\+3 / 2018-\/07-\/11 }


\begin{DoxyItemize}
\item fix(populate)\+: if a getter is defined on the local\+Field, use it when populating \#6702 \#6618 \href{https://github.com/lineus}{\tt lineus}
\item docs(schema)\+: add example of nested aliases \#6671
\item fix(query)\+: add {\ttfamily session()} function to queries to avoid positional argument mistakes \#6663
\item docs(transactions)\+: use new session() helper to make positional args less confusing \#6663
\item fix(query+model+schema)\+: add support for {\ttfamily write\+Concern} option and write\+Concern helpers \#6620
\item docs(guide)\+: add {\ttfamily write\+Concern} option and re-\/add description for {\ttfamily safe} option \#6620
\item docs(schema)\+: fix broken A\+PI links \#6619
\item docs(connections)\+: add information re\+: socket\+Timeout\+MS and connect\+Timeout\+MS \#4789
\end{DoxyItemize}

\section*{5.\+2.\+2 / 2018-\/07-\/08 }


\begin{DoxyItemize}
\item fix(model+query)\+: add missing estimated\+Document\+Count() function \#6697
\item docs(faq)\+: improve array-\/defaults section \#6695 \href{https://github.com/lineus}{\tt lineus}
\item docs(model)\+: fix count\+Documents() docs, bad copy/paste from count() docs \#6694 \#6643
\item fix(connection)\+: add {\ttfamily start\+Session()} helper to connection and mongoose global \#6689
\item fix\+: upgrade mongodb driver -\/$>$ 3.\+1.\+1 for count\+Documents() fix \#6688 \#6666
\item docs(compatibility)\+: add Mongo\+DB 4 range \#6685
\item fix(populate)\+: add ability to define ref\+Path as a function \#6683 \href{https://github.com/lineus}{\tt lineus}
\item docs\+: add rudimentary transactions guide \#6672
\item fix(update)\+: make set\+Defaults\+On\+Insert handle nested subdoc updates with deeply nested defaults \#6665
\item docs\+: use latest acquit-\/ignore to handle examples that start with acquit\+:ignore\+:start \#6657
\item fix(validation)\+: format {\ttfamily properties.\+message} as well as {\ttfamily message} \#6621
\end{DoxyItemize}

\section*{5.\+2.\+1 / 2018-\/07-\/03 }


\begin{DoxyItemize}
\item fix(connection)\+: allow setting the mongodb driver\textquotesingle{}s use\+New\+Url\+Parser option, default to false \#6656 \#6648 \#6647
\item fix(model)\+: only warn on custom \+\_\+id index if index only has \+\_\+id key \#6650
\end{DoxyItemize}

\section*{5.\+2.\+0 / 2018-\/07-\/02 }


\begin{DoxyItemize}
\item feat(model)\+: add {\ttfamily count\+Documents()} \#6643
\item feat(model)\+: make ensure\+Indexes() fail if specifying an index on \+\_\+id \#6605
\item feat(mongoose)\+: add {\ttfamily object\+Id\+Getter} option to remove Object\+Id.\+prototype.\+\_\+id \#6588
\item feat\+: upgrade mongodb -\/$>$ 3.\+1.\+0 for full Mongo\+DB 4.\+0 support \#6579
\item feat(query)\+: support {\ttfamily run\+Validators} as a global option \#6578
\item perf(schema)\+: use Weak\+Map instead of array for schema stack \#6503
\item feat(model)\+: decorate unique discriminator indexes with partial\+Filter\+Expressions \#6347
\item feat(model)\+: add {\ttfamily sync\+Indexes()}, drops indexes that aren\textquotesingle{}t in schema \#6281
\item feat(document)\+: add default getter/setter if virtual doesn\textquotesingle{}t have one \#6262
\item feat(discriminator)\+: support discriminators on nested doc arrays \#6202
\item feat(update)\+: add {\ttfamily Query.\+prototype.\+set()} \#5770
\end{DoxyItemize}

\section*{5.\+1.\+8 / 2018-\/07-\/02 }


\begin{DoxyItemize}
\item fix\+: don\textquotesingle{}t throw Type\+Error if calling save() after original save() failed with push() \#6638 \href{https://github.com/evanhenke}{\tt evanhenke}
\item fix(query)\+: add explain() helper and don\textquotesingle{}t hydrate explain output \#6625
\item docs(query)\+: fix {\ttfamily set\+Options()} lists \#6624
\item docs\+: add geojson docs \#6607
\item fix\+: bump mongodb -\/$>$ 3.\+0.\+11 to avoid cyclic dependency error with retry\+Writes \#6109
\end{DoxyItemize}

\section*{5.\+1.\+7 / 2018-\/06-\/26 }


\begin{DoxyItemize}
\item docs\+: add npm badge to readme \#6623 \href{https://github.com/VFedyk}{\tt V\+Fedyk}
\item fix(document)\+: don\textquotesingle{}t throw parallel save error if post save hooks in parallel \#6614 \#6611 \href{https://github.com/lineus}{\tt lineus}
\item fix(populate)\+: allow dynamic ref to handle $>$1 model get\+Models\+Map\+For\+Populate \#6613 \#6612 \href{https://github.com/jimmytsao}{\tt jimmytsao}
\item fix(document)\+: handle {\ttfamily push()} on triple nested document array \#6602
\item docs(validation)\+: improve update validator doc headers \#6577 \href{https://github.com/joeytwiddle}{\tt joeytwiddle}
\item fix(document)\+: handle document arrays in {\ttfamily modified\+Paths()} with include\+Children option \#5904
\end{DoxyItemize}

\section*{5.\+1.\+6 / 2018-\/06-\/19 }


\begin{DoxyItemize}
\item fix\+: upgrade mongodb -\/$>$ 3.\+0.\+10
\item docs(model+document)\+: clarify that {\ttfamily save()} returns {\ttfamily undefined} if passed a callback \#6604 \href{https://github.com/lineus}{\tt lineus}
\item fix(schema)\+: apply alias when adding fields with .add() \#6593
\item docs\+: add full list of guides and streamline nav \#6592
\item docs(model)\+: add {\ttfamily projection} option to {\ttfamily find\+One\+And\+Update()} \#6590 \href{https://github.com/lineus}{\tt lineus}
\item docs\+: support\+J\+S\+Doc declaration \#6584
\item fix(query)\+: use boolean casting logic for \$exists \#6581
\item fix(query)\+: cast all \$text options to correct values \#6581
\item fix(model)\+: add support synchronous pre hooks for {\ttfamily create\+Model} \#6552 \href{https://github.com/profbiss}{\tt profbiss}
\item docs\+: add note about the {\ttfamily apply\+Plugins\+To\+Discriminators} option \#4965
\end{DoxyItemize}

\section*{5.\+1.\+5 / 2018-\/06-\/11 }


\begin{DoxyItemize}
\item docs(guide)\+: rework query helper example \#6575 \href{https://github.com/lineus}{\tt lineus}
\item fix(populate)\+: handle virtual populate with embedded discriminator under single nested subdoc \#6571
\item docs\+: add string option to projections that call query select \#6563 \href{https://github.com/lineus}{\tt lineus}
\item style\+: use E\+S6 in collection.\+js \#6560 \href{https://github.com/l33ds}{\tt l33ds}
\item fix(populate)\+: add virtual ref function ability get\+Models\+Map\+For\+Populate \#6559 \#6554 \href{https://github.com/lineus}{\tt lineus}
\item docs(queries)\+: fix link \#6557 \href{https://github.com/sun1x}{\tt sun1x}
\item fix(schema)\+: rename indexes -\/$>$ get\+Indexes to avoid webpack duplicate declaration \#6547
\item fix(document)\+: support {\ttfamily to\+String()} as custom method \#6538
\item docs\+: add  for instance methods to be more compliant with J\+S\+Doc \#6516 \href{https://github.com/treble-snake}{\tt treble-\/snake}
\item fix(populate)\+: avoid converting to map when using mongoose-\/deep-\/populate \#6460
\item docs(browser)\+: create new browser docs page \#6061
\end{DoxyItemize}

\section*{5.\+1.\+4 / 2018-\/06-\/04 }


\begin{DoxyItemize}
\item docs(faq)\+: add hr tags for parallel save error \#6550 \href{https://github.com/lineus}{\tt lineus}
\item docs(connection)\+: fix broken link \#6545 \href{https://github.com/iblamefish}{\tt iblamefish}
\item fix(populate)\+: honor subpopulate options \#6539 \#6528 \href{https://github.com/lineus}{\tt lineus}
\item fix(populate)\+: allow population of refpath under array \#6537 \#6509 \href{https://github.com/lineus}{\tt lineus}
\item fix(query)\+: dont treat \$set the same as the other ops in update casting \#6535 \href{https://github.com/lineus}{\tt lineus}
\item fix\+: bump async -\/$>$ 2.\+6.\+1 \#6534 \#6505 \href{https://github.com/lineus}{\tt lineus}
\item fix\+: support using a function as validation error message \#6530 \href{https://github.com/lucandrade}{\tt lucandrade}
\item fix(populate)\+: propagate {\ttfamily lean()} down to subpopulate \#6498 \href{https://github.com/AbdelrahmanHafez}{\tt Abdelrahman\+Hafez}
\item docs(lambda)\+: add info on what happens if database does down between lambda function calls \#6409
\item fix(update)\+: allow updating embedded discriminator path if discriminator key is in filter \#5841
\end{DoxyItemize}

\section*{5.\+1.\+3 / 2018-\/05-\/28 }


\begin{DoxyItemize}
\item fix(document)\+: support set() on path underneath array embedded discriminator \#6526
\item chore\+: update lodash and nsp dev dependencies \#6514 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fix(document)\+: throw readable error when saving the same doc instance more than once in parallel \#6511 \#6456 \#4064 \href{https://github.com/lineus}{\tt lineus}
\item fix(populate)\+: set correct nested\+Schema\+Path for virtual underneath embedded discriminator \#6501 \#6487 \href{https://github.com/lineus}{\tt lineus}
\item docs(query)\+: add section on promises and warning about not mixing promises and callbacks \#6495
\item docs(connection)\+: add concrete example of connecting to multiple hosts \#6492 \href{https://github.com/lineus}{\tt lineus}
\item fix(populate)\+: handle virtual populate under single nested doc under embedded discriminator \#6488
\item fix(schema)\+: collect indexes from embedded discriminators for auto\+Index build \#6485
\item fix(document)\+: handle {\ttfamily doc.\+set()} underneath embedded discriminator \#6482
\item fix(document)\+: handle set() on path under embedded discriminator with object syntax \#6482
\item fix(document)\+: handle setting nested property to object with only non-\/schema properties \#6436
\end{DoxyItemize}

\section*{4.\+13.\+14 / 2018-\/05-\/25 }


\begin{DoxyItemize}
\item fix(model)\+: handle retain\+Key\+Order option in find\+One\+And\+Update() \#6484
\end{DoxyItemize}

\section*{5.\+1.\+2 / 2018-\/05-\/21 }


\begin{DoxyItemize}
\item docs(guide)\+: add missing Schema\+Types \#6490 \href{https://github.com/distancesprinter}{\tt distancesprinter}
\item fix(map)\+: make Mongoose\+Map.\+to\+J\+S\+ON return a serialized object \#6486 \#6478 \href{https://github.com/lineus}{\tt lineus}
\item fix(query)\+: make Custom\+Query inherit from model.\+Query for hooks \#6483 \#6455 \href{https://github.com/lineus}{\tt lineus}
\item fix(document)\+: prevent default falses from being skipped by \$\+\_\+\+\_\+dirty \#6481 \#6477 \href{https://github.com/lineus}{\tt lineus}
\item docs(connection)\+: document {\ttfamily use\+Db()} \#6480
\item fix(model)\+: skip redundant clone in insert\+Many \#6479 \href{https://github.com/d1manson}{\tt d1manson}
\item fix(aggregate)\+: let replace\+Root accept objects as well as strings \#6475 \#6474 \href{https://github.com/lineus}{\tt lineus}
\item docs(model)\+: clarify {\ttfamily emit()} in map\+Reduce and how map/reduce are run \#6465
\item fix(populate)\+: flatten array to handle multi-\/level nested {\ttfamily ref\+Path} \#6457
\item fix(date)\+: cast small numeric strings as years \#6444 \href{https://github.com/AbdelrahmanHafez}{\tt Abdelrahman\+Hafez}
\item fix(populate)\+: remove unmatched ids when using virtual populate on already hydrated document \#6435
\item fix(array)\+: use custom array class to avoid clobbered property names \#6431
\item fix(model)\+: handle hooks for custom methods that return promises \#6385
\end{DoxyItemize}

\section*{4.\+13.\+13 / 2018-\/05-\/17 }


\begin{DoxyItemize}
\item fix(update)\+: stop clobbering \$in when casting update \#6441 \#6339
\item fix\+: upgrade async -\/$>$ 2.\+6.\+0 re\+: security warning
\end{DoxyItemize}

\section*{5.\+1.\+1 / 2018-\/05-\/14 }


\begin{DoxyItemize}
\item docs(schema)\+: add notes in api and guide about schema.\+methods object \#6470 \#6440 \href{https://github.com/lineus}{\tt lineus}
\item fix(error)\+: add modified paths to Version\+Error \#6464 \#6433 \href{https://github.com/paglias}{\tt paglias}
\item fix(populate)\+: only call populate with full param signature when match is not present \#6458 \#6451 \href{https://github.com/lineus}{\tt lineus}
\item docs\+: fix geo\+Near link in migration guide \#6450 \href{https://github.com/kawache}{\tt kawache}
\item fix(discriminator)\+: throw readable error when {\ttfamily create()} with a non-\/existent discriminator key \#6434
\item fix(populate)\+: add {\ttfamily retain\+Null\+Values} option to avoid stripping out null keys \#6432
\item fix(populate)\+: handle populate in embedded discriminators underneath nested paths \#6411
\item docs(model)\+: add change streams and ToC, make terminology more consistent \#5888
\end{DoxyItemize}

\section*{5.\+1.\+0 / 2018-\/05-\/10 }


\begin{DoxyItemize}
\item feat(\+Object\+Id)\+: add {\ttfamily \+\_\+id} getter so you can get a usable id whether or not the path is populated \#6415 \#6115
\item feat(model)\+: add Model.\+start\+Session() \#6362
\item feat(document)\+: add doc.\$session() and set session on doc after query \#6362
\item feat\+: add Map type that supports arbitrary keys \#6287 \#681
\item feat\+: add {\ttfamily clone\+Schemas} option to mongoose global to opt in to always cloning schemas before use \#6274
\item feat(model)\+: add {\ttfamily find\+One\+And\+Delete()} and {\ttfamily find\+By\+Id\+And\+Delete()} \#6164
\item feat(document)\+: support {\ttfamily \$ignore()} on single nested and array subdocs \#6152
\item feat(document)\+: add warning about calling {\ttfamily save()} on subdocs \#6152
\item fix(model)\+: make {\ttfamily save()} use {\ttfamily update\+One()} instead of {\ttfamily update()} \#6031
\item feat(error)\+: add version number to Version\+Error \#5966
\item fix(query)\+: allow {\ttfamily \mbox{[}\mbox{]}} as a value for {\ttfamily \$in} when casting \#5913
\item fix(document)\+: avoid running validators on single nested paths if only a child path is modified \#5885
\item feat(schema)\+: print warning if method conflicts with mongoose internals \#5860
\end{DoxyItemize}

\section*{5.\+0.\+18 / 2018-\/05-\/09 }


\begin{DoxyItemize}
\item fix(update)\+: stop clobbering \$in when casting update \#6441 \#6339 \href{https://github.com/lineus}{\tt lineus}
\item fix\+: upgrade mongodb driver -\/$>$ 3.\+0.\+8 to fix session issue \#6437 \#6357 \href{https://github.com/simllll}{\tt simllll}
\item fix\+: upgrade bson -\/$>$ 1.\+0.\+5 re\+: \href{https://snyk.io/vuln/npm:bson:20180225}{\tt https\+://snyk.\+io/vuln/npm\+:bson\+:20180225} \#6423 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fix\+: look for {\ttfamily value\+Of()} when casting to Decimal128 \#6419 \#6418 \href{https://github.com/lineus}{\tt lineus}
\item fix\+: populate array of objects with space separated paths \#6414 \href{https://github.com/lineus}{\tt lineus}
\item test\+: add coverage for {\ttfamily mongoose.\+pluralize()} \#6412 \href{https://github.com/FastDeath}{\tt Fast\+Death}
\item fix(document)\+: avoid running default functions on init() if path has value \#6410
\item fix(document)\+: allow saving document with {\ttfamily null} id \#6406
\item fix\+: prevent casting of populated docs in document.\+init \#6390 \href{https://github.com/lineus}{\tt lineus}
\item fix\+: remove {\ttfamily to\+Hex\+String()} helper that was added in 5.\+0.\+15 \#6359
\end{DoxyItemize}

\section*{5.\+0.\+17 / 2018-\/04-\/30 }


\begin{DoxyItemize}
\item docs(migration)\+: certain chars in passwords may cause connection failures \#6401 \href{https://github.com/markstos}{\tt markstos}
\item fix(document)\+: don\textquotesingle{}t throw when {\ttfamily push()} on a nested doc array \#6398
\item fix(model)\+: apply hooks to custom methods if specified \#6385
\item fix(schema)\+: support opting out of one timestamp field but not the other for {\ttfamily insert\+Many()} \#6381
\item fix(documentarray)\+: handle {\ttfamily required\+: true} within documentarray definition \#6364
\item fix(document)\+: ensure {\ttfamily is\+New} is set before default functions run on init \#3793
\end{DoxyItemize}

\section*{5.\+0.\+16 / 2018-\/04-\/23 }


\begin{DoxyItemize}
\item docs(api)\+: sort api methods based on their string property \#6374 \href{https://github.com/lineus}{\tt lineus}
\item docs(connection)\+: fix typo in {\ttfamily create\+Collection()} \#6370 \href{https://github.com/mattc41190}{\tt mattc41190}
\item docs(document)\+: remove vestigial reference to {\ttfamily num\+Affected} \#6367 \href{https://github.com/ekulabuhov}{\tt ekulabuhov}
\item docs(schema)\+: fix typo \#6366 \href{https://github.com/dhritzkiv}{\tt dhritzkiv}
\item docs(schematypes)\+: add missing {\ttfamily minlength} and {\ttfamily maxlength} docs \#6365 \href{https://github.com/treble-snake}{\tt treble-\/snake}
\item docs(queries)\+: fix formatting \#6360 \href{https://github.com/treble-snake}{\tt treble-\/snake}
\item docs(api)\+: add cursors to A\+PI docs \#6353 \#6344 \href{https://github.com/lineus}{\tt lineus}
\item docs(aggregate)\+: remove reference to non-\/existent {\ttfamily .select()} method \#6346
\item fix(update)\+: handle {\ttfamily required} array with update validators and \$pull \#6341
\item fix(update)\+: avoid setting \+\_\+\+\_\+v in find\+One\+And\+Update if it is {\ttfamily \$set} \#5973
\end{DoxyItemize}

\section*{5.\+0.\+15 / 2018-\/04-\/16 }


\begin{DoxyItemize}
\item fix\+: add ability for casting from number to decimal128 \#6336 \#6331 \href{https://github.com/lineus}{\tt lineus}
\item docs(middleware)\+: enumerate the ways to error out in a hook \#6315
\item fix(document)\+: respect schema-\/level depopulate option for to\+Object() \#6313
\item fix\+: bump mongodb driver -\/$>$ 3.\+0.\+6 \#6310
\item fix(number)\+: check for {\ttfamily value\+Of()} function to support Decimal.\+js \#6306 \#6299 \href{https://github.com/lineus}{\tt lineus}
\item fix(query)\+: run array setters on query if input value is an array \#6277
\item fix(versioning)\+: don\textquotesingle{}t require matching version when using array.\+pull() \#6190
\item fix(document)\+: add {\ttfamily to\+Hex\+String()} function so you don\textquotesingle{}t need to check whether a path is populated to get an id \#6115
\end{DoxyItemize}

\section*{5.\+0.\+14 / 2018-\/04-\/09 }


\begin{DoxyItemize}
\item fix(schema)\+: clone aliases and alternative option syntax correctly
\item fix(query)\+: call utils.\+to\+Object in query.\+count like in query.\+find \#6325 \href{https://github.com/lineus}{\tt lineus}
\item docs(populate)\+: add middleware examples \#6320 \href{https://github.com/BorntraegerMarc}{\tt Borntraeger\+Marc}
\item docs(compatibility)\+: fix dead link \#6319 \href{https://github.com/lacivert}{\tt lacivert}
\item docs(api)\+: fix markdown parsing for parameters \#6318 \#6314 \href{https://github.com/lineus}{\tt lineus}
\item fix(populate)\+: handle space-\/delimited paths in array populate \#6296 \#6284 \href{https://github.com/lineus}{\tt lineus}
\item fix(populate)\+: support basic virtual populate underneath embedded discriminators \#6273
\end{DoxyItemize}

\section*{5.\+0.\+13 / 2018-\/04-\/05 }


\begin{DoxyItemize}
\item docs(faq)\+: add middleware to faq arrow function warning \#6309 \href{https://github.com/lineus}{\tt lineus}
\item docs(schema)\+: add example to load\+Class() docs \#6308
\item docs\+: clean up misc typos \#6304 \href{https://github.com/sfrieson}{\tt sfrieson}
\item fix(document)\+: apply virtuals when calling {\ttfamily to\+J\+S\+O\+N()} on a nested path \#6294
\item refactor(connection)\+: use {\ttfamily client.\+db()} syntax rather than double-\/parsing the U\+RI \#6292 \#6286
\item docs\+: document new behavior of required validator for arrays \#6288 \href{https://github.com/daltones}{\tt daltones}
\item fix(schema)\+: treat set() options as user-\/provided options \#6274
\item fix(schema)\+: clone discriminators correctly \#6274
\item fix(update)\+: make set\+Defaults\+On\+Insert not create subdoc if only default is id \#6269
\item docs(discriminator)\+: clarify 3rd argument to Model.\+discriminator() \#2596
\end{DoxyItemize}

\section*{5.\+0.\+12 / 2018-\/03-\/27 }


\begin{DoxyItemize}
\item docs(query)\+: updating model name in query A\+PI docs \#6280 \href{https://github.com/lineus}{\tt lineus}
\item docs\+: fix typo in tests \#6275 \href{https://github.com/styler}{\tt styler}
\item fix\+: add missing {\ttfamily .hint()} to aggregate \#6272 \#6251 \href{https://github.com/lineus}{\tt lineus}
\item docs(api)\+: add headers to each A\+PI docs section for easer nav \#6261
\item fix(query)\+: ensure hooked query functions always run on next tick for chaining \#6250
\item fix(populate)\+: ensure populated array not set to null if it isn\textquotesingle{}t set \#6245
\item fix(connection)\+: set ready\+State to disconnected if initial connection fails \#6244 \#6131
\item docs(model)\+: make {\ttfamily create()} params show up correctly in docs \#6242
\item fix(model)\+: make error handlers work with Mongo\+DB server errors and {\ttfamily insert\+Many()} \#6228
\item fix(browser)\+: ensure browser document builds defaults for embedded arrays correctly \#6175
\item fix(timestamps)\+: set timestamps when using {\ttfamily update\+One()} and {\ttfamily update\+Many()} \#6282 \href{https://github.com/gualopezb}{\tt gualopezb}
\end{DoxyItemize}

\section*{5.\+0.\+11 / 2018-\/03-\/19 }


\begin{DoxyItemize}
\item fix(update)\+: handle \$pull with \$in in update validators \#6240
\item fix(query)\+: don\textquotesingle{}t convert undefined to null when casting so driver {\ttfamily ignore\+Undefined} option works \#6236
\item docs(middleware)\+: add example of using async/await with middleware \#6235
\item fix(populate)\+: apply just\+One option before {\ttfamily complete\+Many()} so it works with lean() \#6234
\item fix(query)\+: ensure errors in user callbacks aren\textquotesingle{}t caught in init \#6195 \#6178
\item docs(connections)\+: document db\+Name option for Atlas connections \#6179
\item fix(discriminator)\+: make child schema nested paths overwrite parent schema paths \#6076
\end{DoxyItemize}

\section*{4.\+13.\+12 / 2018-\/03-\/13 }


\begin{DoxyItemize}
\item fix(document)\+: make virtual get() return undefined instead of null if no getters \#6223
\item docs\+: fix url in use\+Mongo\+Client error message \#6219 \#6217 \href{https://github.com/lineus}{\tt lineus}
\item fix(discriminator)\+: don\textquotesingle{}t copy {\ttfamily discriminators} property from base schema \#6122 \#6064
\end{DoxyItemize}

\section*{5.\+0.\+10 / 2018-\/03-\/12 }


\begin{DoxyItemize}
\item docs(schematype)\+: add notes re\+: running setters on queries \#6209
\item docs\+: fix typo \#6208 \href{https://github.com/kamagatos}{\tt kamagatos}
\item fix(query)\+: only call setters once on query filter props for find\+One\+And\+Update and find\+One\+And\+Remove \#6203
\item docs\+: elaborate on connection string changes in migration guide \#6193
\item fix(document)\+: skip apply\+Defaults if subdoc is null \#6187
\item docs\+: fix schematypes docs and link to them \#6176
\item docs(faq)\+: add F\+A\+Qs re\+: array defaults and casting aggregation pipelines \#6184 \#6176 \#6170 \href{https://github.com/lineus}{\tt lineus}
\item fix(document)\+: ensure primitive defaults are set and built-\/in default functions run before setters \#6155
\item fix(query)\+: handle single embedded embedded discriminators in cast\+For\+Query \#6027
\end{DoxyItemize}

\section*{5.\+0.\+9 / 2018-\/03-\/05 }


\begin{DoxyItemize}
\item perf\+: bump mongodb -\/$>$ 3.\+0.\+4 to fix S\+SL perf issue \#6065
\end{DoxyItemize}

\section*{5.\+0.\+8 / 2018-\/03-\/03 }


\begin{DoxyItemize}
\item docs\+: remove obsolete references to {\ttfamily emit\+Index\+Errors} \#6186 \href{https://github.com/isaackwan}{\tt isaackwan}
\item fix(query)\+: don\textquotesingle{}t cast find\+One() until exec() so setters don\textquotesingle{}t run twice \#6157
\item fix\+: remove document\+\_\+provider.\+web.\+js file \#6186
\item fix(discriminator)\+: support custom discriminator model names \#6100 \href{https://github.com/wentout}{\tt wentout}
\item fix\+: support caching calls to {\ttfamily use\+Db()} \#6036 \href{https://github.com/rocketspacer}{\tt rocketspacer}
\item fix(query)\+: add omit\+Undefined option so set\+Defaults\+On\+Insert can kick in on undefined \#6034
\item fix\+: upgrade mongodb -\/$>$ 3.\+0.\+3 for reconnect\+Tries\+: 0 blocking process exit fix \#6028
\end{DoxyItemize}

\section*{5.\+0.\+7 / 2018-\/02-\/23 }


\begin{DoxyItemize}
\item fix\+: support each\+Async options with aggregation cursor \#6169 \#6168 \href{https://github.com/vichle}{\tt vichle}
\item docs\+: fix link to Mongo\+DB compound indexes docs \#6162 \href{https://github.com/br0p0p}{\tt br0p0p}
\item docs(aggregate)\+: use each\+Async instead of incorrect {\ttfamily each()} \#6160 \href{https://github.com/simllll}{\tt simllll}
\item chore\+: fix benchmarks \#6158 \href{https://github.com/pradel}{\tt pradel}
\item docs\+: remove dead link to old blog post \#6154 \href{https://github.com/markstos}{\tt markstos}
\item fix\+: don\textquotesingle{}t convert dates to numbers when updating mixed path \#6146 \#6145 \href{https://github.com/s4rbagamble}{\tt s4rbagamble}
\item feat(aggregate)\+: add replace\+Root, count, sort\+By\+Count helpers \#6142 \href{https://github.com/jakesjews}{\tt jakesjews}
\item fix(document)\+: add included\+Children flag to modified\+Paths() \#6134
\item perf\+: don\textquotesingle{}t create wrapper function if no hooks specified \#6126
\item fix(schema)\+: allow indexes on single nested subdocs for geo\+J\+S\+ON \#6113
\item fix(document)\+: allow depopulating all fields \#6073
\item feat(mongoose)\+: add support for {\ttfamily use\+Find\+And\+Modify} option on singleton \#5616
\end{DoxyItemize}

\section*{5.\+0.\+6 / 2018-\/02-\/15 }


\begin{DoxyItemize}
\item refactor(query.\+cast\+Update)\+: avoid creating error until necessary \#6137
\item docs(api)\+: fix missing api docs \#6136 \href{https://github.com/lineus}{\tt lineus}
\item fix(schema)\+: copy virtuals when using {\ttfamily clone()} \#6133
\item fix(update)\+: avoid digging into buffers with upsert and replace\+One \#6124
\item fix(schema)\+: support {\ttfamily enum} on arrays of strings \#6102
\item fix(update)\+: cast {\ttfamily \begin{DoxyParagraph}{add\+To\+Set}
\mbox{[}1, 2\mbox{]} -\/$>$ {\ttfamily }
\end{DoxyParagraph}
add\+To\+Set\+: \{ \$each\+: \mbox{[}1, 2\mbox{]} \}} \#6086
\end{DoxyItemize}

\section*{5.\+0.\+5 / 2018-\/02-\/13 }


\begin{DoxyItemize}
\item docs\+: make $>$ show up correctly in A\+PI docs \#6114
\item fix(query)\+: support {\ttfamily where()} overwriting primitive with object \#6097
\item fix(schematype)\+: don\textquotesingle{}t run internal {\ttfamily reset\+Id} setter on queries with \+\_\+id \#6093
\item fix(discriminator)\+: don\textquotesingle{}t copy {\ttfamily discriminators} property from base schema \#6064
\item fix(utils)\+: respect {\ttfamily value\+Of()} when merging object for update \#6059
\item docs(validation)\+: fix typo \textquotesingle{}max\+Length\textquotesingle{} \#4720
\item fix(document)\+: apply defaults after setting initial value so default functions don\textquotesingle{}t see empty doc \#3781
\end{DoxyItemize}

\section*{5.\+0.\+4 / 2018-\/02-\/08 }


\begin{DoxyItemize}
\item docs\+: add lambda guide \#6107
\item fix(connection)\+: add {\ttfamily db\+Name} option to work around {\ttfamily mongodb+srv} not supporting db name in U\+RI \#6106
\item fix(schematype)\+: fix regexp typo in Object\+Id \#6098 \href{https://github.com/JoshuaWise}{\tt Joshua\+Wise}
\item perf(document)\+: re-\/use the modified\+Paths list \#6092 \href{https://github.com/tarun1793}{\tt tarun1793}
\item fix\+: use console.\+info() instead of console.\+error() for debug output \#6088 \href{https://github.com/yuristsepaniuk}{\tt yuristsepaniuk}
\item docs(validation)\+: clean up run\+Validators and is\+Async options docs for 5.\+x \#6083
\item docs(model)\+: use array instead of spread consistently for aggregate() \#6070
\item fix(schema)\+: make aliases handle mongoose-\/lean-\/virtuals \#6069
\item docs(layout)\+: add link to subdocs guide \#6056
\item fix(query)\+: make strict\+Query\+: true strip out fields that aren\textquotesingle{}t in the schema \#6032
\item docs(guide)\+: add notes for {\ttfamily strict\+Query} option \#6032
\end{DoxyItemize}

\section*{4.\+13.\+11 / 2018-\/02-\/07 }


\begin{DoxyItemize}
\item docs\+: fix links in 4.\+x docs \#6081
\item chore\+: add release script that uses --tag for npm publish for 4.\+x releases \#6063
\end{DoxyItemize}

\section*{5.\+0.\+3 / 2018-\/01-\/31 }


\begin{DoxyItemize}
\item fix\+: consistently use process.\+next\+Tick() to avoid sinon.\+use\+Fake\+Timers() causing ops to hang \#6074
\item docs(aggregate)\+: fix typo \#6072 \href{https://github.com/adursun}{\tt adursun}
\item chore\+: add return type to {\ttfamily mongoose.\+model()} docs \href{https://github.com/bryant1410}{\tt bryant1410}
\item fix(document)\+: depopulate push()-\/ed docs when saving \#6048
\item fix\+: upgrade mongodb -\/$>$ 3.\+0.\+2 \#6019
\end{DoxyItemize}

\section*{5.\+0.\+2 / 2018-\/01-\/28 }


\begin{DoxyItemize}
\item fix(schema)\+: do not overwrite default values in schema when nested timestamps are provided \#6024 \href{https://github.com/cdeveas}{\tt cdeveas}
\item docs\+: fix syntax highlighting in models.\+jade, schematypes.\+jade, subdocs.\+jade \#6058 \href{https://github.com/lineus}{\tt lineus}
\item fix\+: use lazy loading so we can build mongoose with webpack \#5993 \#5842
\item docs(connections)\+: clarify multi-\/mongos with use\+Mongo\+Client for 4.\+x docs \#5984
\item fix(populate)\+: handle populating embedded discriminator paths \#5970
\end{DoxyItemize}

\section*{4.\+13.\+10 / 2018-\/01-\/28 }


\begin{DoxyItemize}
\item docs(model+query)\+: add lean() option to Model helpers \#5996 \href{https://github.com/aguyinmontreal}{\tt aguyinmontreal}
\item fix\+: use lazy loading so we can build mongoose with webpack \#5993 \#5842
\item docs(connections)\+: clarify multi-\/mongos with use\+Mongo\+Client for 4.\+x docs \#5984
\item fix(populate)\+: handle populating embedded discriminator paths \#5970
\item docs(query+aggregate)\+: add more detail re\+: max\+Time\+MS \#4066
\end{DoxyItemize}

\section*{5.\+0.\+1 / 2018-\/01-\/19 }


\begin{DoxyItemize}
\item fix(document)\+: make validate() not resolve to document \#6014
\item fix(model)\+: make save() not return Document\+Not\+Found\+Error if using fire-\/and-\/forget writes \#6012
\item fix(aggregate)\+: make options() work as advertised \#6011 \href{https://github.com/spederiva}{\tt spederiva}
\item docs(queries)\+: fix code samples \#6008
\end{DoxyItemize}

\section*{5.\+0.\+0 / 2018-\/01-\/17 }


\begin{DoxyItemize}
\item test\+: refactor tests to use start fewer connections \#5985 \href{https://github.com/fenanquin}{\tt fenanquin}
\item feat\+: add global buffer\+Commands option \#5879
\item docs\+: new docs site and build system \#5976
\item test\+: increase timeout on slow test cases \#5968 \href{https://github.com/fenanquin}{\tt fenanquin}
\item fix\+: avoid casting out array filter elements \#5965
\item feat\+: add Model.\+watch() wrapper \#5964
\item chore\+: replace istanbul with nyc \#5962 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\end{DoxyItemize}

\section*{4.\+13.\+9 / 2018-\/01-\/07 }


\begin{DoxyItemize}
\item chore\+: update marked (dev dependency) re\+: security vulnerability \#5951 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fix\+: upgrade mongodb -\/$>$ 2.\+2.\+34 for ipv6 and auto\+Reconnect fixes \#5794 \#5760
\item docs\+: use use\+Mongoose\+Agg\+Cursor for aggregate docs \#2955
\end{DoxyItemize}

\section*{5.\+0.\+0-\/rc2 / 2018-\/01-\/04 }


\begin{DoxyItemize}
\item fix\+: add cleaner warning about no longer needing {\ttfamily use\+Mongo\+Client} in 5.\+x \#5961
\item chore\+: update acquit -\/$>$ 0.\+5.\+1 for minor security patch \#5961 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item docs\+: add docs for mongoose 4.\+x at \href{http://mongoosejs.com/docs/4.x}{\tt http\+://mongoosejs.\+com/docs/4.\+x} \#5959
\item docs\+: add link to migration guide \#5957
\item chore\+: update eslint to version 4.\+14.\+0 \#5955 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item chore\+: update mocha to version 4.\+1.\+0 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\end{DoxyItemize}

\section*{5.\+0.\+0-\/rc1 / 2018-\/01-\/02 }


\begin{DoxyItemize}
\item fix(index)\+: use pluralize correctly for {\ttfamily mongoose.\+model()} \#5958
\item fix\+: make mquery use native promises by default \#5945
\item fix(connection)\+: ensure \textquotesingle{}joined\textquotesingle{} and \textquotesingle{}left\textquotesingle{} events get bubbled up \#5944
\end{DoxyItemize}

\section*{5.\+0.\+0-\/rc0 / 2017-\/12-\/28 }


\begin{DoxyItemize}
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: always use mongoose aggregation cursor when using {\ttfamily .aggregate().cursor()} \#5941
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: attach query middleware when compiling model \#5939
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: {\ttfamily emit\+Index\+Errors} is on by default, failing index build will throw uncaught error if not handled \#5910
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: remove precompiled browser bundle \#5895
\item feat\+: add {\ttfamily mongoose.\+pluralize()} function \#5877
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: remove {\ttfamily pass\+Raw\+Result} option for {\ttfamily find\+One\+And\+Update}, use {\ttfamily raw\+Result} \#5869
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: implicit async validators (based on number of function args) are removed, return a promise instead \#5824
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: fail fast if user sets a unique index on {\ttfamily \+\_\+id} \#5820 \href{https://github.com/varunjayaraman}{\tt varunjayaraman}
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: map\+Reduce resolves to an object with 2 keys rather than 2 separate args \#5816
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: {\ttfamily mongoose.\+connect()} returns a promise, removed Mongoose\+Thenable \#5796
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: query stream removed, use {\ttfamily cursor()} instead \#5795
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: connection {\ttfamily open()} and {\ttfamily open\+Set()} removed, use {\ttfamily open\+Uri()} instead \#5795
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: use Mongo\+DB driver 3.\+0.\+0, drop support for Mongo\+DB server $<$ 3.\+0.\+0 \#5791 \#4740
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: remove support for {\ttfamily \$push\+All}, remove {\ttfamily use\+Push\+Each} option \#5670
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: make date casting use native Date \#5395 \href{https://github.com/varunjayaraman}{\tt varunjayaraman}
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: remove {\ttfamily run\+Setters\+On\+Query}, always run setters on query \#5340
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: array of length 0 now satisfies {\ttfamily required\+: true} for arays \#5139 \href{https://github.com/wlingke}{\tt wlingke}
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: remove {\ttfamily save\+Error\+If\+Not\+Found}, always error out if {\ttfamily save()} did not update a document \#4973
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: don\textquotesingle{}t execute getters in reverse order \#4835
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: make boolean casting more strict \#4245
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: {\ttfamily to\+Object()} and {\ttfamily to\+J\+S\+O\+N()} option parameter merges with defaults rather than overwriting \#4131
\item feat\+: allow setting {\ttfamily default} on {\ttfamily \+\_\+id} \#4069
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: {\ttfamily delete\+X()} and {\ttfamily remove()} promise resolves to the write object result \#4013
\item feat\+: support returning a promise from middleware functions \#3779
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: don\textquotesingle{}t return a promise if callback specified \#3670
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: only cast {\ttfamily update()}, {\ttfamily update\+X()}, {\ttfamily replace\+One()}, {\ttfamily remove()}, {\ttfamily delete\+X()} in exec \#3529
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: sync errors in middleware functions are now handled \#3483
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: post hooks get flow control \#3232
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: deduplicate hooks when merging discriminator schema \#2945
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: use native promises by default, remove support for mpromise \#2917
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: remove {\ttfamily retain\+Key\+Order}, always use forward order when iterating through objects \#2749
\item B\+R\+E\+A\+K\+I\+NG C\+H\+A\+N\+GE\+: {\ttfamily aggregate()} no longer accepts a spread \#2716
\end{DoxyItemize}

\section*{4.\+13.\+8 / 2017-\/12-\/27 }


\begin{DoxyItemize}
\item docs(guide)\+: use more up-\/to-\/date syntax for auto\+Index example \#5933
\item docs\+: fix grammar \#5927 \href{https://github.com/abagh0703}{\tt abagh0703}
\item fix\+: propagate lean options to child schemas \#5914
\item fix(populate)\+: use correct model with discriminators + nested populate \#5858
\end{DoxyItemize}

\section*{4.\+13.\+7 / 2017-\/12-\/11 }


\begin{DoxyItemize}
\item docs(schematypes)\+: fix typo \#5889 \href{https://github.com/gokaygurcan}{\tt gokaygurcan}
\item fix(cursor)\+: handle {\ttfamily reject(null)} with each\+Async callback \#5875 \#5874 \href{https://github.com/ZacharyRSmith}{\tt Zachary\+R\+Smith}
\item fix\+: disallow setting {\ttfamily mongoose.\+connection} to invalid values \#5871 \href{https://github.com/jinasonlin}{\tt jinasonlin}
\item docs(middleware)\+: suggest using {\ttfamily return next()} to stop middleware execution \#5866
\item docs(connection)\+: improve connection string query param docs \#5864
\item fix(document)\+: run validate hooks on array subdocs even if not directly modified \#5861
\item fix(discriminator)\+: don\textquotesingle{}t treat \$meta as defining projection when querying \#5859
\item fix(types)\+: handle Decimal128 when using bson-\/ext on server side \#5850
\item fix(document)\+: ensure projection with only \$slice isn\textquotesingle{}t treated as inclusive for discriminators \#4991
\item fix(model)\+: throw error when passing non-\/object to create() \#2037
\end{DoxyItemize}

\section*{4.\+13.\+6 / 2017-\/12-\/02 }


\begin{DoxyItemize}
\item fix(schema)\+: support strict\+Bool option in schema \#5856 \href{https://github.com/ekulabuhov}{\tt ekulabuhov}
\item fix(update)\+: make upsert option consistently handle truthy values, not just booleans, for update\+One() \#5839
\item refactor\+: remove unnecessary constructor check \#2057
\item docs(query)\+: correct function signature for .mod() helper \#1806
\item fix(query)\+: report Object\+Parameter\+Error when passing non-\/object as filter to find() and find\+One() \#1698
\end{DoxyItemize}

\section*{4.\+13.\+5 / 2017-\/11-\/24 }


\begin{DoxyItemize}
\item fix(model)\+: handle update cast errors correctly with bulk\+Write \#5845 \href{https://github.com/Michael77}{\tt Michael77}
\item docs\+: add link to buffer\+Commands option \#5844 \href{https://github.com/ralphite}{\tt ralphite}
\item fix(model)\+: allow virtual ref function to return arrays \#5834 \href{https://github.com/brunohcastro}{\tt brunohcastro}
\item fix(query)\+: don\textquotesingle{}t throw uncaught error if query filter too big \#5812
\item fix(document)\+: if setting unselected nested path, don\textquotesingle{}t overwrite nested path \#5800
\item fix(document)\+: support calling {\ttfamily populate()} on nested document props \#5703
\item fix\+: add {\ttfamily strict\+Bool} option for schema type boolean \#5344 \#5211 \#4245
\item docs(faq)\+: add faq re\+: type\+Key \#1886
\item docs(query)\+: add more detailed docs re\+: options \#1702
\end{DoxyItemize}

\section*{4.\+13.\+4 / 2017-\/11-\/17 }


\begin{DoxyItemize}
\item fix(aggregate)\+: add chainable .option() helper for setting arbitrary options \#5829
\item fix(aggregate)\+: add {\ttfamily .pipeline()} helper to get the current pipeline \#5825
\item docs\+: grammar fixes for {\ttfamily unique} F\+AQ \#5823 \href{https://github.com/mfluehr}{\tt mfluehr}
\item chore\+: add node 9 to travis \#5822 \href{https://github.com/superheri}{\tt superheri}
\item fix(model)\+: fix infinite recursion with recursive embedded discriminators \#5821 \href{https://github.com/Faibk}{\tt Faibk}
\end{DoxyItemize}

\section*{4.\+13.\+3 / 2017-\/11-\/15 }


\begin{DoxyItemize}
\item chore\+: add node 8 to travis \#5818 \href{https://github.com/superheri}{\tt superheri}
\item fix(document)\+: don\textquotesingle{}t apply transforms to nested docs when updating already saved doc \#5807
\end{DoxyItemize}

\section*{4.\+13.\+2 / 2017-\/11-\/11 }


\begin{DoxyItemize}
\item feat(buffer)\+: add support for subtype prop \#5530
\end{DoxyItemize}

\section*{4.\+13.\+1 / 2017-\/11-\/08 }


\begin{DoxyItemize}
\item fix\+: accept multiple paths or array of paths to depopulate \#5798 \#5797 \href{https://github.com/adamreisnz}{\tt adamreisnz}
\item fix(document)\+: pass default array as actual array rather than taking first element \#5780
\item fix(model)\+: increment version when \$set-\/ing it in a save() that requires a version bump \#5779
\item fix(query)\+: don\textquotesingle{}t explicitly project in discriminator key if user projected in parent path \#5775 \#5754
\item fix(model)\+: cast query option to geo\+Near() \#5765
\item fix(query)\+: don\textquotesingle{}t treat projection with just \$slice as inclusive \#5737
\item fix(discriminator)\+: defer applying embedded discriminator hooks until top-\/level model is compiled \#5706
\item docs(discriminator)\+: add warning to always attach hooks before calling discriminator() \#5706
\end{DoxyItemize}

\section*{4.\+13.\+0 / 2017-\/11-\/02 }


\begin{DoxyItemize}
\item feat(aggregate)\+: add \$add\+Fields helper \#5740 \href{https://github.com/AyushG3112}{\tt Ayush\+G3112}
\item feat(connection)\+: add connection-\/level buffer\+Commands \#5720
\item feat(connection)\+: add create\+Collection() helper \#5712
\item feat(populate)\+: support setting local\+Field and foreign\+Field to functions \#5704 \#5602
\item feat(query)\+: add multiple\+Cast\+Error option for aggregating cast errors when casting update \#5609
\item feat(populate)\+: allow passing a function to virtual ref \#5602
\item feat(schema)\+: add exclude\+Indexes option to optionally prevent collecting indexes from nested schemas \#5575
\item feat(model)\+: report validation errors from {\ttfamily insert\+Many()} if using {\ttfamily ordered\+: false} and {\ttfamily raw\+Result\+: true} \#5337
\item feat(aggregate)\+: add pre/post aggregate middleware \#5251
\item feat(schema)\+: allow using {\ttfamily set} as a schema path \#1939
\end{DoxyItemize}

\section*{4.\+12.\+6 / 2017-\/11-\/01 }


\begin{DoxyItemize}
\item fix(schema)\+: make clone() copy query helpers correctly \#5752
\item fix\+: undeprecate {\ttfamily ensure\+Index()} and use it by default \#3280
\end{DoxyItemize}

\section*{4.\+12.\+5 / 2017-\/10-\/29 }


\begin{DoxyItemize}
\item fix(query)\+: correctly handle {\ttfamily \$in} and required for \$pull and update validators \#5744
\item feat(aggegate)\+: add \$add\+Fields pipeline operator \#5740 \href{https://github.com/AyushG3112}{\tt Ayush\+G3112}
\item fix(document)\+: catch sync errors in document pre hooks and report as error \#5738
\item fix(populate)\+: handle slice projections correctly when automatically selecting populated fields \#5737
\item fix(discriminator)\+: fix hooks for embedded discriminators \#5706 \href{https://github.com/wlingke}{\tt wlingke}
\item fix(model)\+: throw sane error when customer calls {\ttfamily mongoose.\+Model()} over {\ttfamily mongoose.\+model()} \#2005
\end{DoxyItemize}

\section*{4.\+12.\+4 / 2017-\/10-\/21 }


\begin{DoxyItemize}
\item test(plugins)\+: add coverage for id\+Getter with id as a schema property \#5713 \href{https://github.com/wlingke}{\tt wlingke}
\item fix(model)\+: avoid copying recursive \$\$context object when creating discriminator after querying \#5721
\item fix(connection)\+: ensure connection promise helpers are removed before emitting \textquotesingle{}connected\textquotesingle{} \#5714
\item docs(schema)\+: add notes about run\+Setters\+On\+Query to schema setters \#5705
\item fix(collection)\+: ensure queued operations run on the next tick \#5562
\end{DoxyItemize}

\section*{4.\+12.\+3 / 2017-\/10-\/16 }


\begin{DoxyItemize}
\item fix(connection)\+: emit \textquotesingle{}reconnect\textquotesingle{} event as well as \textquotesingle{}reconnected\textquotesingle{} for consistency with driver \#5719
\item fix\+: correctly bubble up left/joined events for replica set \#5718
\item fix(connection)\+: allow passing in {\ttfamily auto\+Index} as top-\/level option rather than requiring {\ttfamily config.\+auto\+Index} \#5711
\item docs(connection)\+: improve docs regarding reconnect\+Tries, auto\+Reconnect, and buffer\+Max\+Entries \#5711
\item fix(query)\+: handle null with add\+To\+Set/push/pull/pull\+All update validators \#5710
\item fix(model)\+: handle set\+Defaults\+On\+Insert option for bulk\+Write update\+One and update\+Many \#5708
\item fix(query)\+: avoid infinite recursion edge case when cloning a buffer \#5702
\end{DoxyItemize}

\section*{4.\+12.\+2 / 2017-\/10-\/14 }


\begin{DoxyItemize}
\item docs(faq)\+: add F\+AQ about using arrow functions for getters/setters, virtuals, and methods \#5700
\item docs(schema)\+: document the child\+Schemas property and add to public A\+PI \#5695
\item fix(query)\+: don\textquotesingle{}t project in populated field if parent field is already projected in \#5669
\item fix\+: bump mongodb -\/$>$ 2.\+2.\+33 for issue with auto\+Reconnect \#4513
\end{DoxyItemize}

\section*{4.\+12.\+1 / 2017-\/10-\/08 }


\begin{DoxyItemize}
\item fix(document)\+: create new doc when setting single nested, no more set() on copy of prior\+Val \#5693
\item fix(model)\+: recursively call apply\+Methods on child schemas for global plugins \#5690
\item docs\+: fix bad promise lib example on home page \#5686
\item fix(query)\+: handle false when checking for inclusive/exclusive projection \#5685
\item fix(discriminator)\+: allow reusing child schema \#5684
\item fix\+: make add\+To\+Set() on empty array with subdoc trigger manual population \#5504
\end{DoxyItemize}

\section*{4.\+12.\+0 / 2017-\/10-\/02 }


\begin{DoxyItemize}
\item docs(validation)\+: add docs coverage for Validator\+Error.\+reason \#5681
\item feat(discriminator)\+: always add discriminator\+Key to base schema to allow updating \#5613
\item fix(document)\+: make nested docs no longer inherit parent doc\textquotesingle{}s schema props \#5586 \#5546 \#5470
\item feat(query)\+: run update validators on \$pull and \$pull\+All \#5555
\item feat(query)\+: add .error() helper to query to error out in pre hooks \#5520
\item feat(connection)\+: add drop\+Collection() helper \#5393
\item feat(schema)\+: add schema-\/level collation option \#5295
\item feat(types)\+: add {\ttfamily discriminator()} function for single nested subdocs \#5244
\item feat(document)\+: add \$is\+Deleted() getter/setter for better support for soft deletes \#4428
\item feat(connection)\+: bubble up reconnect\+Failed event when driver gives up reconnecting \#4027
\item fix(query)\+: report error if passing array or other non-\/object as filter to update query \#3677
\item fix(collection)\+: use create\+Index() instead of deprecated ensure\+Index() \#3280
\end{DoxyItemize}

\section*{4.\+11.\+14 / 2017-\/09-\/30 }


\begin{DoxyItemize}
\item chore\+: add nsp check to the CI build \#5679 \href{https://github.com/hairyhenderson}{\tt hairyhenderson}
\item fix\+: bump mquery because of security issue with debug package \#5677 \#5675 \href{https://github.com/jonathanprl}{\tt jonathanprl}
\item fix(populate)\+: automatically select() populated()-\/ed fields \#5669
\item fix(connection)\+: make force close work as expected \#5664
\item fix(document)\+: treat \$elem\+Match as inclusive projection \#5661
\item docs(model/query)\+: clarify which functions fire which middleware \#5654
\item fix(model)\+: make {\ttfamily init()} public and return a promise that resolves when indexes are done building \#5563
\end{DoxyItemize}

\section*{4.\+11.\+13 / 2017-\/09-\/24 }


\begin{DoxyItemize}
\item fix(query)\+: correctly run replace\+One with update validators \#5665 \href{https://github.com/sime1}{\tt sime1}
\item fix(schema)\+: replace mistype in setup\+Timestamp method \#5656 \href{https://github.com/zipp3r}{\tt zipp3r}
\item fix(query)\+: avoid throwing cast error for strict\+: throw with nested id in query \#5640
\item fix(model)\+: ensure class gets combined schema when using class syntax with discriminators \#5635
\item fix(document)\+: handle setting doc array to array of top-\/level docs \#5632
\item fix(model)\+: handle casting find\+One\+And\+Update() with overwrite and upsert \#5631
\item fix(update)\+: correctly handle \$ in updates \#5628
\item fix(types)\+: handle manual population consistently for unshift() and splice() \#5504
\end{DoxyItemize}

\section*{4.\+11.\+12 / 2017-\/09-\/18 }


\begin{DoxyItemize}
\item docs(model)\+: asterisk should not render as markdown bullet \#5644 \href{https://github.com/timkinnane}{\tt timkinnane}
\item docs\+: use use\+Mongo\+Client in connection example \#5627 \href{https://github.com/GabrielNicolasAvellaneda}{\tt Gabriel\+Nicolas\+Avellaneda}
\item fix(connection)\+: call callback when initial connection failed \#5626
\item fix(query)\+: apply select correctly if a given nested schema is used for 2 different paths \#5603
\item fix(document)\+: add graceful fallback for setting a doc array value and {\ttfamily pull()}-\/ing a doc \#3511
\end{DoxyItemize}

\section*{4.\+11.\+11 / 2017-\/09-\/10 }


\begin{DoxyItemize}
\item fix(connection)\+: properly set ready\+State in response to driver \textquotesingle{}close\textquotesingle{} and \textquotesingle{}reconnect\textquotesingle{} events \#5604
\item fix(document)\+: ensure single embedded doc setters only get called once, with correct value \#5601
\item fix(timestamps)\+: allow enabling updated\+At without created\+At \#5598
\item test\+: improve unique validator test by making create run before ensure\+Index \#5595 \#5562
\item fix(query)\+: ensure find callback only gets called once when post init hook throws error \#5592
\end{DoxyItemize}

\section*{4.\+11.\+10 / 2017-\/09-\/03 }


\begin{DoxyItemize}
\item docs\+: add Keen\+IO tracking \#5612
\item fix(schema)\+: ensure validators declared with {\ttfamily .validate()} get copied with clone() \#5607
\item fix\+: remove unnecessary jest warning \#5480
\item fix(discriminator)\+: prevent implicit discriminator schema id from clobbering base schema custom id \#5591
\item fix(schema)\+: hide schema objectid warning for non-\/hex strings of length 24 \#5587
\item docs(populate)\+: use story schema defined key author instead of creator \#5578 \href{https://github.com/dmric}{\tt dmric}
\item docs(document)\+: describe usage of {\ttfamily .set()} \#5576
\item fix(document)\+: ensure correct scope in single nested validators \#5569
\item fix(populate)\+: don\textquotesingle{}t mark path as populated until populate() is done \#5564
\item fix(document)\+: make push()-\/ing a doc onto an empty array act as manual population \#5504
\item fix(connection)\+: emit timeout event on socket timeout \#4513
\end{DoxyItemize}

\section*{4.\+11.\+9 / 2017-\/08-\/27 }


\begin{DoxyItemize}
\item fix(error)\+: avoid using arguments.\+callee because that breaks strict mode \#5572
\item docs(schematypes)\+: fix spacing \#5567
\item fix(query)\+: enforce binary subtype always propagates to mongodb \#5551
\item fix(query)\+: only skip cast\+For\+Query for mongoose arrays \#5536
\item fix(browser)\+: rely on browser entrypoint to decide whether to use Browser\+Document or Node\+Document \#5480
\end{DoxyItemize}

\section*{4.\+11.\+8 / 2017-\/08-\/23 }


\begin{DoxyItemize}
\item feat\+: add warning about using schema Object\+Id as type Object\+Id \#5571 \href{https://github.com/efkan}{\tt efkan}
\item fix(schema)\+: allow setting {\ttfamily id} property after schema was created \#5570 \#5548
\item docs(populate)\+: remove confusing \+\_\+ from populate docs \#5560
\item fix(connection)\+: expose parsed uri fields (host, port, dbname) when using open\+Uri() \#5556
\item docs\+: added type boolean to options documentation \#5547 \href{https://github.com/ndabAP}{\tt ndab\+AP}
\item test\+: add test coverage for stopping/starting server \#5524
\item fix(aggregate)\+: pull read preference from schema by default \#5522
\end{DoxyItemize}

\section*{4.\+11.\+7 / 2017-\/08-\/14 }


\begin{DoxyItemize}
\item fix\+: correct properties when calling to\+J\+S\+O\+N() on populated virtual \#5544 \#5442 \href{https://github.com/davidwu226}{\tt davidwu226}
\item docs\+: fix spelling \#5535 \href{https://github.com/et}{\tt et}
\item fix(error)\+: always set name before stack \#5533
\item fix\+: add warning about running jest in jsdom environment \#5532 \#5513 \#4943
\item fix(document)\+: ensure overwriting a doc array cleans out individual docs \#5523
\item fix(schema)\+: handle creating arrays of single nested using type key \#5521
\item fix\+: upgrade mongodb -\/$>$ 2.\+2.\+31 to support user/pass options \#5419
\end{DoxyItemize}

\section*{4.\+11.\+6 / 2017-\/08-\/07 }


\begin{DoxyItemize}
\item fix\+: limiting number of async operations per time in insert\+Many \#5529 \href{https://github.com/andresattler}{\tt andresattler}
\item fix\+: upgrade mongodb -\/$>$ 2.\+2.\+30 \#5517
\item fix(browser\+Document)\+: prevent stack overflow caused by double-\/wrapping embedded doc save() in jest \#5513
\item fix(document)\+: clear single nested doc when setting to empty object \#5506
\item fix(connection)\+: emit reconnected and disconnected events correctly with use\+Mongo\+Client \#5498
\item fix(populate)\+: ensure nested virtual populate gets set even if top-\/level property is null \#5431
\end{DoxyItemize}

\section*{4.\+11.\+5 / 2017-\/07-\/30 }


\begin{DoxyItemize}
\item docs\+: fix link to \$lookup \#5516 \href{https://github.com/TalhaAwan}{\tt Talha\+Awan}
\item fix\+: better parallelization for each\+Async \#5502 \href{https://github.com/lchenay}{\tt lchenay}
\item docs(document)\+: copy docs for save from model to doc \#5493
\item fix(document)\+: handle dotted virtuals in to\+J\+S\+ON output \#5473
\item fix(populate)\+: restore user-\/provided limit after mutating so cursor() works with populate limit \#5468
\item fix(query)\+: don\textquotesingle{}t throw Strict\+Mode\+Error if geo query with upsert \#5467
\item fix(populate)\+: propagate read\+Preference from query to populate queries by default \#5460
\item docs\+: warn not to use arrow functions for statics and methods \#5458
\item fix(query)\+: iterate over all condition keys for set\+Defaults\+On\+Insert \#5455
\item docs(connection)\+: clarify server/replset/mongos option deprecation with use\+Mongo\+Client \#5442
\end{DoxyItemize}

\section*{4.\+11.\+4 / 2017-\/07-\/23 }


\begin{DoxyItemize}
\item fix\+: handle next() errors in {\ttfamily each\+Async()} \#5486 \href{https://github.com/lchenay}{\tt lchenay}
\item fix(schema)\+: propagate run\+Setters\+On\+Query option to implicitly created schemas \#5479 \mbox{[}\href{https://github.com/ValYouW}{\tt https\+://github.\+com/\+Val\+YouW}\mbox{]}
\item fix(query)\+: run cast\+Conditions() correctly in update ops \#5477
\item fix(query)\+: ensure cast\+Conditions called for find\+One and find\+One\+And$\ast$ \#5477
\item docs\+: clarify relationship between \$lookup and populate \#5475 \href{https://github.com/TalhaAwan}{\tt Talha\+Awan}
\item test\+: add coverage for arrays of arrays \href{https://github.com/zbjornson}{\tt zbjornson}
\item fix(middleware)\+: ensure that error handlers for save get doc as 2nd param \#5466
\item fix\+: handle strict\+: false correctly \#5454 \#5453 \href{https://github.com/wookieb}{\tt wookieb}
\item fix(query)\+: apply schema excluded paths if only projection is a \$slice \#5450
\item fix(query)\+: correct discriminator handling for schema {\ttfamily select\+: false} fields in schema \#5448
\item fix(cursor)\+: call next() in series when parallel option used \#5446
\item chore\+: load bundled driver first to avoid packaging problem \#5443 \href{https://github.com/prototypeme}{\tt prototypeme}
\item fix(query)\+: defer condition casting until final exec \#5434
\item fix(aggregate)\+: don\textquotesingle{}t rely on mongodb aggregate to put a cursor in the callback \#5394
\item docs(aggregate)\+: add use\+Mongoose\+Agg\+Cursor docs \#5394
\item docs(middleware)\+: clarify context for document, query, and model middleware \#5381
\end{DoxyItemize}

\section*{4.\+11.\+3 / 2017-\/07-\/14 }


\begin{DoxyItemize}
\item fix(connection)\+: remove .then() before resolving to prevent infinite recursion \#5471
\end{DoxyItemize}

\section*{4.\+11.\+2 / 2017-\/07-\/13 }


\begin{DoxyItemize}
\item docs\+: fix comment typo in connect example \#5435 \href{https://github.com/ConnorMcF}{\tt Connor\+McF}
\item fix(update)\+: correctly cast document array in update validators with exec() \#5430
\item fix(connection)\+: handle auto\+Index with use\+Mongo\+Client \#5423
\item fix(schema)\+: handle {\ttfamily type\+: \mbox{[}Array\mbox{]}} in schemas \#5416
\item fix(timestamps)\+: if overwrite is set and there\textquotesingle{}s a \$set, use \$set instead of top-\/level update \#5413
\item fix(document)\+: don\textquotesingle{}t double-\/validate deeply nested doc array elements \#5411
\item fix(schematype)\+: clone default objects so default not shared across object instances unless {\ttfamily shared} specified \#5407
\item fix(document)\+: reset down the nested subdocs when resetting parent doc \#5406
\item fix\+: don\textquotesingle{}t pass error arg twice to error handlers \#5405
\item fix(connection)\+: make open\+Uri() return connection decorated with then() and catch() \#5404
\item fix\+: enforce \$set on an array must be an array \#5403
\item fix(document)\+: don\textquotesingle{}t crash if calling {\ttfamily validate\+Sync()} after overwriting doc array index \#5389
\item fix(discriminator)\+: ensure discriminator key doesn\textquotesingle{}t count as user-\/selected field for projection \#4629
\end{DoxyItemize}

\section*{4.\+11.\+1 / 2017-\/07-\/02 }


\begin{DoxyItemize}
\item docs\+: populate virtuals fix just\+One description \#5427 \href{https://github.com/fredericosilva}{\tt fredericosilva}
\begin{DoxyItemize}
\item fix(connection)\+: make sure to call on\+Open in open\+Uri() \#5404
\item docs(query)\+: just\+One is actually single, and it default to false \#5402 \href{https://github.com/zbjornson}{\tt zbjornson}
\item docs\+: fix small typo in lib/schema.\+js \#5398 \#5396 \href{https://github.com/pjo336}{\tt pjo336}
\item fix\+: emit remove on single nested subdocs when removing parent \#5388
\item fix(update)\+: handle update with defaults and overwrite but no update validators \#5384
\item fix(populate)\+: handle undefined ref\+Path values in middle of array \#5377
\item fix(document)\+: ensure consistent setter context for single nested \#5363
\item fix(query)\+: support run\+Setters\+On\+Query as query option \#5350
\end{DoxyItemize}
\end{DoxyItemize}

\section*{4.\+11.\+0 / 2017-\/06-\/25 }


\begin{DoxyItemize}
\item feat(query)\+: execute setters with query as context for {\ttfamily run\+Setters\+On\+Query} \#5339
\item feat(model)\+: add translate\+Aliases function \#5338 \href{https://github.com/rocketspacer}{\tt rocketspacer}
\item feat(connection)\+: add {\ttfamily use\+Mongo\+Client} and {\ttfamily open\+Uri} functions, deprecate current connect logic \#5304
\item refactor(schema)\+: make id virtual not access doc internals \#5279
\item refactor\+: handle non-\/boolean lean \#5279
\item feat(cursor)\+: add add\+Cursor\+Flag() support to query and agg cursors \#4814
\item feat(cursor)\+: add parallel option to each\+Async \#4244
\item feat(schema)\+: allow setting custom error constructor for custom validators \#4009
\end{DoxyItemize}

\section*{4.\+10.\+8 / 2017-\/06-\/21 }


\begin{DoxyItemize}
\item docs\+: fix small formatting typo on schematypes \#5374 \href{https://github.com/gianpaj}{\tt gianpaj}
\item fix(model)\+: allow null as an \+\_\+id \#5370
\item fix(populate)\+: don\textquotesingle{}t throw async uncaught exception if model not found in populate \#5364
\item fix\+: correctly cast decimals in update \#5361
\item fix(error)\+: don\textquotesingle{}t use custom getter for Validation\+Error message \#5359
\item fix(query)\+: handle run\+Setters\+On\+Query in built-\/in \+\_\+id setter \#5351
\item fix(document)\+: ensure consistent context for nested doc custom validators \#5347
\end{DoxyItemize}

\section*{4.\+10.\+7 / 2017-\/06-\/18 }


\begin{DoxyItemize}
\item docs(validation)\+: show overriding custom validator error with 2nd cb arg \#5358
\item fix\+: {\ttfamily parse\+Option} mutates user passed option map \#5357 \href{https://github.com/igwejk}{\tt igwejk}
\item docs\+: fix guide.\+jade typo \#5356 \href{https://github.com/CalebAnderson2014}{\tt Caleb\+Anderson2014}
\item fix(populate)\+: don\textquotesingle{}t set populate virtual to ids when match fails \#5336
\item fix(query)\+: callback with cast error if remove and delete$\ast$ args have a cast error \#5323
\end{DoxyItemize}

\section*{4.\+10.\+6 / 2017-\/06-\/12 }


\begin{DoxyItemize}
\item fix(cursor)\+: handle custom model option for populate \#5334
\item fix(populate)\+: handle empty virtual populate with Model.\+populate \#5331
\item fix(model)\+: make ensure\+Indexes() run with auto\+Index\+: false unless called internally \#5328 \#5324 \#5317
\item fix\+: wait for all connections to close before resolving disconnect() promise \#5316
\item fix(document)\+: handle setting populated path with custom type\+Key in schema \#5313
\item fix(error)\+: add to\+J\+S\+ON helper to Validation\+Error so {\ttfamily message} shows up with J\+S\+O\+N.\+stringify \#5309
\item feat\+: add {\ttfamily get\+Promise\+Constructor()} to prevent need for {\ttfamily mongoose.\+Promise.\+E\+S6} \#5305
\item fix(document)\+: handle conditional required with undefined props \#5296
\item fix(model)\+: clone options before inserting in save() \#5294
\item docs(populate)\+: clarify that multiple populate() calls on same path overwrite \#5274
\end{DoxyItemize}

\section*{4.\+10.\+5 / 2017-\/06-\/06 }


\begin{DoxyItemize}
\item chore\+: improve contrib guide for building docs \#5312
\item fix(populate)\+: handle init-\/ing nested virtuals properly \#5311
\item fix(update)\+: report update validator error if required path under single nested doc not set
\item fix(schema)\+: remove default validate pre hook that was causing issues with jest \#4943
\end{DoxyItemize}

\section*{4.\+10.\+4 / 2017-\/05-\/29 }


\begin{DoxyItemize}
\item chore\+: dont store test data in same directory \#5303
\item chore\+: add data dirs to npmignore \#5301 \href{https://github.com/Starfox64}{\tt Starfox64}
\item docs(query)\+: add docs about run\+Setters\+On\+Query \#5300
\end{DoxyItemize}

\section*{4.\+10.\+3 / 2017-\/05-\/27 }


\begin{DoxyItemize}
\item docs\+: correct inconsistent references to update\+One and replace\+One \#5297 \href{https://github.com/dhritzkiv}{\tt dhritzkiv}
\item docs\+: fix dropdowns in docs \#5292 \href{https://github.com/nathanallen}{\tt nathanallen}
\item docs\+: add description of alias option \#5287
\item fix(document)\+: prevent infinite loop if validating nested array \#5282
\item fix(schema)\+: correctly handle ref Object\+Ids from different mongoose libs \#5259
\item fix(schema)\+: load child class methods after base class methods to allow override \#5227
\end{DoxyItemize}

\section*{4.\+10.\+2 / 2017-\/05-\/22 }


\begin{DoxyItemize}
\item fix\+: bump ms -\/$>$ 2.\+0.\+0 and mquery -\/$>$ 2.\+3.\+1 for minor security vulnerability \#5275
\end{DoxyItemize}

\section*{4.\+10.\+1 / 2017-\/05-\/21 }


\begin{DoxyItemize}
\item fix(aggregate)\+: handle sorting by text score correctly \#5258
\item fix(populate)\+: handle doc.\+populate() with virtuals \#5240
\item fix(schema)\+: enforce that {\ttfamily \+\_\+id} is never null \#5236
\end{DoxyItemize}

\section*{4.\+10.\+0 / 2017-\/05-\/18 }


\begin{DoxyItemize}
\item fix(schema)\+: update clone method to include indexes \#5268 \href{https://github.com/clozanosanchez}{\tt clozanosanchez}
\item feat(schema)\+: support aliases \#5184 \href{https://github.com/rocketspacer}{\tt rocketspacer}
\item feat(aggregate)\+: add mongoose-\/specific aggregation cursor option \#5145
\item refactor(model)\+: make sharding into a plugin instead of core \#5105
\item fix(document)\+: make nested doc mongoose internals not enumerable again \#5078
\item feat(model)\+: pass params to pre hooks \#5064
\item feat(timestamps)\+: support already defined timestamp paths in schema \#4868
\item feat(query)\+: add run\+Setters\+On\+Query option \#4569
\item fix(query)\+: add strict\+Query option that throws when not querying on field not in schema \#4136
\item fix(update)\+: more complete handling for overwrite option with update validators \#3556
\item feat\+: support {\ttfamily unique\+: true} in arrays via the mongoose-\/unique-\/array plugin \#3347
\item fix(model)\+: always emit \textquotesingle{}index\textquotesingle{}, even if no indexes \#3347
\item fix(schema)\+: set unique indexes on primitive arrays \#3347
\item feat(validation)\+: include failed paths in error message and inspect output \#3064 \#2135
\item fix(model)\+: return saved docs when create() fails \#2190
\end{DoxyItemize}

\section*{4.\+9.\+10 / 2017-\/05-\/17 }


\begin{DoxyItemize}
\item fix(connection)\+: ensure callback arg to open\+Set() is handled properly \#5249
\item docs\+: remove dead plugins repo and add content links \#5247
\item fix(model)\+: skip index build if connecting after model init and auto\+Index false \#5176
\end{DoxyItemize}

\section*{4.\+9.\+9 / 2017-\/05-\/13 }


\begin{DoxyItemize}
\item docs\+: correct value for Query\+::regex() \#5230
\item fix(connection)\+: don\textquotesingle{}t throw if .catch() on open() promise \#5229
\item fix(schema)\+: allow update with \$current\+Date for updated\+At to succeed \#5222
\item fix(model)\+: versioning doesn\textquotesingle{}t fail if version key undefined \#5221 \href{https://github.com/basileos}{\tt basileos}
\item fix(document)\+: don\textquotesingle{}t emit model error if callback specified for consistency with docs \#5216
\item fix(document)\+: handle errors in subdoc pre validate \#5215
\end{DoxyItemize}

\section*{4.\+9.\+8 / 2017-\/05-\/07 }


\begin{DoxyItemize}
\item docs(subdocs)\+: rewrite subdocs guide \#5217
\item fix(document)\+: avoid circular J\+S\+ON if error in doc array under single nested subdoc \#5208
\item fix(document)\+: set intermediate empty objects for deeply nested undefined paths before path itself \#5206
\item fix(schema)\+: throw error if first param to schema.\+plugin() is not a function \#5201
\item perf(document)\+: major speedup in validating subdocs (50x in some cases) \#5191
\end{DoxyItemize}

\section*{4.\+9.\+7 / 2017-\/04-\/30 }


\begin{DoxyItemize}
\item docs\+: fix typo \#5204 \href{https://github.com/phutchins}{\tt phutchins}
\item fix(schema)\+: ensure correct path for deeply nested schema indexes \#5199
\item fix(schema)\+: make remove a reserved name \#5197
\item fix(model)\+: handle Decimal type in insert\+Many correctly \#5190
\item fix\+: upgrade kareem to handle async pre hooks correctly \#5188
\item docs\+: add details about unique not being a validator \#5179
\item fix(validation)\+: handle returning a promise with is\+Async\+: true \#5171
\end{DoxyItemize}

\section*{4.\+9.\+6 / 2017-\/04-\/23 }


\begin{DoxyItemize}
\item fix\+: update {\ttfamily parent\+Array} references when directly assigning document arrays \#5192 \href{https://github.com/jhob}{\tt jhob}
\item docs\+: improve schematype validator docs \#5178 \href{https://github.com/milesbarr}{\tt milesbarr}
\item fix(model)\+: modify discriminator() class in place \#5175
\item fix(model)\+: handle bulk\+Write update\+Many casting \#5172 \href{https://github.com/tzellman}{\tt tzellman}
\item docs(model)\+: fix replace\+One example for bulk\+Write \#5168
\item fix(document)\+: don\textquotesingle{}t create a new array subdoc when creating schema array \#5162
\item fix(model)\+: merge query hooks from discriminators \#5147
\item fix(document)\+: add parent() function to subdocument to match array subdoc \#5134
\end{DoxyItemize}

\section*{4.\+9.\+5 / 2017-\/04-\/16 }


\begin{DoxyItemize}
\item fix(query)\+: correct \$pull\+All casting of null \#5164 \href{https://github.com/Sebmaster}{\tt Sebmaster}
\item docs\+: add advanced schemas docs for load\+Class \#5157
\item fix(document)\+: handle null/undefined gracefully in apply\+Getters() \#5143
\item fix(model)\+: add resolve\+To\+Object option for map\+Reduce with E\+S6 promises \#4945
\end{DoxyItemize}

\section*{4.\+9.\+4 / 2017-\/04-\/09 }


\begin{DoxyItemize}
\item fix(schema)\+: clone query middleware correctly \#5153 \#5141 \href{https://github.com/clozanosanchez}{\tt clozanosanchez}
\item docs(aggregate)\+: fix typo \#5142
\item fix(query)\+: cast .\$ update to underlying array type \#5130
\item fix(populate)\+: don\textquotesingle{}t mutate populate result in place \#5128
\item fix(query)\+: handle \$set\+On\+Insert consistent with \$set \#5126
\item docs(query)\+: add strict mode option for find\+One\+And\+Update \#5108
\end{DoxyItemize}

\section*{4.\+9.\+3 / 2017-\/04-\/02 }


\begin{DoxyItemize}
\item docs\+: document.\+js fixes for functions prepended with {\ttfamily \$} \#5131 \href{https://github.com/krmannix}{\tt krmannix}
\item fix\+: Avoid exception on constructor check \#5129 \href{https://github.com/monkbroc}{\tt monkbroc}
\item docs(schematype)\+: explain how to use {\ttfamily is\+Async} with validate() \#5125
\item docs(schematype)\+: explain custom message with required function \#5123
\item fix(populate)\+: only apply ref\+Path duplicate id optimization if not array \#5114
\item fix(document)\+: copy non-\/objects to doc when init() \#5111
\item perf(populate)\+: dont clone whole options every time \#5103
\item feat(document)\+: add is\+Direct\+Selected() to minimize is\+Selected() changes \#5063
\item docs(schematypes)\+: explain some subtleties with arrays \#5059
\end{DoxyItemize}

\section*{4.\+9.\+2 / 2017-\/03-\/26 }


\begin{DoxyItemize}
\item fix(discriminator)\+: handle class names consistently \#5104
\item fix(schema)\+: make clone() work with reusing discriminator schemas \#5098
\item fix(querycursor)\+: run pre find hooks with .cursor() \#5096
\item fix(connection)\+: throw error if username\+:password includes @ or \+: \#5091
\item fix(timestamps)\+: handle overwriting created\+At+updated\+At consistently \#5088
\item fix(document)\+: ensure subdoc post save runs after parent save \#5085
\item docs(model)\+: improve update docs \#5076 \href{https://github.com/bertolo1988}{\tt bertolo1988}
\end{DoxyItemize}

\section*{4.\+9.\+1 / 2017-\/03-\/19 }


\begin{DoxyItemize}
\item fix(query)\+: handle \$type for arrays \#5080 \#5079 \href{https://github.com/zoellner}{\tt zoellner}
\item fix(model)\+: handle ordered param for {\ttfamily insert\+Many} validation errors \#5072 \href{https://github.com/sjorssnoeren}{\tt sjorssnoeren}
\item fix(populate)\+: avoid duplicate ids in dynref queries \#5054
\item fix(timestamps)\+: dont set timestamps in update if user set it \#5045
\item fix(update)\+: dont double-\/call setters on arrays \#5041
\item fix\+: upgrade driver -\/$>$ 2.\+2.\+25 for jest fix \#5033
\item fix(model)\+: get promise each time save() is called rather than once \#5030
\item fix(connection)\+: make connect return value consistent \#5006
\end{DoxyItemize}

\section*{4.\+9.\+0 / 2017-\/03-\/13 }


\begin{DoxyItemize}
\item feat(document)\+: return this from {\ttfamily depopulate()} \#5027
\item fix(drivers)\+: stop emitting timeouts as errors \#5026
\item feat(schema)\+: add a clone() function for schemas \#4983
\item feat(query)\+: add raw\+Result option to replace pass\+Raw\+Result, deprecate pass\+Raw\+Result \#4977 \#4925
\item feat(schematype)\+: support is\+Async validator option and handle returning promises from validators, deprecate implicit async validators \#4290
\item feat(query)\+: add {\ttfamily replace\+One()}, {\ttfamily delete\+One()}, {\ttfamily delete\+Many()} \#3998
\item feat(model)\+: add {\ttfamily bulk\+Write()} \#3998
\end{DoxyItemize}

\section*{4.\+8.\+7 / 2017-\/03-\/12 }


\begin{DoxyItemize}
\item fix(model)\+: if last arg in spread is falsy, treat it as a callback \#5061
\item fix(document)\+: use \$hook instead of hook to enable \textquotesingle{}hook\textquotesingle{} as a path name \#5047
\item fix(populate)\+: dont select foreign field if parent field is selected \#5037
\item fix(populate)\+: handle passing no args to query.\+populate \#5036
\item fix(update)\+: use correct method for casting nested arrays \#5032
\item fix(discriminator)\+: handle array discriminators when casting \$push \#5009
\end{DoxyItemize}

\section*{4.\+8.\+6 / 2017-\/03-\/05 }


\begin{DoxyItemize}
\item docs(document)\+: remove text that implies that transform is false by default \#5023
\item fix(apply\+Hooks)\+: dont wrap a function if it is already wrapped \#5019
\item fix(document)\+: ensure nested docs\textquotesingle{} to\+Object() clones \#5008
\end{DoxyItemize}

\section*{4.\+8.\+5 / 2017-\/02-\/25 }


\begin{DoxyItemize}
\item fix\+: check for empty schema\+Path before accessing property \$is\+Mongoose\+Document\+Array \#5017 \mbox{[}\href{https://github.com/randyhoulahan}{\tt https\+://github.\+com/randyhoulahan}\mbox{]}(randyhoulahan)
\item fix(discriminators)\+: handle create() and push() for embedded discriminators \#5001
\item fix(querycursor)\+: ensure close emitted after last data event \#4998
\item fix(discriminators)\+: remove fields not selected in child when querying by base model \#4991
\end{DoxyItemize}

\section*{4.\+8.\+4 / 2017-\/02-\/19 }


\begin{DoxyItemize}
\item docs(discriminators)\+: explain embedded discriminators \#4997
\item fix(query)\+: fix Type\+Error when find\+One\+And\+Update errors \#4990
\item fix(update)\+: handle nested single embedded in update validators correctly \#4989
\item fix(browser)\+: make browser doc constructor not crash \#4987
\end{DoxyItemize}

\section*{4.\+8.\+3 / 2017-\/02-\/15 }


\begin{DoxyItemize}
\item chore\+: upgrade mongodb driver -\/$>$ 2.\+2.\+24
\item docs(connections)\+: addd some details about callbacks \#4986
\item fix\+: ensure class is created with new keyword \#4972 \#4947 \href{https://github.com/benhjames}{\tt benhjames}
\item fix(discriminator)\+: add apply\+Plugins\+To\+Discriminators option \#4965
\item fix(update)\+: properly cast array subdocs when casting update \#4960
\item fix(populate)\+: ensure foreign field is selected for virtual populate \#4959
\item docs(query)\+: document some query callback params \#4949
\item fix(document)\+: ensure errors in validators get caught \#2185
\end{DoxyItemize}

\section*{4.\+8.\+2 / 2017-\/02-\/10 }


\begin{DoxyItemize}
\item fix(update)\+: actually run validators on add\+To\+Set \#4953
\item fix(update)\+: improve buffer error handling \#4944 \href{https://github.com/ValYouW}{\tt Val\+YouW}
\item fix(discriminator)\+: handle subclassing with load\+Class correctly \#4942
\item fix(query)\+: allow passing Map to sort() \#4941
\item fix(document)\+: handle setting discriminator doc \#4935
\item fix(schema)\+: return correct value from pre init hook \#4928
\item fix(query)\+: ensure consistent params in error handlers if pre hook errors \#4927
\end{DoxyItemize}

\section*{4.\+8.\+1 / 2017-\/01-\/30 }


\begin{DoxyItemize}
\item fix(query)\+: handle \$exists for arrays and embedded docs \#4937
\item fix(query)\+: handle passing string to hint() \#4931
\end{DoxyItemize}

\section*{4.\+8.\+0 / 2017-\/01-\/28 }


\begin{DoxyItemize}
\item feat(schema)\+: add save\+Error\+If\+Not\+Found option and \$where property \#4924 \#4004
\item feat(query)\+: add \$in implicitly if passed an array \#4912 \href{https://github.com/QuotableWater7}{\tt Quotable\+Water7}
\item feat(aggregate)\+: helper for \$facet \#4904 \href{https://github.com/varunjayaraman}{\tt varunjayaraman}
\item feat(query)\+: add collation method \#4839
\item feat(schema)\+: propogate strict option to implicit array subschemas \#4831 \href{https://github.com/dkrosso}{\tt dkrosso}
\item feat(aggregate)\+: add helper for graph\+Lookup \#4819 \href{https://github.com/varunjayaraman}{\tt varunjayaraman}
\item feat(types)\+: support Decimal128 \#4759
\item feat(aggregate)\+: add each\+Async() to aggregate cursor \#4300
\item feat(query)\+: add update\+One and update\+Many \#3997
\item feat(model)\+: support options for insert\+Many \#3893
\item fix(document)\+: run validation on single nested docs if not directly modified \#3884
\item feat(model)\+: use discriminator constructor based on discriminator\+Key in create() \#3624
\item feat\+: pass collection as context to debug function \#3261
\item feat(query)\+: support push and add\+To\+Set for update validators \#2933
\item perf(document)\+: refactor register\+Hooks\+From\+Schema so hooks are defined on doc prototype \#2754
\item feat(types)\+: add discriminator() function to doc arrays \#2723 \#1856
\item fix(populate)\+: return an error if sorting underneath a doc array \#2202
\end{DoxyItemize}

\section*{4.\+7.\+9 / 2017-\/01-\/27 }


\begin{DoxyItemize}
\item fix(query)\+: handle casting \$exists under \$not \#4933
\item chore\+: upgrade mongodb -\/$>$ 2.\+2.\+22 re\+: \#4931
\end{DoxyItemize}

\section*{4.\+7.\+8 / 2017-\/01-\/23 }


\begin{DoxyItemize}
\item fix(populate)\+: better handling for virtual populate under arrays \#4923
\item docs\+: upgrade contributors count \#4918 \href{https://github.com/AdamZaczek}{\tt Adam\+Zaczek}
\item fix(query)\+: don\textquotesingle{}t set nested path default if setting parent path \#4911
\item docs(promise)\+: add missing bracket \#4907
\item fix(connection)\+: ensure error handling is consistently async \#4905
\item fix\+: handle auth\+Mechanism in query string \#4900
\item fix(document)\+: ensure error handlers run for validate \#4885
\end{DoxyItemize}

\section*{4.\+7.\+7 / 2017-\/01-\/15 }


\begin{DoxyItemize}
\item fix(utils)\+: don\textquotesingle{}t crash if to\mbox{[}key\mbox{]} is null \#4881
\item fix\+: upgrade mongodb -\/$>$ 2.\+2.\+21 \#4867
\item fix\+: add a to\+B\+S\+ON to documents for easier querying \#4866
\item fix\+: suppress bluebird warning \#4854 \href{https://github.com/davidwu226}{\tt davidwu226}
\item fix(populate)\+: handle nested virtuals in virtual populate \#4851
\end{DoxyItemize}

\section*{4.\+7.\+6 / 2017-\/01-\/02 }


\begin{DoxyItemize}
\item fix(model)\+: allow passing non-\/array to insert\+Many \#4846
\item fix(populate)\+: use base model name if no discriminator for backwards compat \#4843
\item fix\+: allow internal validate callback to be optional \#4842 \href{https://github.com/arciisine}{\tt arciisine}
\item fix(document)\+: don\textquotesingle{}t skip point\+Cut if save not defined (like in browser doc) \#4841
\item chore\+: improve benchmarks \#4838 \href{https://github.com/billouboq}{\tt billouboq}
\item perf\+: remove some unused parameters \#4837 \href{https://github.com/billouboq}{\tt billouboq}
\item fix(query)\+: don\textquotesingle{}t call error handler if pass\+Raw\+Result is true and no error occurred \#4836
\end{DoxyItemize}

\section*{4.\+7.\+5 / 2016-\/12-\/26 }


\begin{DoxyItemize}
\item docs(model)\+: fix spelling mistake \#4828 \href{https://github.com/paulinoj}{\tt paulinoj}
\item fix(aggregate)\+: remove unhandled rejection when using aggregate.\+then() \#4824
\item perf\+: remove try/catch that kills optimizer \#4821
\item fix(model)\+: handles populating with discriminators that may not have a ref \#4817
\item fix(document)\+: handle setting array of discriminators \#3575
\end{DoxyItemize}

\section*{4.\+7.\+4 / 2016-\/12-\/21 }


\begin{DoxyItemize}
\item docs\+: fix typo \#4810 \href{https://github.com/GEEKIAM}{\tt G\+E\+E\+K\+I\+AM}
\item fix(query)\+: timestamps with \$push + \$each \#4805
\item fix(document)\+: handle buffers correctly in minimize \#4800
\item fix\+: don\textquotesingle{}t disallow overwriting default and cast fns \#4795 \href{https://github.com/pdspicer}{\tt pdspicer}
\item fix(document)\+: don\textquotesingle{}t convert single nested docs to P\+O\+J\+Os \#4793
\item fix(connection)\+: handle reconnect to replica set correctly \#4972 \href{https://github.com/gfzabarino}{\tt gfzabarino}
\end{DoxyItemize}

\section*{4.\+7.\+3 / 2016-\/12-\/16 }


\begin{DoxyItemize}
\item fix\+: upgrade mongodb driver -\/$>$ 2.\+2.\+16 for several bug fixes and 3.\+4 support \#4799
\item fix(model)\+: ensure discriminator key is correct for child schema on discriminator \#4790
\item fix(document)\+: handle mark valid in subdocs correctly \#4778
\item fix(query)\+: check for objects consistently \#4775
\end{DoxyItemize}

\section*{4.\+7.\+2 / 2016-\/12-\/07 }


\begin{DoxyItemize}
\item test(populate)\+: fix just\+One test \#4772 \href{https://github.com/cblanc}{\tt cblanc}
\item chore\+: fix benchmarks \#4769 \href{https://github.com/billouboq}{\tt billouboq}
\item fix(document)\+: handle setting subdoc to null after setting parent doc \#4766
\item fix(query)\+: support pass\+Raw\+Result with lean \#4762 \#4761 \href{https://github.com/mhfrantz}{\tt mhfrantz}
\item fix(query)\+: throw Strict\+Mode\+Error if upsert with nonexisting field in condition \#4757
\item test\+: fix a couple of sort tests \#4756 \href{https://github.com/japod}{\tt japod}
\item chore\+: upgrade mongodb driver -\/$>$ 2.\+2.\+12 \#4753 \href{https://github.com/mdlavin}{\tt mdlavin}
\item fix(query)\+: handle update with upsert and overwrite correctly \#4749
\end{DoxyItemize}

\section*{4.\+7.\+1 / 2016-\/11-\/30 }


\begin{DoxyItemize}
\item fix(schema)\+: throw error if you use prototype as a schema path \#4746
\item fix(schema)\+: throw helpful error if you define a virtual with the same path as a real path \#4744
\item fix(connection)\+: make create\+Connection not throw rejected promises \#4742
\item fix(populate)\+: allow specifiying options in model schema \#4741
\item fix(document)\+: handle selected nested elements with defaults \#4739
\item fix(query)\+: add model to cast error if possible \#4729
\item fix(query)\+: handle timestamps with overwrite \#4054
\end{DoxyItemize}

\section*{4.\+7.\+0 / 2016-\/11-\/23 }


\begin{DoxyItemize}
\item docs\+: clean up schematypes \#4732 \href{https://github.com/kidlj}{\tt kidlj}
\item perf\+: only get stack when necessary with Version\+Error \#4726 \href{https://github.com/Sebmaster}{\tt Sebmaster}
\item fix(query)\+: ensure correct casting when setting array element \#4724
\item fix(connection)\+: ensure db name gets set when you pass 4 params \#4721
\item fix\+: prevent Type\+Error in node v7 \#4719 \#4706
\item feat(document)\+: support .set() on virtual subpaths \#4716
\item feat(populate)\+: support populate virtuals on nested schemas \#4715
\item feat(querycursor)\+: support transform option and .map() \#4714 \#4705 \href{https://github.com/cblanc}{\tt cblanc}
\item fix(document)\+: dont set defaults on not-\/selected nested paths \#4707
\item fix(populate)\+: don\textquotesingle{}t throw if empty string passed to populate \#4702
\item feat(model)\+: add {\ttfamily load\+Class()} function for importing schema from E\+S6 class \#4668 \href{https://github.com/rockmacaca}{\tt rockmacaca}
\end{DoxyItemize}

\section*{4.\+6.\+8 / 2016-\/11-\/14 }


\begin{DoxyItemize}
\item fix(querycursor)\+: clear stack when iterating onto next doc \#4697
\item fix\+: handle null keys in validation error \#4693 \#4689 \href{https://github.com/arciisine}{\tt arciisine}
\item fix(populate)\+: handle pre init middleware correctly with populate virtuals \#4683
\item fix(connection)\+: ensure consistent return value for open and open\+Set \#4659
\item fix(schema)\+: handle falsy defaults for arrays \#4620
\end{DoxyItemize}

\section*{4.\+6.\+7 / 2016-\/11-\/10 }


\begin{DoxyItemize}
\item fix(document)\+: only invalidate in subdoc if using update validators \#4681
\item fix(document)\+: don\textquotesingle{}t create subdocs when excluded in projection \#4669
\item fix(document)\+: ensure single embedded schema validator runs with correct context \#4663
\item fix(document)\+: make sure to depopulate top level for sharding \#4658
\item fix(connection)\+: throw more helpful error when .model() called incorrectly \#4652
\item fix(populate)\+: throw more descriptive error when trying to populate a virtual that doesn\textquotesingle{}t have proper options \#4602
\item fix(document)\+: ensure subtype gets set properly when saving with a buffer id \#4506
\item fix(query)\+: handle set\+Defaults\+On\+Insert with defaults on doc arrays \#4456
\item fix(drivers)\+: make debug output better by calling to\+B\+S\+O\+N() \#4356
\end{DoxyItemize}

\section*{4.\+6.\+6 / 2016-\/11-\/03 }


\begin{DoxyItemize}
\item chore\+: upgrade deps \#4674 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item chore\+: run tests on node v7 \#4673 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item perf\+: make set\+Defaults\+On\+Insert more efficient if upsert is off \#4672 \href{https://github.com/CamHenlin}{\tt Cam\+Henlin}
\item fix(populate)\+: ensure document array is returned \#4656
\item fix(query)\+: cast doc arrays with positionals correctly for update \#4655
\item fix(document)\+: ensure single nested doc validators run with correct context \#4654
\item fix\+: handle reconnect failed error in new version of driver \#4653 \href{https://github.com/loris}{\tt loris}
\item fix(populate)\+: if setting a populated doc, take its id \#4632
\item fix(populate)\+: handle populated virtuals in init \#4618
\end{DoxyItemize}

\section*{4.\+6.\+5 / 2016-\/10-\/23 }


\begin{DoxyItemize}
\item docs\+: fix grammar issues \#4642 \#4640 \#4639 \href{https://github.com/silvermanj7}{\tt silvermanj7}
\item fix(populate)\+: filter out nonexistant values for dynref \#4637
\item fix(query)\+: handle \$type as a schematype operator \#4632
\item fix(schema)\+: better handling for uppercase\+: false and lowercase\+: false \#4622
\item fix(query)\+: don\textquotesingle{}t run transforms on update\+For\+Exec() \#4621
\item fix(query)\+: handle id = 0 in find\+By\+Id \#4610
\item fix(query)\+: handle buffers in merge\+Clone \#4609
\item fix(document)\+: handle undefined with conditional validator for validate\+Sync \#4607
\item fix\+: upgrade to mongodb driver 2.\+2.\+11 \#4581
\item docs(schematypes)\+: clarify schema.\+path() \#4518
\item fix(query)\+: ensure path is defined before checking in timestamps \#4514
\item fix(model)\+: set version key in upsert \#4505
\item fix(document)\+: never depopulate top-\/level doc \#3057
\item refactor\+: ensure sync for setting non-\/capped collections \#2690
\end{DoxyItemize}

\section*{4.\+6.\+4 / 2016-\/10-\/16 }


\begin{DoxyItemize}
\item fix(query)\+: cast \$not correctly \#4616 \#4592 \href{https://github.com/prssn}{\tt prssn}
\item fix\+: address issue with caching global plugins \#4608 \#4601 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item fix(model)\+: make sure to depopulate in insert\+Many \#4590
\item fix(model)\+: buffer auto\+Index if buffer\+Commands disabled \#4589
\item fix(populate)\+: copy ids array before modifying \#4585
\item feat(schema)\+: add retain\+Key\+Order prop \#4542
\item fix(document)\+: return is\+Modified true for children of direct modified paths \#4528
\item fix(connection)\+: add drop\+Database() helper \#4490
\item fix(model)\+: add use\+Push\+Each option for schemas \#4455
\item docs(connections)\+: add some warnings about buffering \#4413
\item fix\+: add ability to set promise implementation in browser \#4395
\end{DoxyItemize}

\section*{4.\+6.\+3 / 2016-\/10-\/05 }


\begin{DoxyItemize}
\item fix(document)\+: ensure single nested docs get initialized correctly when setting nested paths \#4578
\item fix\+: turn off transforms when writing nested docs to db \#4574
\item fix(document)\+: don\textquotesingle{}t set single nested subdocs to null when removing parent doc \#4566
\item fix(model)\+: ensure version\+Key gets set in insert\+Many \#4561
\item fix(schema)\+: handle type\+Key in arrays \#4548
\item feat(schema)\+: set \$implicitly\+Created on schema if created by interpret\+As\+Type \#4443
\end{DoxyItemize}

\section*{4.\+6.\+2 / 2016-\/09-\/30 }


\begin{DoxyItemize}
\item chore\+: upgrade to async 2.\+0.\+1 internally \#4579 \href{https://github.com/billouboq}{\tt billouboq}
\item fix(types)\+: ensure nested single doc schema errors reach update validators \#4557 \#4519
\item fix(connection)\+: handle rs names with leading numbers (muri 1.\+1.\+1) \#4556
\item fix(model)\+: don\textquotesingle{}t throw if method name conflicts with Object.\+prototype prop \#4551
\item docs\+: fix broken link \#4544 \href{https://github.com/VFedyk}{\tt V\+Fedyk}
\item fix\+: allow overwriting model on mongoose singleton \#4541 \href{https://github.com/Nainterceptor}{\tt Nainterceptor}
\item fix(document)\+: don\textquotesingle{}t use init\+: true when building doc defaults \#4540
\item fix(connection)\+: use repl\+Set option if replset not specified \#4535
\item fix(query)\+: cast \$not objects \#4495
\end{DoxyItemize}

\section*{4.\+6.\+1 / 2016-\/09-\/20 }


\begin{DoxyItemize}
\item fix(query)\+: improve handling of \$not with \$elem\+Match \#4531 \#3719 \href{https://github.com/timbowhite}{\tt timbowhite}
\item fix\+: upgrade mongodb -\/$>$ 2.\+2.\+10 \#4517
\item chore\+: fix webpack build issue \#4512 \href{https://github.com/saiichihashimoto}{\tt saiichihashimoto}
\item fix(query)\+: emit error on next tick when exec callback errors \#4500
\item test\+: improve test case \#4496 \href{https://github.com/isayme}{\tt isayme}
\item fix(schema)\+: use same check for array types and top-\/level types \#4493
\item style\+: fix indentation in docs \#4489 \href{https://github.com/dhurlburtusa}{\tt dhurlburtusa}
\item fix(schema)\+: expose original object passed to constructor \#4486
\item fix(query)\+: handle find\+One\+And\+Update with array of arrays \#4484 \#4470 \href{https://github.com/fedotov}{\tt fedotov}
\item feat(document)\+: add \$ignore to make a path ignored \#4480
\item fix(query)\+: properly handle setting single embedded in update \#4475 \#4466 \#4465
\item fix(update\+Validators)\+: handle single nested schema subpaths correctly \#4479
\item fix(model)\+: throw handy error when method name conflicts with property name \#4475
\item fix(schema)\+: handle .set() with array field \#4472
\item fix(query)\+: check nested path when avoiding double-\/validating Mixed \#4441
\item fix(schema)\+: handle calling path.\+trim() with no args correctly \#4042
\end{DoxyItemize}

\section*{4.\+6.\+0 / 2016-\/09-\/02 }


\begin{DoxyItemize}
\item docs(document)\+: clarify the find\+By\+Id and find\+By\+Id\+And\+Update examples \#4471 \href{https://github.com/mdcanham}{\tt mdcanham}
\item docs(schematypes)\+: add details re\+: options \#4452
\item docs(middleware)\+: add docs for insert\+Many hooks \#4451
\item fix(schema)\+: create new array when copying from existing object to preserve change tracking \#4449
\item docs\+: fix typo in index.\+jade \#4448
\item fix(query)\+: allow array for populate options \#4446
\item fix(model)\+: create should not cause unhandle reject promise \#4439
\item fix\+: upgrade to mongodb driver 2.\+2.\+9 \#4363 \#4341 \#4311 (see \href{https://github.com/mongodb/js-bson/commit/aa0b54597a0af28cce3530d2144af708e4b66bf0#commitcomment-18850498}{\tt comments here} if you use node 0.\+10)
\end{DoxyItemize}

\section*{4.\+5.\+10 / 2016-\/08-\/23 }


\begin{DoxyItemize}
\item docs\+: fix typo on documents.\+jade \#4444 \href{https://github.com/Gabri3l}{\tt Gabri3l}
\item chore\+: upgrade mocha to 3.\+0.\+2 \#4437 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item fix\+: subdocuments causing error with parent timestamp on update \#4434 \href{https://github.com/dyang108}{\tt dyang108}
\item fix(query)\+: don\textquotesingle{}t crash if timestamps on and update doesn\textquotesingle{}t have a path \#4425 \#4424 \#4418
\item fix(query)\+: ensure single nested subdoc is hydrated when running update validators \#4420
\item fix(query)\+: cast non-\/\$geometry operators for \$geo\+Within \#4419
\item docs\+: update contributor count \#4415 \href{https://github.com/AdamZaczek}{\tt Adam\+Zaczek}
\item docs\+: add more clarification re\+: the index event \#4410
\item fix(document)\+: only skip modifying subdoc path if parent is direct modified \#4405
\item fix(schema)\+: throw cast error if provided date invalid \#4404
\item feat(error)\+: use util.\+inspect() so Cast\+Error never prints \char`\"{}\mbox{[}object Object\mbox{]}\char`\"{} \#4398
\item fix(model)\+: dont error if the discriminator key is unchanged \#4387
\item fix(query)\+: don\textquotesingle{}t throw unhandled rejection with bluebird when using cbs \#4379
\end{DoxyItemize}

\section*{4.\+5.\+9 / 2016-\/08-\/14 }


\begin{DoxyItemize}
\item docs\+: add mixed schema doc for Object literal \#4400 \href{https://github.com/Kikobeats}{\tt Kikobeats}
\item fix(query)\+: cast \$geo\+Within and convert mongoose objects to P\+O\+J\+Os before casting \#4392
\item fix(schematype)\+: dont cast defaults without parent doc \#4390
\item fix(query)\+: disallow passing empty string to find\+One() \#4378
\item fix(document)\+: set single nested doc is\+New correctly \#4369
\item fix(types)\+: checks field name correctly with nested arrays and populate \#4365
\item fix(drivers)\+: make debug output copy-\/pastable into mongodb shell \#4352
\item fix(services)\+: run update validators on nested paths \#4332
\item fix(model)\+: handle type\+Key with discriminators \#4339
\item fix(query)\+: apply timestamps to child schemas when explicitly specified in update \#4049
\item fix(schema)\+: set prefix as nested path with add() \#1730
\end{DoxyItemize}

\section*{4.\+5.\+8 / 2016-\/08-\/01 }


\begin{DoxyItemize}
\item fix(model)\+: make changing the discriminator key cause a cast error \#4374
\item fix(query)\+: pass projection fields to cursor \#4371 \#4342 \href{https://github.com/Corei13}{\tt Corei13}
\item fix(document)\+: support multiple paths for is\+Modified \#4370 \href{https://github.com/adambuczynski}{\tt adambuczynski}
\item fix(querycursor)\+: always cast fields before returning cursor \#4355
\item fix(query)\+: support projection as alias for fields in find\+One\+And\+Update \#4315
\item fix(schema)\+: treat index false + unique false as no index \#4304
\item fix(types)\+: dont mark single nested subpath as modified if whole doc already modified \#4224
\end{DoxyItemize}

\section*{4.\+5.\+7 / 2016-\/07-\/25 }


\begin{DoxyItemize}
\item fix(document)\+: ensure no unhandled rejections if callback specified for save \#4364
\end{DoxyItemize}

\section*{4.\+5.\+6 / 2016-\/07-\/23 }


\begin{DoxyItemize}
\item fix(schema)\+: don\textquotesingle{}t overwrite created\+At if it isn\textquotesingle{}t selected \#4351 \href{https://github.com/tusbar}{\tt tusbar}
\item docs(api)\+: fix link to populate() and add a new one from depopulate() \#4345 \href{https://github.com/Delapouite}{\tt Delapouite}
\item fix(types)\+: owner\+Document() works properly with single nested docs \#4344 \href{https://github.com/vichle}{\tt vichle}
\item fix(populate)\+: dont use find\+One when just\+One option set \#4329
\item fix(document)\+: dont trigger .then() deprecated warning when calling doc.\+remove() \#4291
\item docs(connection)\+: add promise\+Library option \#4280
\item fix(plugins)\+: apply global plugins to subschemas \#4271
\item fix(model)\+: ensure {\ttfamily ensure\+Index()} never calls back in the same tick \#4246
\item docs(schema)\+: improve post hook docs on schema \#4238
\end{DoxyItemize}

\section*{4.\+5.\+5 / 2016-\/07-\/18 }


\begin{DoxyItemize}
\item fix(document)\+: handle setting root to empty obj if minimize false \#4337
\item fix\+: downgrade to mongodb 2.\+1.\+18 \#4335 \#4334 \#4328 \#4323
\item perf(types)\+: remove define\+Property usage in documentarray \#4333
\item fix(query)\+: correctly pass model in .to\+Constructor() \#4318
\item fix(services)\+: avoid double-\/validating mixed types with update validators \#4305
\item docs(middleware)\+: add docs describing error handling middleware \#4229
\item fix(types)\+: throw correct error when invalidating doc array \#3602
\end{DoxyItemize}

\section*{4.\+5.\+4 / 2016-\/07-\/11 }


\begin{DoxyItemize}
\item fix(types)\+: fix removing embedded documents \#4309 \href{https://github.com/RoCat}{\tt Ro\+Cat}
\item docs\+: various docs improvements \#4302 \#4294 \href{https://github.com/simonxca}{\tt simonxca}
\item fix\+: upgrade mongodb -\/$>$ 2.\+1.\+21 \#4295 \#4202 \href{https://github.com/RoCat}{\tt Ro\+Cat}
\item fix(populate)\+: convert single result to array for virtual populate because of lean \#4288
\item fix(populate)\+: handle empty results for populate virtuals properly \#4285 \#4284
\item fix(query)\+: dont cast \$inc to number if type is long \#4283
\item fix(types)\+: allow setting single nested doc to null \#4281
\item fix(populate)\+: handle deeply nested virtual populate \#4278
\item fix(document)\+: allow setting empty obj if strict mode is false \#4274
\item fix(aggregate)\+: allow passing obj to .unwind() \#4239
\item docs(document)\+: add return statements to transform examples \#1963
\end{DoxyItemize}

\section*{4.\+5.\+3 / 2016-\/06-\/30 }


\begin{DoxyItemize}
\item fix(query)\+: pass correct options to Query\+Cursor \#4277 \#4266
\item fix(querycursor)\+: handle lean option correctly \#4276 \href{https://github.com/gchudnov}{\tt gchudnov}
\item fix(document)\+: fix error handling when no error occurred \#4275
\item fix(error)\+: use strict mode for version error \#4272
\item docs(populate)\+: fix crashing compilation for populate.\+jade \#4267
\item fix(populate)\+: support {\ttfamily just\+One} option for populate virtuals \#4263
\item fix(populate)\+: ensure model param gets used for populate virtuals \#4261 \#4243
\item fix(querycursor)\+: add ability to properly close the cursor \#4258
\item docs(model)\+: correct link to Document \#4250
\item docs(populate)\+: correct path for ref\+Path populate \#4240
\item fix(document)\+: support validator.\+is\+Email as validator \#4064
\end{DoxyItemize}

\section*{4.\+5.\+2 / 2016-\/06-\/24 }


\begin{DoxyItemize}
\item fix(connection)\+: add checks for collection presence for {\ttfamily on\+Open} and {\ttfamily on\+Close} \#4259 \href{https://github.com/nodkz}{\tt nodkz}
\item fix(cast)\+: allow strings for \$type operator \#4256
\item fix(querycursor)\+: support lean() \#4255 \href{https://github.com/pyramation}{\tt pyramation}
\item fix(aggregate)\+: allow setting no\+Cursor\+Timeout option \#4241
\item fix(document)\+: handle undefined for Array.\+pull \#4222 \href{https://github.com/Sebmaster}{\tt Sebmaster}
\item fix(connection)\+: ensure promise.\+catch() catches initial connection error \#4135
\item fix(document)\+: show additional context for Version\+Error \#2633
\end{DoxyItemize}

\section*{4.\+5.\+1 / 2016-\/06-\/18 }


\begin{DoxyItemize}
\item fix(model)\+: ensure wrapped insert\+Many() returns a promise \#4237
\item fix(populate)\+: dont overwrite populate\+Virtuals when populating multiple paths \#4234
\item docs(model)\+: clarify relationship between create() and save() \#4233
\item fix(types)\+: handle option param in subdoc remove() \#4231 \href{https://github.com/tdebarochez}{\tt tdebarochez}
\item fix(document)\+: dedupe modified paths \#4226 \#4223 \href{https://github.com/adambuczynski}{\tt adambuczynski}
\item fix(model)\+: don\textquotesingle{}t modify user-\/provided options object \#4221
\item fix(document)\+: handle setting nested path to empty object \#4218 \#4182
\item fix(document)\+: clean subpaths when removing single nested \#4216
\item fix(document)\+: don\textquotesingle{}t force transform on subdocs with inspect \#4213
\item fix(error)\+: allow setting .messages object \#4207
\end{DoxyItemize}

\section*{4.\+5.\+0 / 2016-\/06-\/13 }


\begin{DoxyItemize}
\item feat(query)\+: added Query.\+prototype.\+catch() \#4215 \#4173 \href{https://github.com/adambuczynski}{\tt adambuczynski}
\item feat(query)\+: add Query.\+prototype.\+cursor() as a .stream() alternative \#4117 \#3637 \#1907
\item feat(document)\+: add mark\+Unmodified() function \#4092 \href{https://github.com/vincentcr}{\tt vincentcr}
\item feat(aggregate)\+: convert aggregate object to a thenable \#3995 \#3946 \href{https://github.com/megagon}{\tt megagon}
\item perf(types)\+: remove define\+Properties call for array ({\bfseries Note\+:} Because of this, a mongoose array will no longer {\ttfamily assert.\+deep\+Equal()} a plain old JS array) \#3886
\item feat(model)\+: add hooks for insert\+Many() \#3846
\item feat(schema)\+: add support for custom query methods \#3740 \#2372
\item feat(drivers)\+: emit error on \textquotesingle{}server\+Closed\textquotesingle{} because that means that reconnect failed \#3615
\item feat(model)\+: emit error event when callback throws exception \#3499
\item feat(model)\+: inherit options from discriminator base schema \#3414 \#1818
\item feat(populate)\+: expose mongoose-\/populate-\/virtuals inspired populate A\+PI \#2562
\item feat(document)\+: trigger remove hooks on subdocs when removing parent \#2348
\item feat(schema)\+: add support for express-\/style error handling middleware \#2284
\item fix(model)\+: disallow setting discriminator key \#2041
\item feat(schema)\+: add support for nested arrays \#1361
\end{DoxyItemize}

\section*{4.\+4.\+20 / 2016-\/06-\/05 }


\begin{DoxyItemize}
\item docs\+: clarify command buffering when using driver directly \#4195
\item fix(promise)\+: correct broken mpromise .catch() \#4189
\item fix(document)\+: clean modified subpaths when set path to empty obj \#4182
\item fix(query)\+: support min\+Distance with query casting and {\ttfamily .near()} \#4179
\item fix(model)\+: remove unnecessary .save() promise \#4177
\item fix(schema)\+: cast all valid Object\+Id strings to object ids \#3365
\item docs\+: remove unclear \char`\"{}unsafe\char`\"{} term in query docs \#3282
\end{DoxyItemize}

\section*{4.\+4.\+19 / 2016-\/05-\/21 }


\begin{DoxyItemize}
\item fix(model)\+: handle insert\+Many if timestamps not set \#4171
\end{DoxyItemize}

\section*{4.\+4.\+18 / 2016-\/05-\/21 }


\begin{DoxyItemize}
\item docs\+: add missing period \#4170 \href{https://github.com/gitname}{\tt gitname}
\item docs\+: change build badge to svg \#4158 \href{https://github.com/a0viedo}{\tt a0viedo}
\item fix(model)\+: update timestamps when setting {\ttfamily created\+At} \#4155
\item fix(utils)\+: make sure to require in document properly \#4152
\item fix(model)\+: throw overwrite error when discriminator name conflicts \#4148
\end{DoxyItemize}

\section*{4.\+4.\+17 / 2016-\/05-\/13 }


\begin{DoxyItemize}
\item docs\+: remove repetition in Query\+Stream docs \#4147 \href{https://github.com/hugoabonizio}{\tt hugoabonizio}
\item fix(document)\+: dont double-\/validate doc array elements \#4145
\item fix(document)\+: call required function with correct scope \#4142 \href{https://github.com/JedWatson}{\tt Jed\+Watson}
\end{DoxyItemize}

\section*{4.\+4.\+16 / 2016-\/05-\/09 }


\begin{DoxyItemize}
\item refactor(document)\+: use function reference \#4133 \href{https://github.com/dciccale}{\tt dciccale}
\item docs(querystream)\+: clarify {\ttfamily destroy()} and close event \#4126 \href{https://github.com/AnthonyCC}{\tt Anthony\+CC}
\item test\+: make before hook fail fast if it can\textquotesingle{}t connect \#4121
\item docs\+: add description of Cast\+Error constructor params \#4120
\item fix(schematype)\+: ensure single embedded defaults have \$parent \#4115
\item fix(document)\+: mark nested paths for validation \#4111
\item fix(schema)\+: make sure element is always a subdoc in doc array validation \#3816
\end{DoxyItemize}

\section*{4.\+4.\+15 / 2016-\/05-\/06 }


\begin{DoxyItemize}
\item fix(schema)\+: support overwriting array default \#4109
\item fix(populate)\+: assign values when resolving each populate \#4104
\item fix(aggregate)\+: dont send async option to server \#4101
\item fix(model)\+: ensure is\+New set to false after insert\+Many \#4099
\item fix(connection)\+: emit on error if listeners and no callback \#4098
\item fix(document)\+: treat required fn that returns false as required\+: false \#4094
\end{DoxyItemize}

\section*{4.\+4.\+14 / 2016-\/04-\/27 }


\begin{DoxyItemize}
\item fix\+: upgrade mongodb -\/$>$ 2.\+1.\+18 \#4102
\item feat(connection)\+: allow setting mongos as a uri query param \#4093 \#4035 \href{https://github.com/burtonjc}{\tt burtonjc}
\item fix(populate)\+: make sure to use correct assignment order for each model \#4073
\item fix(schema)\+: add complete set of geospatial operators for single embedded subdocs \#4014
\end{DoxyItemize}

\section*{3.\+8.\+40 / 2016-\/04-\/24 }


\begin{DoxyItemize}
\item upgraded; mquery -\/$>$ 1.\+10.\+0 \#3989
\end{DoxyItemize}

\section*{4.\+4.\+13 / 2016-\/04-\/21 }


\begin{DoxyItemize}
\item docs\+: add docs favicons \#4082 \href{https://github.com/robertjustjones}{\tt robertjustjones}
\item docs(model)\+: correct Model.\+remove() return value \#4075 \href{https://github.com/Jokero}{\tt Jokero}
\item fix(query)\+: add \$geo\+Within query casting for single embedded docs \#4044
\item fix(schema)\+: handle setting trim option to falsy \#4042
\item fix(query)\+: handle set\+Defaults\+On\+Insert with empty update \#3835
\end{DoxyItemize}

\section*{4.\+4.\+12 / 2016-\/04-\/08 }


\begin{DoxyItemize}
\item docs(query)\+: document context option for update and find\+One\+And\+Update \#4055
\item docs(query)\+: correct link to \$geo\+Within docs \#4050
\item fix(project)\+: upgrade to mongodb driver 2.\+1.\+16 \#4048 \href{https://github.com/schmalliso}{\tt schmalliso}
\item docs(validation)\+: fix validation docs \#4028
\item fix(types)\+: improve .id() check for document arrays \#4011
\item fix(query)\+: remove premature return when using \$rename \#3171
\item docs(connection)\+: clarify relationship between models and connections \#2157
\end{DoxyItemize}

\section*{4.\+4.\+11 / 2016-\/04-\/03 }


\begin{DoxyItemize}
\item fix\+: upgrade to mongodb driver 2.\+1.\+14 \#4036 \#4030 \#3945
\item fix(connection)\+: allow connecting with \{ mongos\+: true \} to handle query params \#4032 \href{https://github.com/burtonjc}{\tt burtonjc}
\item docs(connection)\+: add auto\+Index example \#4026 \href{https://github.com/tilleps}{\tt tilleps}
\item fix(query)\+: handle pass\+Raw\+Result option when zero results \#4023
\item fix(populate)\+: clone options before modifying \#4022
\item docs\+: add missing whitespace \#4019 \href{https://github.com/chenxsan}{\tt chenxsan}
\item chore\+: upgrade to E\+S\+Lint 2.\+4.\+0 \#4015 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fix(types)\+: single nested subdocs get ids by default \#4008
\item chore(project)\+: add dependency status badge \#4007 \href{http://github.com/Maheshkumar-Kakade}{\tt Maheshkumar-\/\+Kakade}
\item fix\+: make sure timestamps don\textquotesingle{}t trigger unnecessary updates \#4005 \#3991 \href{https://github.com/tommarien}{\tt tommarien}
\item fix(document)\+: inspect inherits schema options \#4001
\item fix(populate)\+: don\textquotesingle{}t mark populated path as modified if setting to object w/ same id \#3992
\item fix(document)\+: support kind argument to invalidate \#3965
\end{DoxyItemize}

\section*{4.\+4.\+10 / 2016-\/03-\/24 }


\begin{DoxyItemize}
\item fix(document)\+: copy is\+New when copying a document \#3982
\item fix(document)\+: don\textquotesingle{}t override defaults with undefined keys \#3981
\item fix(populate)\+: merge multiple deep populate options for the same path \#3974
\end{DoxyItemize}

\section*{4.\+4.\+9 / 2016-\/03-\/22 }


\begin{DoxyItemize}
\item fix\+: upgrade mongodb -\/$>$ 2.\+1.\+10 re \href{https://jira.mongodb.org/browse/NODE-679}{\tt https\+://jira.\+mongodb.\+org/browse/\+N\+O\+D\+E-\/679} \#4010
\item docs\+: add syntax highlighting for acquit examples \#3975
\end{DoxyItemize}

\section*{4.\+4.\+8 / 2016-\/03-\/18 }


\begin{DoxyItemize}
\item docs(aggregate)\+: clarify promises \#3990 \href{https://github.com/megagon}{\tt megagon}
\item fix\+: upgrade mquery -\/$>$ 1.\+10 \#3988 \href{https://github.com/matskiv}{\tt matskiv}
\item feat(connection)\+: \textquotesingle{}all\textquotesingle{} event for repl sets \#3986 \href{https://github.com/xizhibei}{\tt xizhibei}
\item docs(types)\+: clarify Array.\+pull \#3985 \href{https://github.com/seriousManual}{\tt serious\+Manual}
\item feat(query)\+: support array syntax for .sort() via mquery 1.\+9 \#3980
\item fix(populate)\+: support $>$ 3 level nested populate \#3973
\item fix\+: Mongoose\+Thenable exposes connection correctly \#3972
\item docs(connection)\+: add note about reconnect\+Tries and reconnect\+Interval \#3969
\item feat(document)\+: invalidate returns the new validation\+Error \#3964
\item fix(query)\+: .eq() as shorthand for .equals \#3953 \href{https://github.com/Fonger}{\tt Fonger}
\item docs(connection)\+: clarify connection string vs passed options \#3941
\item docs(query)\+: select option for find\+One\+And\+Update \#3933
\item fix(error)\+: Validation\+Error.\+properties no longer enumerable \#3925
\item docs(validation)\+: clarify how required validators work with nested schemas \#3915
\item fix\+: upgrade mongodb driver -\/$>$ 2.\+1.\+8 to make partial index errors more sane \#3864
\end{DoxyItemize}

\section*{4.\+4.\+7 / 2016-\/03-\/11 }


\begin{DoxyItemize}
\item fix(query)\+: stop infinite recursion caused by merging a mongoose buffer \#3961
\item fix(populate)\+: handle deep populate array -\/$>$ array \#3954
\item fix(schema)\+: allow setting timestamps with .set() \#3952 \#3951 \#3907 \href{https://github.com/Fonger}{\tt Fonger}
\item fix\+: Mongoose\+Thenable doesn\textquotesingle{}t overwrite constructors \#3940
\item fix(schema)\+: don\textquotesingle{}t cast boolean to date \#3935
\item fix(drivers)\+: support ssl\+Validate in connection string \#3929
\item fix(types)\+: correct mark\+Modified() for single nested subdocs \#3910
\item fix(drivers)\+: catch and report any errors that occur in driver methods \#3906
\item fix(populate)\+: get subpopulate model correctly when array under nested \#3904
\item fix(document)\+: allow fields named \textquotesingle{}pre\textquotesingle{} and \textquotesingle{}post\textquotesingle{} \#3902
\item docs(query)\+: clarify run\+Validators and set\+Defaults\+On\+Insert options \#3892
\item docs(validation)\+: show how to use custom required messages in schema \#2616
\end{DoxyItemize}

\section*{4.\+4.\+6 / 2016-\/03-\/02 }


\begin{DoxyItemize}
\item fix\+: upgrade mongodb driver to 2.\+1.\+7 \#3938
\item docs\+: fix plugins link \#3917 \#3909 \href{https://github.com/fbertone}{\tt fbertone}
\item fix(query)\+: sort+select with count works \#3914
\item fix(query)\+: improve merge\+Update\textquotesingle{}s ability to handle nested docs \#3890
\end{DoxyItemize}

\section*{4.\+4.\+5 / 2016-\/02-\/24 }


\begin{DoxyItemize}
\item fix(query)\+: ability to select a length field (upgrade to mquery 1.\+7.\+0) \#3903
\item fix\+: include nested Cast\+Error as reason for array Cast\+Error \#3897 \href{https://github.com/kotarou3}{\tt kotarou3}
\item fix(schema)\+: check for doc existence before taking fields \#3889
\item feat(schema)\+: use\+Nested\+Strict option to take nested strict mode for update \#3883
\item docs(validation)\+: clarify relationship between required and check\+Required \#3822
\item docs(populate)\+: dynamic reference docs \#3809
\item docs\+: expand dropdown when clicking on file name \#3807
\item docs\+: plugins.\+mongoosejs.\+io is up \#3127
\item fix(schema)\+: ability to add a virtual with same name as removed path \#2398
\end{DoxyItemize}

\section*{4.\+4.\+4 / 2016-\/02-\/17 }


\begin{DoxyItemize}
\item fix(schema)\+: handle field selection when casting single nested subdocs \#3880
\item fix(populate)\+: populating using base model with multiple child models in result \#3878
\item fix\+: ability to properly use return value of {\ttfamily mongoose.\+connect()} \#3874
\item fix(populate)\+: dont hydrate populated subdoc if lean option set \#3873
\item fix(connection)\+: dont re-\/auth if already connected with use\+Db \#3871
\item docs\+: cover how to set underlying driver\textquotesingle{}s promise lib \#3869
\item fix(document)\+: handle conflicting names in validation errors with subdocs \#3867
\item fix(populate)\+: set undefined instead of null consistently when populate couldn\textquotesingle{}t find results \#3859
\item docs\+: link to {\ttfamily exec\+Populate()} in {\ttfamily doc.\+populate()} docs \#3836
\item docs(plugin)\+: link to the {\ttfamily mongoose.\+plugin()} function \#3732
\end{DoxyItemize}

\section*{4.\+4.\+3 / 2016-\/02-\/09 }


\begin{DoxyItemize}
\item fix\+: upgrade to mongodb 2.\+1.\+6 to remove kerberos log output \#3861 \#3860 \href{https://github.com/cartuchogl}{\tt cartuchogl}
\item fix\+: require(\textquotesingle{}mongoose\textquotesingle{}) is no longer a pseudo-\/promise \#3856
\item fix(query)\+: update casting for single nested docs \#3820
\item fix(populate)\+: deep populating multiple paths with same options \#3808
\item docs(middleware)\+: clarify save/validate hook order \#1149
\end{DoxyItemize}

\section*{4.\+4.\+2 / 2016-\/02-\/05 }


\begin{DoxyItemize}
\item fix(aggregate)\+: handle calling .cursor() with no options \#3855
\item fix\+: upgrade mongodb driver to 2.\+1.\+5 for Grid\+FS memory leak fix \#3854
\item docs\+: fix schematype.\+html conflict \#3853 \#3850 \#3843
\item fix(model)\+: bluebird unhandled rejection with ensure\+Indexes() on init \#3837
\item docs\+: auto\+Index option for create\+Connection \#3805
\end{DoxyItemize}

\section*{4.\+4.\+1 / 2016-\/02-\/03 }


\begin{DoxyItemize}
\item fix\+: linting broke some cases where we use {\ttfamily == null} as shorthand \#3852
\item docs\+: fix up schematype.\+html conflict \#3848 \#3843 \href{https://github.com/mynameiscoffey}{\tt mynameiscoffey}
\item fix\+: backwards breaking change with {\ttfamily .connect()} return value \#3847
\item docs\+: downgrade dox and highlight.\+js to fix docs build \#3845
\item docs\+: clean up typo \#3842 \href{https://github.com/Flash-}{\tt Flash-\/}
\item fix(document)\+: store\+Shard handles undefined values \#3841
\item chore\+: more linting \#3838 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item fix(schema)\+: handle {\ttfamily text\+: true} as a way to declare a text index \#3824
\end{DoxyItemize}

\section*{4.\+4.\+0 / 2016-\/02-\/02 }


\begin{DoxyItemize}
\item docs\+: fix expire\+After\+Seconds index option name \#3831 \href{https://github.com/Flash-}{\tt Flash-\/}
\item chore\+: run lint after test \#3829 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item chore\+: use power-\/assert instead of assert \#3828 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item chore\+: stricter lint \#3827 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item feat(types)\+: casting moment to date \#3813 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item chore\+: comma-\/last lint for test folder \#3810 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fix\+: upgrade async mpath, mpromise, muri, and sliced \#3801 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item fix(query)\+: geo queries now return proper E\+S2015 promises \#3800 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item perf(types)\+: use {\ttfamily Object.\+define\+Properties()} for array \#3799 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item fix(model)\+: map\+Reduce, ensure\+Indexes, remove, and save properly return E\+S2015 promises \#3795 \#3628 \#3595 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item docs\+: fixed dates in History.\+md \#3791 \href{https://github.com/Jokero}{\tt Jokero}
\item feat\+: connect, open, open\+Set, and disconnect return E\+S2015 promises \#3790 \#3622 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item feat\+: custom type for int32 via mongoose-\/int32 npm package \#3652 \#3102
\item feat\+: basic custom schema type A\+PI \#995
\item feat(model)\+: {\ttfamily insert\+Many()} for more performant bulk inserts \#723
\end{DoxyItemize}

\section*{4.\+3.\+7 / 2016-\/01-\/23 }


\begin{DoxyItemize}
\item docs\+: grammar fix in timestamps docs \#3786 \href{https://github.com/zclancy}{\tt zclancy}
\item fix(document)\+: setting nested populated docs \#3783 \href{https://github.com/slamuu}{\tt slamuu}
\item fix(document)\+: don\textquotesingle{}t call post save hooks twice for pushed docs \#3780
\item fix(model)\+: handle {\ttfamily \+\_\+id=0} correctly \#3776
\item docs(middleware)\+: async post hooks \#3770
\item docs\+: remove confusing sentence \#3765 \href{https://github.com/marcusmellis89}{\tt marcusmellis89}
\end{DoxyItemize}

\section*{3.\+8.\+39 / 2016-\/01-\/15 }


\begin{DoxyItemize}
\item fixed; casting a number to a buffer \#3764
\item fixed; enumerating virtual property with nested objects \#3743 \href{https://github.com/kusold}{\tt kusold}
\end{DoxyItemize}

\section*{4.\+3.\+6 / 2016-\/01-\/15 }


\begin{DoxyItemize}
\item fix(types)\+: casting a number to a buffer \#3764
\item fix\+: add \char`\"{}listener\char`\"{} to reserved keywords \#3759
\item chore\+: upgrade uglify \#3757 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fix\+: broken exec\+Populate() in 4.\+3.\+5 \#3755 \#3753
\item fix\+: ability to remove() a single embedded doc \#3754
\item style\+: comma-\/last in test folder \#3751 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item docs\+: clarify version\+Key option \#3747
\item fix\+: improve colorization for arrays \#3744 \href{https://github.com/TrejGun}{\tt Trej\+Gun}
\item fix\+: webpack build \#3713
\end{DoxyItemize}

\section*{4.\+3.\+5 / 2016-\/01-\/09 }


\begin{DoxyItemize}
\item fix(query)\+: throw when 4th parameter to update not a function \#3741 \href{https://github.com/kasselTrankos}{\tt kassel\+Trankos}
\item fix(document)\+: separate error type for setting an object to a primitive \#3735
\item fix(populate)\+: Model.\+populate returns E\+S6 promise \#3734
\item fix(drivers)\+: re-\/register event handlers after manual reconnect \#3729
\item docs\+: broken links \#3727
\item fix(validation)\+: update validators run array validation \#3724
\item docs\+: clarify the need to use mark\+Modified with in-\/place date ops \#3722
\item fix(document)\+: mark correct path as populated when manually populating array \#3721
\item fix(aggregate)\+: support for array pipeline argument to append \#3718 \href{https://github.com/dbkup}{\tt dbkup}
\item docs\+: clarify {\ttfamily .connect()} callback \#3705
\item fix(schema)\+: properly validate nested single nested docs \#3702
\item fix(types)\+: handle setting documentarray of wrong type \#3701
\item docs\+: broken links \#3700
\item fix(drivers)\+: debug output properly displays \textquotesingle{}0\textquotesingle{} \#3689
\end{DoxyItemize}

\section*{3.\+8.\+38 / 2016-\/01-\/07 }


\begin{DoxyItemize}
\item fixed; aggregate.\+append an array \#3730 \href{https://github.com/dbkup}{\tt dbkup}
\end{DoxyItemize}

\section*{4.\+3.\+4 / 2015-\/12-\/23 }


\begin{DoxyItemize}
\item fix\+: upgrade mongodb driver to 2.\+1.\+2 for repl set error \#3712 \href{https://github.com/sansmischevia}{\tt sansmischevia}
\item docs\+: validation docs typo \#3709 \href{https://github.com/ivanmaeder}{\tt ivanmaeder}
\item style\+: remove unused variables \#3708 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fix(schema)\+: duck-\/typing for schemas \#3703 \href{https://github.com/mgcrea}{\tt mgcrea}
\item docs\+: connection sample code issue \#3697
\item fix(schema)\+: duck-\/typing for schemas \#3693 \href{https://github.com/mgcrea}{\tt mgcrea}
\item docs\+: clarify id schema option \#3638
\end{DoxyItemize}

\section*{4.\+3.\+3 / 2015-\/12-\/18 }


\begin{DoxyItemize}
\item fix(connection)\+: properly support \textquotesingle{}repl\+Set\textquotesingle{} as well as \textquotesingle{}replset\textquotesingle{} \#3688 \href{https://github.com/taxilian}{\tt taxilian}
\item fix(document)\+: single nested doc pre hooks called before nested doc array \#3687 \href{https://github.com/aliatsis}{\tt aliatsis}
\end{DoxyItemize}

\section*{4.\+3.\+2 / 2015-\/12-\/17 }


\begin{DoxyItemize}
\item fix(document)\+: .set() into single nested schemas \#3686
\item fix(connection)\+: support \textquotesingle{}repl\+Set\textquotesingle{} as well as \textquotesingle{}replset\textquotesingle{} option \#3685
\item fix(document)\+: bluebird unhandled rejection when validating doc arrays \#3681
\item fix(document)\+: hooks for doc arrays in single nested schemas \#3680
\item fix(document)\+: post hooks for single nested schemas \#3679
\item fix\+: remove unused npm module \#3674 \href{https://github.com/sybarite}{\tt sybarite}
\item fix(model)\+: don\textquotesingle{}t swallow exceptions in nested doc save callback \#3671
\item docs\+: update keep\+Alive info \#3667 \href{https://github.com/ChrisZieba}{\tt Chris\+Zieba}
\item fix(document)\+: strict \textquotesingle{}throw\textquotesingle{} throws a specific mongoose error \#3662
\item fix\+: flakey test \#3332
\item fix(query)\+: more robust check for Reg\+Exp \#2969
\end{DoxyItemize}

\section*{4.\+3.\+1 / 2015-\/12-\/11 }


\begin{DoxyItemize}
\item feat(aggregate)\+: {\ttfamily .sample()} helper \#3665
\item fix(query)\+: bitwise query operators with buffers \#3663
\item docs(migration)\+: clarify {\ttfamily new} option and find\+By\+Id\+And\+Update \#3661
\end{DoxyItemize}

\section*{4.\+3.\+0 / 2015-\/12-\/09 }


\begin{DoxyItemize}
\item feat(query)\+: support for mongodb 3.\+2 bitwise query operators \#3660
\item style\+: use comma-\/last style consistently \#3657 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item feat\+: upgrade mongodb driver to 2.\+1.\+0 for full Mongo\+DB 3.\+2 support \#3656
\item feat(aggregate)\+: {\ttfamily .lookup()} helper \#3532
\end{DoxyItemize}

\section*{4.\+2.\+10 / 2015-\/12-\/08 }


\begin{DoxyItemize}
\item fixed; upgraded marked \#3653 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item docs; cross-\/db populate \#3648
\item docs; update mocha U\+RL \#3646 \href{https://github.com/ojhaujjwal}{\tt ojhaujjwal}
\item fixed; call close callback asynchronously \#3645
\item docs; virtuals.\+html issue \#3644 \href{https://github.com/Psarna94}{\tt Psarna94}
\item fixed; single embedded doc casting on init \#3642
\item docs; validation docs improvements \#3640
\end{DoxyItemize}

\section*{4.\+2.\+9 / 2015-\/12-\/02 }


\begin{DoxyItemize}
\item docs; defaults docs \#3625
\item fix; nested numeric keys causing an embedded document crash \#3623
\item fix; apply path getters before virtual getters \#3618
\item fix; casting for arrays in single nested schemas \#3616
\end{DoxyItemize}

\section*{4.\+2.\+8 / 2015-\/11-\/25 }


\begin{DoxyItemize}
\item docs; clean up R\+E\+A\+D\+ME links \#3612 \href{https://github.com/ReadmeCritic}{\tt Readme\+Critic}
\item fix; E\+S\+Lint improvements \#3605 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fix; assigning single nested subdocs \#3601
\item docs; describe custom logging functions in {\ttfamily mongoose.\+set()} docs \#3557
\end{DoxyItemize}

\section*{4.\+2.\+7 / 2015-\/11-\/20 }


\begin{DoxyItemize}
\item fixed; read\+Preference connection string option \#3600
\item fixed; pulling from manually populated arrays \#3598 \#3579
\item docs; F\+AQ about Overwrite\+Model\+Error \#3597 \href{https://github.com/stcruy}{\tt stcruy}
\item fixed; setting single embedded schemas to null \#3596
\item fixed; indexes for single embedded schemas \#3594
\item docs; clarify projection for {\ttfamily find\+One()} \#3593 \href{https://github.com/gunar}{\tt gunar}
\item fixed; .owner\+Document() method on single embedded schemas \#3589
\item fixed; properly throw casterror for query on single embedded schema \#3580
\item upgraded; mongodb driver -\/$>$ 2.\+0.\+49 for reconnect issue fix \#3481
\end{DoxyItemize}

\section*{4.\+2.\+6 / 2015-\/11-\/16 }


\begin{DoxyItemize}
\item fixed; ability to manually populate an array \#3575
\item docs; clarify {\ttfamily is\+Async} parameter to hooks \#3573
\item fixed; use capture\+Stack\+Trace if possible instead \#3571
\item fixed; crash with buffer and update validators \#3565 \href{https://github.com/johnpeb}{\tt johnpeb}
\item fixed; update casting with operators overwrite\+: true \#3564
\item fixed; validation with single embedded docs \#3562
\item fixed; inline docs inherit parents \$type key \#3560
\item docs; bad grammar in populate docs \#3559 \href{https://github.com/amaurymedeiros}{\tt amaurymedeiros}
\item fixed; properly handle populate option for find() \#2321
\end{DoxyItemize}

\section*{3.\+8.\+37 / 2015-\/11-\/16 }


\begin{DoxyItemize}
\item fixed; use retain\+Key\+Order for cloning update op \#3572
\end{DoxyItemize}

\section*{4.\+2.\+5 / 2015-\/11-\/09 }


\begin{DoxyItemize}
\item fixed; handle setting fields in pre update hooks with exec \#3549
\item upgraded; E\+S\+Lint \#3547 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fixed; bluebird unhandled rejections with cast errors and .exec \#3543
\item fixed; min/max validators handling undefined \#3539
\item fixed; standalone mongos connections \#3537
\item fixed; call {\ttfamily .to\+Object()} when setting a single nested doc \#3535
\item fixed; single nested docs now have methods \#3534
\item fixed; single nested docs with .create() \#3533 \#3521 \href{https://github.com/tusbar}{\tt tusbar}
\item docs; deep populate docs \#3528
\item fixed; deep populate schema ref handling \#3507
\item upgraded; mongodb driver -\/$>$ 2.\+0.\+48 for sort overflow issue \#3493
\item docs; clarify default ids for discriminators \#3482
\item fixed; properly support .update(doc) \#3221
\end{DoxyItemize}

\section*{4.\+2.\+4 / 2015-\/11-\/02 }


\begin{DoxyItemize}
\item fixed; upgraded {\ttfamily ms} package for security vulnerability \#3524 \href{https://github.com/fhemberger}{\tt fhemberger}
\item fixed; E\+Slint rules \#3517 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item docs; typo in aggregation docs \#3513 \href{https://github.com/rafakato}{\tt rafakato}
\item fixed; add {\ttfamily dont\+Throw\+Cast\+Error} option to .update() for promises \#3512
\item fixed; don\textquotesingle{}t double-\/cast buffers in node 4.\+x \#3510 \#3496
\item fixed; population with single embedded schemas \#3501
\item fixed; pre(\textquotesingle{}set\textquotesingle{}) hooks work properly \#3479
\item docs; promises guide \#3441
\end{DoxyItemize}

\section*{4.\+2.\+3 / 2015-\/10-\/26 }


\begin{DoxyItemize}
\item docs; remove unreferenced function in middleware.\+jade \#3506
\item fixed; handling auth with no username/password \#3500 \#3498 \#3484 \href{https://github.com/mleanos}{\tt mleanos}
\item fixed; more E\+Slint rules \#3491 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fixed; swallowing exceptions in save callback \#3478
\item docs; fixed broken links in subdocs guide \#3477
\item fixed; casting booleans to numbers \#3475
\item fixed; report Cast\+Error for subdoc arrays in find\+One\+And\+Update \#3468
\item fixed; geo\+Near returns E\+S6 promise \#3458
\end{DoxyItemize}

\section*{4.\+2.\+2 / 2015-\/10-\/22 }


\begin{DoxyItemize}
\item fixed; go back to old pluralization code \#3490
\end{DoxyItemize}

\section*{4.\+2.\+1 / 2015-\/10-\/22 }


\begin{DoxyItemize}
\item fixed; pluralization issues \#3492 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\end{DoxyItemize}

\section*{4.\+2.\+0 / 2015-\/10-\/22 }


\begin{DoxyItemize}
\item added; support for skip\+Versioning for document arrays \#3467 \href{https://github.com/chazmo03}{\tt chazmo03}
\item added; ability to customize schema \textquotesingle{}type\textquotesingle{} key \#3459 \#3245
\item fixed; write\+Concern for index builds \#3455
\item added; emit event when individual index build starts \#3440 \href{https://github.com/objectiveSee}{\tt objective\+See}
\item added; \textquotesingle{}context\textquotesingle{} option for update validators \#3430
\item refactor; pluralization now in separate pluralize-\/mongoose npm module \#3415 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item added; customizable error validation messages \#3406 \href{https://github.com/geronime}{\tt geronime}
\item added; support for passing \textquotesingle{}minimize\textquotesingle{} option to update \#3381
\item added; ability to customize debug logging format \#3261
\item added; base\+Model\+Name property for discriminator models \#3202
\item added; \textquotesingle{}emit\+Index\+Errors\textquotesingle{} option \#3174
\item added; \textquotesingle{}async\textquotesingle{} option for aggregation cursor to support buffering \#3160
\item added; ability to skip validation for individual save() calls \#2981
\item added; single embedded schema support \#2689 \#585
\item added; depopulate function \#2509
\end{DoxyItemize}

\section*{4.\+1.\+12 / 2015-\/10-\/19 }


\begin{DoxyItemize}
\item docs; use read\+Preference instead of slave\+Ok for Query.\+set\+Options docs \#3471 \href{https://github.com/buunguyen}{\tt buunguyen}
\item fixed; more helpful error when regexp contains null bytes \#3456
\item fixed; x509 auth issue \#3454 \href{https://github.com/NoxHarmonium}{\tt Nox\+Harmonium}
\end{DoxyItemize}

\section*{3.\+8.\+36 / 2015-\/10-\/18 }


\begin{DoxyItemize}
\item fixed; Make array props non-\/enumerable \#3461 \href{https://github.com/boblauer}{\tt boblauer}
\end{DoxyItemize}

\section*{4.\+1.\+11 / 2015-\/10-\/12 }


\begin{DoxyItemize}
\item fixed; update timestamps for update() if they\textquotesingle{}re enabled \#3450 \href{https://github.com/isayme}{\tt isayme}
\item fixed; unit test error on node 0.\+10 \#3449 \href{https://github.com/isayme}{\tt isayme}
\item docs; timestamp option docs \#3448 \href{https://github.com/isayme}{\tt isayme}
\item docs; fix unexpected indent \#3443 \href{https://github.com/isayme}{\tt isayme}
\item fixed; use E\+S6 promises for Model.\+prototype.\+remove() \#3442
\item fixed; don\textquotesingle{}t use unused \textquotesingle{}safe\textquotesingle{} option for index builds \#3439
\item fixed; elem\+Match casting bug \#3437 \#3435 \href{https://github.com/DefinitelyCarter}{\tt Definitely\+Carter}
\item docs; schema.\+index docs \#3434
\item fixed; exceptions in save() callback getting swallowed on mongodb 2.\+4 \#3371
\end{DoxyItemize}

\section*{4.\+1.\+10 / 2015-\/10-\/05 }


\begin{DoxyItemize}
\item docs; improve virtuals docs to explain virtuals schema option \#3433 \href{https://github.com/zoyaH}{\tt zoyaH}
\item docs; Mongo\+DB server version compatibility guide \#3427
\item docs; clarify that find\+By\+Id and find\+By\+Id\+And\+Update fire hooks \#3422
\item docs; clean up Model.\+save() docs \#3420
\item fixed; properly handle projection with just id \#3407 \#3412
\item fixed; infinite loop when database document is corrupted \#3405
\item docs; clarify remove middleware \#3388
\end{DoxyItemize}

\section*{4.\+1.\+9 / 2015-\/09-\/28 }


\begin{DoxyItemize}
\item docs; minlength and maxlength string validation docs \#3368 \#3413 \href{https://github.com/cosmosgenius}{\tt cosmosgenius}
\item fixed; linting for infix operators \#3397 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fixed; proper casting for \$all \#3394
\item fixed; unhandled rejection warnings with .create() \#3391
\item docs; clarify update validators on paths that aren\textquotesingle{}t explicitly set \#3386
\item docs; custom validator examples \#2778
\end{DoxyItemize}

\section*{4.\+1.\+8 / 2015-\/09-\/21 }


\begin{DoxyItemize}
\item docs; fixed typo in example \#3390 \href{https://github.com/kmctown}{\tt kmctown}
\item fixed; error in to\+Object() \#3387 \href{https://github.com/guumaster}{\tt guumaster}
\item fixed; handling for casting null dates \#3383 \href{https://github.com/alexmingoia}{\tt alexmingoia}
\item fixed; passing composite ids to {\ttfamily find\+By\+Id\+And\+Update} \#3380
\item fixed; linting \#3376 \#3375 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fixed; added Node\+JS v4 to Travis \#3374 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fixed; casting \$elem\+Match inside of \$not \#3373 \href{https://github.com/gaguirre}{\tt gaguirre}
\item fixed; handle case where \$slice is 0 \#3369
\item fixed; avoid running getters if path is populated \#3357
\item fixed; cast documents to objects when setting to a nested path \#3346
\end{DoxyItemize}

\section*{4.\+1.\+7 / 2015-\/09-\/14 }


\begin{DoxyItemize}
\item docs; typos in Schema\+Type documentation \#3367 \href{https://github.com/jasson15}{\tt jasson15}
\item fixed; M\+O\+N\+G\+O\+O\+S\+E\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+P\+A\+TH env variable again \#3360
\item docs; added validate\+Sync docs \#3353
\item fixed; set find\+One op synchronously in query \#3344
\item fixed; handling for {\ttfamily .pull()} on a documentarray without an id \#3341
\item fixed; use natural order for cloning update conditions \#3338
\item fixed; issue with strict mode casting for mixed type updates \#3337
\end{DoxyItemize}

\section*{4.\+1.\+6 / 2015-\/09-\/08 }


\begin{DoxyItemize}
\item fixed; M\+O\+N\+G\+O\+O\+S\+E\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+P\+A\+TH env variable \#3345 \href{https://github.com/g13013}{\tt g13013}
\item docs; global auto\+Index option \#3335 \href{https://github.com/albertorestifo}{\tt albertorestifo}
\item docs; model documentation typos \#3330
\item fixed; report reason for Cast\+Error \#3320
\item fixed; .populate() no longer returns true after re-\/assigning \#3308
\item fixed; discriminators with aggregation geo\+Near \#3304
\item docs; discriminator docs \#2743
\end{DoxyItemize}

\section*{4.\+1.\+5 / 2015-\/09-\/01 }


\begin{DoxyItemize}
\item fixed; document.\+remove() removing all docs \#3326 \#3325
\item fixed; connect() checks for rs\+\_\+name in options \#3299
\item docs; examples for schema.\+set() \#3288
\item fixed; check\+Keys issue with bluebird \#3286 \href{https://github.com/gregthegeek}{\tt gregthegeek}
\end{DoxyItemize}

\section*{4.\+1.\+4 / 2015-\/08-\/31 }


\begin{DoxyItemize}
\item fixed; ability to set strict\+: false for update \#3305
\item fixed; .create() properly uses E\+S6 promises \#3297
\item fixed; pre hooks on nested subdocs \#3291 \#3284 \href{https://github.com/aliatsis}{\tt aliatsis}
\item docs; remove unclear text in .remove() docs \#3282
\item fixed; pre hooks called twice for 3rd-\/level nested doc \#3281
\item fixed; nested transforms \#3279
\item upgraded; mquery -\/$>$ 1.\+6.\+3 \#3278 \#3272
\item fixed; don\textquotesingle{}t swallow callback errors by default \#3273 \#3222
\item fixed; properly get nested paths from nested schemas \#3265
\item fixed; remove() with id undefined deleting all docs \#3260 \href{https://github.com/thanpolas}{\tt thanpolas}
\item fixed; handling for non-\/numeric projections \#3256
\item fixed; find\+By\+Id with id undefined returning first doc \#3255
\item fixed; use retain\+Key\+Order for update \#3215
\item added; pass\+Raw\+Result option to find\+One\+And\+Update for backwards compat \#3173
\end{DoxyItemize}

\section*{4.\+1.\+3 / 2015-\/08-\/16 }


\begin{DoxyItemize}
\item fixed; get\+Update() in pre update hooks \#3520 \href{https://github.com/gregthegeek}{\tt gregthegeek}
\item fixed; handle\+Array() ensures arg is an array \#3238 \href{https://github.com/jloveridge}{\tt jloveridge}
\item fixed; refresh required path cache when recreating docs \#3199
\item fixed; \$ operator on unwind aggregation helper \#3197
\item fixed; find\+One\+And\+Update() properly returns raw result as third arg to callback \#3173
\item fixed; querystream with dynamic refs \#3108
\end{DoxyItemize}

\section*{3.\+8.\+35 / 2015-\/08-\/14 }


\begin{DoxyItemize}
\item fixed; handling for minimize on nested objects \#2930
\item fixed; don\textquotesingle{}t crash when schema.\+path.\+options undefined \#1824
\end{DoxyItemize}

\section*{4.\+1.\+2 / 2015-\/08-\/10 }


\begin{DoxyItemize}
\item fixed; better handling for Jade templates \#3241 \href{https://github.com/kbadk}{\tt kbadk}
\item added; E\+Slint trailing spaces \#3234 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item added; E\+Slint \#3191 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fixed; properly emit event on disconnect \#3183
\item fixed; copy options properly using Query.\+to\+Constructor() \#3176
\item fixed; set\+Max\+Listeners() issue in browser build \#3170
\item fixed; node driver -\/$>$ 2.\+0.\+40 to not store undefined keys as null \#3169
\item fixed; update validators handle positional operator \#3167
\item fixed; handle \$all + \$elem\+Match query casting \#3163
\item fixed; post save hooks don\textquotesingle{}t swallow extra args \#3155
\item docs; spelling mistake in index.\+jade \#3154
\item fixed; don\textquotesingle{}t crash when to\+Object() has no fields \#3130
\item fixed; apply to\+Object() recursively for find and update queries \#3086 \href{https://github.com/naoina}{\tt naoina}
\end{DoxyItemize}

\section*{4.\+1.\+1 / 2015-\/08-\/03 }


\begin{DoxyItemize}
\item fixed; aggregate exec() crash with no callback \#3212 \#3198 \href{https://github.com/jpgarcia}{\tt jpgarcia}
\item fixed; pre init hooks now properly synchronous \#3207 \href{https://github.com/burtonjc}{\tt burtonjc}
\item fixed; update\+Validators doesn\textquotesingle{}t flatten dates \#3206 \#3194 \href{https://github.com/victorkohl}{\tt victorkohl}
\item fixed; default fields don\textquotesingle{}t make document dirty between saves \#3205 \href{https://github.com/burtonjc}{\tt burtonjc}
\item fixed; save passes 0 as num\+Affected rather than undefined when no change \#3195 \href{https://github.com/burtonjc}{\tt burtonjc}
\item fixed; better handling for positional operator in update \#3185
\item fixed; use Travis containers \#3181 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\item fixed; leaked variable \#3180 \href{https://github.com/ChristianMurphy}{\tt Christian\+Murphy}
\end{DoxyItemize}

\section*{4.\+1.\+0 / 2015-\/07-\/24 }


\begin{DoxyItemize}
\item added; {\ttfamily schema.\+queue()} now public \#3193
\item added; raw result as third parameter to find\+One\+AndX callback \#3173
\item added; ability to run validate\+Sync() on only certain fields \#3153
\item added; sub\+Populate \#3103 \href{https://github.com/timbur}{\tt timbur}
\item added; \$is\+Default function on documents \#3077
\item added; additional properties for built-\/in validator messages \#3063 \href{https://github.com/KLicheR}{\tt K\+LicheR}
\item added; get\+Query() and get\+Update() functions for Query \#3013
\item added; export Document\+Provider \#2996
\item added; ability to remove path from schema \#2993 \href{https://github.com/JohnnyEstilles}{\tt Johnny\+Estilles}
\item added; .explain() helper for aggregate \#2714
\item added; ability to specify which E\+S6-\/compatible promises library mongoose uses \#2688
\item added; export Aggregate \#1910
\end{DoxyItemize}

\section*{4.\+0.\+8 / 2015-\/07-\/20 }


\begin{DoxyItemize}
\item fixed; assignment with document arrays \#3178 \href{https://github.com/rosston}{\tt rosston}
\item docs; remove duplicate paragraph \#3164 \href{https://github.com/rhmeeuwisse}{\tt rhmeeuwisse}
\item docs; improve find\+One\+And\+X\+YZ parameter descriptions \#3159 \href{https://github.com/rhmeeuwisse}{\tt rhmeeuwisse}
\item docs; add find\+One\+And\+Remove to list of supported middleware \#3158
\item docs; clarify ensure\+Index \#3156
\item fixed; refuse to save/remove document without id \#3118
\item fixed; hooks next() no longer accidentally returns promise \#3104
\item fixed; strict mode for find\+One\+And\+Update \#2947
\item added; .min.\+js.\+gz file for browser component \#2806
\end{DoxyItemize}

\section*{3.\+8.\+34 / 2015-\/07-\/20 }


\begin{DoxyItemize}
\item fixed; allow using \$rename \#3171
\item fixed; no longer modifies update arguments \#3008
\end{DoxyItemize}

\section*{4.\+0.\+7 / 2015-\/07-\/11 }


\begin{DoxyItemize}
\item fixed; documentarray id method when using object id \#3157 \href{https://github.com/siboulet}{\tt siboulet}
\item docs; improve find\+By\+Id docs \#3147
\item fixed; update validators handle null properly \#3136 \href{https://github.com/odeke-em}{\tt odeke-\/em}
\item docs; jsdoc syntax errors \#3128 \href{https://github.com/rhmeeuwisse}{\tt rhmeeuwisse}
\item docs; fix typo \#3126 \href{https://github.com/rhmeeuwisse}{\tt rhmeeuwisse}
\item docs; proper formatting in queries.\+jade \#3121 \href{https://github.com/rhmeeuwisse}{\tt rhmeeuwisse}
\item docs; correct example for string maxlength validator \#3111 \href{https://github.com/rhmeeuwisse}{\tt rhmeeuwisse}
\item fixed; set\+Defaults\+On\+Insert with arrays \#3107
\item docs; Learn\+Boost -\/$>$ Automattic in package.\+json \#3099
\item docs; pre update hook example \#3094 \href{https://github.com/danpe}{\tt danpe}
\item docs; clarify query middleware example \#3051
\item fixed; Validation\+Errors in strict mode \#3046
\item fixed; set find\+One\+And\+Update properties before hooks run \#3024
\end{DoxyItemize}

\section*{3.\+8.\+33 / 2015-\/07-\/10 }


\begin{DoxyItemize}
\item upgraded; node driver -\/$>$ 1.\+4.\+38
\item fixed; dont crash when {\ttfamily match} validator undefined
\end{DoxyItemize}

\section*{4.\+0.\+6 / 2015-\/06-\/21 }


\begin{DoxyItemize}
\item upgraded; node driver -\/$>$ 2.\+0.\+34 \#3087
\item fixed; apply setters on add\+To\+Set, etc \#3067 \href{https://github.com/victorkohl}{\tt victorkohl}
\item fixed; missing semicolons \#3065 \href{https://github.com/sokolikp}{\tt sokolikp}
\item fixed; proper handling for async doc hooks \#3062 \href{https://github.com/gregthegeek}{\tt gregthegeek}
\item fixed; dont set failed populate field to null if other docs are successfully populated \#3055 \href{https://github.com/eloytoro}{\tt eloytoro}
\item fixed; set\+Defaults\+On\+Insert with document arrays \#3034 \href{https://github.com/taxilian}{\tt taxilian}
\item fixed; setters fired on array items \#3032
\item fixed; stop validate\+Sync() on first error \#3025 \href{https://github.com/victorkohl}{\tt victorkohl}
\item docs; improve query docs \#3016
\item fixed; always exclude \+\_\+id when its deselected \#3010
\item fixed; enum validator kind property \#3009
\item fixed; mquery collection names \#3005
\item docs; clarify mongos option \#3000
\item docs; clarify that query builder has a .then() \#2995
\item fixed; race condition in dynamic ref \#2992
\end{DoxyItemize}

\section*{3.\+8.\+31 / 2015-\/06-\/20 }


\begin{DoxyItemize}
\item fixed; properly handle text search with discriminators and \$meta \#2166
\end{DoxyItemize}

\section*{4.\+0.\+5 / 2015-\/06-\/05 }


\begin{DoxyItemize}
\item fixed; Object\+Ids and buffers when mongodb driver is a sibling dependency \#3050 \#3048 \#3040 \#3031 \#3020 \#2988 \#2951
\item fixed; warn user when \textquotesingle{}increment\textquotesingle{} is used in schema \#3039
\item fixed; set\+Defaults\+On\+Insert with array in schema \#3035
\item fixed; dont use default Object to\+String to cast to string \#3030
\item added; npm badge \#3020 \href{https://github.com/odeke-em}{\tt odeke-\/em}
\item fixed; proper handling for calling .set() with a subdoc \#2782
\item fixed; dont throw cast error when using \$rename on non-\/string path \#1845
\end{DoxyItemize}

\section*{3.\+8.\+30 / 2015-\/06-\/05 }


\begin{DoxyItemize}
\item fixed; enable users to set all options with tailable() \#2883
\end{DoxyItemize}

\section*{4.\+0.\+4 / 2015-\/05-\/28 }


\begin{DoxyItemize}
\item docs; find\+And\+Modify new parameter correct default value \#3012 \href{https://github.com/JonForest}{\tt Jon\+Forest}
\item docs; clarify pluralization rules \#2999 \href{https://github.com/anonmily}{\tt anonmily}
\item fix; discriminators with schema methods \#2978
\item fix; make {\ttfamily is\+Modified} a schema reserved keyword \#2975
\item fix; properly fire setters when initializing path with object \#2943
\item fix; can use {\ttfamily set\+Defaults\+On\+Insert} without specifying {\ttfamily run\+Validators} \#2938
\item fix; always set validation errors {\ttfamily kind} property \#2885
\item upgraded; node driver -\/$>$ 2.\+0.\+33 \#2865
\end{DoxyItemize}

\section*{3.\+8.\+29 / 2015-\/05-\/27 }


\begin{DoxyItemize}
\item fixed; Handle J\+S\+O\+N.\+stringify properly for nested docs \#2990
\end{DoxyItemize}

\section*{4.\+0.\+3 / 2015-\/05-\/13 }


\begin{DoxyItemize}
\item upgraded; mquery -\/$>$ 1.\+5.\+1 \#2983
\item docs; clarify context for query middleware \#2974
\item docs; fix missing type -\/$>$ kind rename in History.\+md \#2961
\item fixed; broken Read\+Preference include on Heroku \#2957
\item docs; correct form for cursor aggregate option \#2955
\item fixed; sync post hooks now properly called after function \#2949 \#2925
\item fixed; fix sub-\/doc validate() function \#2929
\item upgraded; node driver -\/$>$ 2.\+0.\+30 \#2926
\item docs; retain\+Key\+Order for save() \#2924
\item docs; fix broken class names \#2913
\item fixed; error when using node-\/clone on a doc \#2909
\item fixed; no more hard references to bson \#2908 \#2906
\item fixed; dont overwrite array values \#2907 \href{https://github.com/naoina}{\tt naoina}
\item fixed; use read\+Preference=primary for find\+One\+And\+Update \#2899 \#2823
\item docs; clarify that update validators only run on \$set and \$unset \#2889
\item fixed; set kind consistently for built-\/in validators \#2885
\item docs; single field populated documents \#2884
\item fixed; nested objects are now enumerable \#2880 \href{https://github.com/toblerpwn}{\tt toblerpwn}
\item fixed; properly populate field when ref, lean, stream used together \#2841
\item docs; fixed migration guide jade error \#2807
\end{DoxyItemize}

\section*{3.\+8.\+28 / 2015-\/05-\/12 }


\begin{DoxyItemize}
\item fixed; proper handling for to\+J\+S\+ON options \#2910
\item fixed; dont attach virtuals to embedded docs in update() \#2046
\end{DoxyItemize}

\section*{4.\+0.\+2 / 2015-\/04-\/23 }


\begin{DoxyItemize}
\item fixed; error thrown when calling .validate() on subdoc not in an array \#2902
\item fixed; rename define() to play nice with webpack \#2900 \href{https://github.com/jspears}{\tt jspears}
\item fixed; pre validate called twice with discriminators \#2892
\item fixed; .inspect() on mongoose.\+Types \#2875
\item docs; correct callback params for Model.\+update \#2872
\item fixed; set\+Defaults\+On\+Insert now works when run\+Validators not specified \#2870
\item fixed; Document now wraps Event\+Emitter.\+add\+Listener \#2867
\item fixed; call non-\/hook functions in schema queue \#2856
\item fixed; statics can be mocked out for tests \#2848 \href{https://github.com/ninelb}{\tt ninelb}
\item upgraded; mquery 1.\+4.\+0 for bluebird bug fix \#2846
\item fixed; required validators run first \#2843
\item docs; improved docs for new option to find\+And\+Mody \#2838
\item docs; populate example now uses correct field \#2837 \href{https://github.com/swilliams}{\tt swilliams}
\item fixed; pre validate changes causing Version\+Error \#2835
\item fixed; get path from correct place when setting Cast\+Error \#2832
\item docs; improve docs for Model.\+update() function signature \#2827 \href{https://github.com/irnc}{\tt irnc}
\item fixed; populating discriminators \#2825 \href{https://github.com/chetverikov}{\tt chetverikov}
\item fixed; discriminators with nested schemas \#2821
\item fixed; Cast\+Errors with embedded docs \#2819
\item fixed; post save hook context \#2816
\item docs; 3.\+8.\+x -\/$>$ 4.\+x migration guide \#2807
\item fixed; proper \+\_\+distinct copying for query \#2765 \href{https://github.com/cdelauder}{\tt cdelauder}
\end{DoxyItemize}

\section*{3.\+8.\+27 / 2015-\/04-\/22 }


\begin{DoxyItemize}
\item fixed; dont duplicate db calls on Q.\+ninvoke() \#2864
\item fixed; Model.\+find arguments naming in docs \#2828
\item fixed; Support ipv6 in connection strings \#2298
\end{DoxyItemize}

\section*{3.\+8.\+26 / 2015-\/04-\/07 }


\begin{DoxyItemize}
\item fixed; Type\+Error when setting date to undefined \#2833
\item fixed; handle Cast\+Error properly in distinct() with no callback \#2786
\item fixed; broken links in queries docs \#2779
\item fixed; dont mark buffer as modified when setting type initially \#2738
\item fixed; dont crash when using slice with populate \#1934
\end{DoxyItemize}

\section*{4.\+0.\+1 / 2015-\/03-\/28 }


\begin{DoxyItemize}
\item fixed; properly handle empty cast doc in update() with promises \#2796
\item fixed; unstable warning \#2794
\item fixed; find\+And\+Modify docs now show new option is false by default \#2793
\end{DoxyItemize}

\section*{4.\+0.\+0 / 2015-\/03-\/25 }


\begin{DoxyItemize}
\item fixed; on-\/the-\/fly schema docs typo \#2783 \href{https://github.com/artiifix}{\tt artiifix}
\item fixed; cast error validation handling \#2775 \#2766 \#2678
\item fixed; discriminators with populate() \#2773 \#2719 \href{https://github.com/chetverikov}{\tt chetverikov}
\item fixed; increment now a reserved path \#2709
\item fixed; avoid sending duplicate object ids in populate() \#2683
\item upgraded; mongodb to 2.\+0.\+24 to properly emit reconnect event multiple times \#2656
\end{DoxyItemize}

\section*{4.\+0.\+0-\/rc4 / 2015-\/03-\/14 }


\begin{DoxyItemize}
\item fixed; to\+Object virtuals schema option handled properly \#2751
\item fixed; update validators work on document arrays \#2733
\item fixed; check for cast errors on \$set \#2729
\item fixed; instance field set for all schema types \#2727 \href{https://github.com/csdco}{\tt csdco}
\item fixed; dont run other validators if required fails \#2725
\item fixed; custom getters execute on ref paths \#2610
\item fixed; save defaults if they were set when doc was loaded from db \#2558
\item fixed; pre validate now runs before pre save \#2462
\item fixed; no longer throws errors with --use\+\_\+strict \#2281
\end{DoxyItemize}

\section*{3.\+8.\+25 / 2015-\/03-\/13 }


\begin{DoxyItemize}
\item fixed; debug output reverses order of aggregation keys \#2759
\item fixed; \$eq is a valid query selector in 3.\+0 \#2752
\item fixed; upgraded node driver to 1.\+4.\+32 for handling non-\/numeric pool\+Size \#2682
\item fixed; update() with overwrite sets \+\_\+id for nested docs \#2658
\item fixed; casting for operators in \$elem\+Match \#2199
\end{DoxyItemize}

\section*{4.\+0.\+0-\/rc3 / 2015-\/02-\/28 }


\begin{DoxyItemize}
\item fixed; update() pre hooks run before validators \#2706
\item fixed; setters not called on arrays of refs \#2698 \href{https://github.com/brandom}{\tt brandom}
\item fixed; use node driver 2.\+0.\+18 for nodejs 0.\+12 support \#2685
\item fixed; comments reference file that no longer exists \#2681
\item fixed; populated() returns \+\_\+id of manually populated doc \#2678
\item added; ability to exclude version key in to\+Object() \#2675
\item fixed; dont allow setting nested path to a string \#2592
\item fixed; can cast objects with \+\_\+id field to Object\+Ids \#2581
\item fixed; on-\/the-\/fly schema getters \#2360
\item added; strict option for find\+One\+And\+Update() \#1967
\end{DoxyItemize}

\section*{3.\+8.\+24 / 2015-\/02-\/25 }


\begin{DoxyItemize}
\item fixed; properly apply child schema transforms \#2691
\item fixed; make copy of find\+One\+And\+Update options before modifying \#2687
\item fixed; apply defaults when parent path is selected \#2670 \#2629
\item fixed; properly get ref property for nested paths \#2665
\item fixed; node driver makes copy of authenticate options before modifying them \#2619
\item fixed; dont block process exit when auth fails \#2599
\item fixed; remove redundant clone in update() \#2537
\end{DoxyItemize}

\section*{4.\+0.\+0-\/rc2 / 2015-\/02-\/10 }


\begin{DoxyItemize}
\item added; io.\+js to travis build
\item removed; browser build dependencies not installed by default
\item added; dynamic refpaths \#2640 \href{https://github.com/chetverikov}{\tt chetverikov}
\item fixed; dont call child schema transforms on parent \#2639 \href{https://github.com/chetverikov}{\tt chetverikov}
\item fixed; get rid of remove option if new is set in find\+And\+Modify \#2598
\item fixed; aggregate all document array validation errors \#2589
\item fixed; custom setters called when setting value to undefined \#1892
\end{DoxyItemize}

\section*{3.\+8.\+23 / 2015-\/02-\/06 }


\begin{DoxyItemize}
\item fixed; unset opts.\+remove when upsert is true \#2519
\item fixed; array saved as object when path is object in array \#2442
\item fixed; inline transforms \#2440
\item fixed; check for callback in count() \#2204
\item fixed; documentation for selecting fields \#1534
\end{DoxyItemize}

\section*{4.\+0.\+0-\/rc1 / 2015-\/02-\/01 }


\begin{DoxyItemize}
\item fixed; use driver 2.\+0.\+14
\item changed; use transform\+: true by default \#2245
\end{DoxyItemize}

\section*{4.\+0.\+0-\/rc0 / 2015-\/01-\/31 }


\begin{DoxyItemize}
\item fixed; wrong order for distinct() params \#2628
\item fixed; handling no query argument to remove() \#2627
\item fixed; create\+Model and discriminators \#2623 \href{https://github.com/ashaffer}{\tt ashaffer}
\item added; pre(\textquotesingle{}count\textquotesingle{}) middleware \#2621
\item fixed; double validation calls on document arrays \#2618
\item added; validate() catches cast errors \#2611
\item fixed; respect replica\+Set parameter in connection string \#2609
\item added; can explicitly exclude paths from versioning \#2576 \href{https://github.com/csabapalfi}{\tt csabapalfi}
\item upgraded; driver to 2.\+0.\+15 \#2552
\item fixed; save() handles errors more gracefully in E\+S6 \#2371
\item fixed; undefined is now a valid argument to find\+One\+And\+Update \#2272
\item changed; {\ttfamily new} option to find\+And\+Modify ops is false by default \#2262
\end{DoxyItemize}

\section*{3.\+8.\+22 / 2015-\/01-\/24 }


\begin{DoxyItemize}
\item upgraded; node-\/mongodb-\/native to 1.\+4.\+28 \#2587 \href{https://github.com/Climax777}{\tt Climax777}
\item added; additional documentation for validators \#2449
\item fixed; stack overflow when creating massive arrays \#2423
\item fixed; undefined is a valid id for queries \#2411
\item fixed; properly create nested schema index when same schema used twice \#2322
\item added; link to plugin generator in docs \#2085 \href{https://github.com/huei90}{\tt huei90}
\item fixed; optional arguments documentation for find\+One() \#1971 \href{https://github.com/nachinius}{\tt nachinius}
\end{DoxyItemize}

\section*{3.\+9.\+7 / 2014-\/12-\/19 }


\begin{DoxyItemize}
\item added; proper cursors for aggregate \#2539 \href{https://github.com/changyy}{\tt changyy}
\item added; min/max built-\/in validators for dates \#2531 \href{https://github.com/bshamblen}{\tt bshamblen}
\item fixed; save and validate are now reserved keywords \#2380
\item added; basic documentation for browser component \#2256
\item added; find and find\+One hooks (query middleware) \#2138
\item fixed; throw a Divergent\+Array\+Error when saving positional operator queries \#2031
\item added; ability to use options as a document property \#1416
\item fixed; document no longer inherits from event emitter and so domain and \+\_\+events are no longer reserved \#1351
\item removed; set\+Profiling \#1349
\end{DoxyItemize}

\section*{3.\+8.\+21 / 2014-\/12-\/18 }


\begin{DoxyItemize}
\item fixed; syntax in index.\+jade \#2517 \href{https://github.com/elderbas}{\tt elderbas}
\item fixed; writable statics \#2510 \#2528
\item fixed; overwrite and explicit \$set casting \#2515
\end{DoxyItemize}

\section*{3.\+9.\+6 / 2014-\/12-\/05 }


\begin{DoxyItemize}
\item added; correctly run validators on each element of array when entire array is modified \#661 \#1227
\item added; cast\+Errors in validation \#1013 \href{https://github.com/jondavidjohn}{\tt jondavidjohn}
\item added; specify text indexes in schema fields \#1401 \href{https://github.com/sr527}{\tt sr527}
\item added; ability to set field with validators to undefined \#1594 \href{https://github.com/alabid}{\tt alabid}
\item added; .create() returns an array when passed an array \#1746 \href{https://github.com/alabid}{\tt alabid}
\item added; test suite and docs for use with co and yield \#2177 \#2474
\item fixed; subdocument to\+Object() transforms \#2447 \href{https://github.com/chmanie}{\tt chmanie}
\item fixed; Model.\+create() with save errors \#2484
\item added; pass options to .save() and .remove() \#2494 \href{https://github.com/jondavidjohn}{\tt jondavidjohn}
\end{DoxyItemize}

\section*{3.\+8.\+20 / 2014-\/12-\/01 }


\begin{DoxyItemize}
\item fixed; recursive read\+Pref \#2490 \href{https://github.com/kjvalencik}{\tt kjvalencik}
\item fixed; make sure to copy parameters to update() before modifying \#2406 \href{https://github.com/alabid}{\tt alabid}
\item fixed; unclear documentation about query callbacks \#2319
\item fixed; setting a schema-\/less field to an empty object \#2314 \href{https://github.com/alabid}{\tt alabid}
\item fixed; registering statics and methods for discriminators \#2167 \href{https://github.com/alabid}{\tt alabid}
\end{DoxyItemize}

\section*{3.\+9.\+5 / 2014-\/11-\/10 }


\begin{DoxyItemize}
\item added; ability to disable auto\+Index on a per-\/connection basis \#1875 \href{https://github.com/sr527}{\tt sr527}
\item fixed; {\ttfamily geo\+Near()} no longer enforces legacy coordinate pairs -\/ supports Geo\+J\+S\+ON \#1987 \href{https://github.com/alabid}{\tt alabid}
\item fixed; browser component works when minified with mangled variable names \#2302
\item fixed; {\ttfamily doc.\+errors} now cleared before {\ttfamily validate()} called \#2302
\item added; {\ttfamily exec\+Populate()} function to make {\ttfamily doc.\+populate()} compatible with promises \#2317
\item fixed; {\ttfamily count()} no longer throws an error when used with {\ttfamily sort()} \#2374
\item fixed; {\ttfamily save()} no longer recursively calls {\ttfamily save()} on populated fields \#2418
\end{DoxyItemize}

\section*{3.\+8.\+19 / 2014-\/11-\/09 }


\begin{DoxyItemize}
\item fixed; make sure to not override subdoc \+\_\+ids on find \#2276 \href{https://github.com/alabid}{\tt alabid}
\item fixed; exception when comparing two documents when one lacks \+\_\+id \#2333 \href{https://github.com/slawo}{\tt slawo}
\item fixed; getters for properties with non-\/strict schemas \#2439 \href{https://github.com/alabid}{\tt alabid}
\item fixed; inconsistent U\+RI format in docs \#2414 \href{https://github.com/sr527}{\tt sr527}
\end{DoxyItemize}

\section*{3.\+9.\+4 / 2014-\/10-\/25 }


\begin{DoxyItemize}
\item fixed; statics no longer can be overwritten \#2343 \href{https://github.com/chetverikov}{\tt nkcmr}
\item added; ability to set single populated paths to documents \#1530
\item added; set\+Defaults\+On\+Insert and run\+Validator options for find\+One\+And\+Update() \#860
\end{DoxyItemize}

\section*{3.\+8.\+18 / 2014-\/10-\/22 }


\begin{DoxyItemize}
\item fixed; Dont use all to\+Object options in save \#2340 \href{https://github.com/chetverikov}{\tt chetverikov}
\end{DoxyItemize}

\section*{3.\+9.\+3 / 2014-\/10-\/01 }


\begin{DoxyItemize}
\item added; support for virtuals that return objects \#2294
\item added; ability to manually hydrate P\+O\+J\+Os into mongoose objects \#2292
\item added; set\+Defaults\+On\+Insert and run\+Validator options for update() \#860
\end{DoxyItemize}

\section*{3.\+8.\+17 / 2014-\/09-\/29 }


\begin{DoxyItemize}
\item fixed; use schema options retain\+Key\+Order in save() \#2274
\item fixed; fix skip in populate when limit is set \#2252
\item fixed; fix stack overflow when passing Mongoose\+Array to find\+And\+Modify \#2214
\item fixed; optimize .length usage in populate \#2289
\end{DoxyItemize}

\section*{3.\+9.\+2 / 2014-\/09-\/08 }


\begin{DoxyItemize}
\item added; test coverage for browser component \#2255
\item added; in-\/order execution of validators \#2243
\item added; custom fields for validators \#2132
\item removed; exception thrown when find() used with count() \#1950
\end{DoxyItemize}

\section*{3.\+8.\+16 / 2014-\/09-\/08 }


\begin{DoxyItemize}
\item fixed; properly remove modified array paths if array has been overwritten \#1638
\item fixed; key check errors \#1884
\item fixed; make sure populate on an array always returns a Mongoose array \#2214
\item fixed; S\+SL connections with node 0.\+11 \#2234
\item fixed; return sensible strings for promise errors \#2239
\end{DoxyItemize}

\section*{3.\+9.\+1 / 2014-\/08-\/17 }


\begin{DoxyItemize}
\item added; alpha version of browser-\/side schema validation \#2254
\item added; support passing a function to schemas {\ttfamily required} field \#2247
\item added; support for setting updated\+At and created\+At timestamps \#2227
\item added; document.\+validate() returns a promise \#2131
\end{DoxyItemize}

\section*{3.\+8.\+15 / 2014-\/08-\/17 }


\begin{DoxyItemize}
\item fixed; Replica set connection string example in docs \#2246
\item fixed; bubble up parse\+Error event \#2229
\item fixed; removed buggy populate cache \#2176
\item fixed; dont \$inc version\+Key if its being \$set \#1933
\item fixed; cast \$or and \$and in \$pull \#1932
\item fixed; properly cast to schema in stream() \#1862
\item fixed; memory leak in nested objects \#1565 \#2211 \href{https://github.com/devongovett}{\tt devongovett}
\end{DoxyItemize}

\section*{3.\+8.\+14 / 2014-\/07-\/26 }


\begin{DoxyItemize}
\item fixed; stringifying Mongoose\+Array shows nested arrays \#2002
\item fixed; use populated doc schema in to\+Object and to\+J\+S\+ON by default \#2035
\item fixed; dont crash on arrays containing null \#2140
\item fixed; model.\+update w/ upsert has same return values on .exec and promise \#2143
\item fixed; better handling for populate limit with multiple documents \#2151
\item fixed; dont prevent users from adding weights to text index \#2183
\item fixed; helper for aggregation cursor \#2187
\item updated; node-\/mongodb-\/native to 1.\+4.\+7
\end{DoxyItemize}

\section*{3.\+8.\+13 / 2014-\/07-\/15 }


\begin{DoxyItemize}
\item fixed; memory leak with is\+New events \#2159
\item fixed; docs for overwrite option for update() \#2144
\item fixed; store\+Shard() handles dates properly \#2127
\item fixed; sub-\/doc changes not getting persisted to db after save \#2082
\item fixed; populate with \+\_\+id\+: 0 actually removes \+\_\+id instead of setting to undefined \#2123
\item fixed; save version\+Key on find\+One\+And\+Update w/ upsert \#2122
\item fixed; fix typo in 2.\+8 docs \#2120 \href{https://github.com/shakirullahi}{\tt shakirullahi}
\item fixed; support max\+Time\+Ms \#2102 \href{https://github.com/yuukinajima}{\tt yuukinajima}
\item fixed; support \$current\+Date \#2019
\item fixed; \$add\+To\+Set handles objects without \+\_\+ids properly \#1973
\item fixed; dont crash on invalid near\+Sphere query \#1874
\end{DoxyItemize}

\section*{3.\+8.\+12 / 2014-\/05-\/30 }


\begin{DoxyItemize}
\item fixed; single-\/server reconnect event fires \#1672
\item fixed; sub-\/docs not saved when pushed into populated array \#1794
\item fixed; .set() sometimes converts embedded docs to pojos \#1954 \href{https://github.com/archangel-irk}{\tt archangel-\/irk}
\item fixed; sub-\/doc changes not getting persisted to db after save \#2082
\item fixed; custom getter might cause mongoose to mistakenly think a path is dirty \#2100 \href{https://github.com/pgherveou}{\tt pgherveou}
\item fixed; chainable helper for allow\+Disk\+Use option in aggregation \#2114
\end{DoxyItemize}

\section*{3.\+9.\+0 (unstable) / 2014-\/05-\/22 }


\begin{DoxyItemize}
\item changed; added {\ttfamily domain} to reserved keywords \#1338 \#2052 \href{https://github.com/antoinepairet}{\tt antoinepairet}
\item added; asynchronous post hooks \#1977 \#2081 \href{https://github.com/chopachom}{\tt chopachom} \href{https://github.com/JasonGhent}{\tt Jason\+Ghent}
\item added; using model for population, cross-\/db populate \href{https://github.com/mihai-chiorean}{\tt mihai-\/chiorean}
\item added; can define a type for schema validators
\item added; {\ttfamily doc.\+remove()} returns a promise \#1619 \href{https://github.com/refack}{\tt refack}
\item added; internal promises for hooks, pre-\/save hooks run in parallel \#1732 \href{https://github.com/refack}{\tt refack}
\item fixed; geo\+Search hanging when no results returned \#1846 \href{https://github.com/ghartnett}{\tt ghartnett}
\item fixed; do not set .type property on Validation\+Error, use .kind instead \#1323
\end{DoxyItemize}

\section*{3.\+8.\+11 / 2014-\/05-\/22 }


\begin{DoxyItemize}
\item updated; node-\/mongodb-\/native to 1.\+4.\+5
\item reverted; \#2052, fixes \#2097
\end{DoxyItemize}

\section*{3.\+8.\+10 / 2014-\/05-\/20 }


\begin{DoxyItemize}
\item updated; node-\/mongodb-\/native to 1.\+4.\+4
\item fixed; \+\_\+.\+is\+Equal false negatives bug in js-\/bson \#2070
\item fixed; missing check for schema.\+options \#2014
\item fixed; missing support for \$position \#2024
\item fixed; options object corruption \#2049
\item fixed; improvements to virtuals docs \#2055
\item fixed; added {\ttfamily domain} to reserved keywords \#2052 \#1338
\end{DoxyItemize}

\section*{3.\+8.\+9 / 2014-\/05-\/08 }


\begin{DoxyItemize}
\item updated; mquery to 0.\+7.\+0
\item updated; node-\/mongodb-\/native to 1.\+4.\+3
\item fixed; \$near failing against Mongo\+DB 2.\+6
\item fixed; relying on .options() to determine if collection exists
\item fixed; \$out aggregate helper
\item fixed; all test failures against Mongo\+DB 2.\+6.\+1, with caveat \#2065
\end{DoxyItemize}

\section*{3.\+8.\+8 / 2014-\/02-\/22 }


\begin{DoxyItemize}
\item fixed; saving Buffers \#1914
\item updated; expose connection states for user-\/land \#1926 \href{https://github.com/yorkie}{\tt yorkie}
\item updated; mquery to 0.\+5.\+3
\item updated; added get / set to reserved path list \#1903 \href{https://github.com/tstrimple}{\tt tstrimple}
\item docs; R\+E\+A\+D\+ME code highlighting, syntax fixes \#1930 \href{https://github.com/IonicaBizau}{\tt Ionica\+Bizau}
\item docs; fixes link in the doc at \#1925 \href{https://github.com/kapeels}{\tt kapeels}
\item docs; add a missed word \textquotesingle{}hook\textquotesingle{} for the description of the post-\/hook api \#1924 \href{https://github.com/ipoval}{\tt ipoval}
\end{DoxyItemize}

\section*{3.\+8.\+7 / 2014-\/02-\/09 }


\begin{DoxyItemize}
\item fixed; sending safe/read options in Query\+::exec \#1895
\item fixed; find\+One\+And..() with sort \#1887
\end{DoxyItemize}

\section*{3.\+8.\+6 / 2014-\/01-\/30 }


\begin{DoxyItemize}
\item fixed; setting read\+Preferences \#1895
\end{DoxyItemize}

\section*{3.\+8.\+5 / 2014-\/01-\/23 }


\begin{DoxyItemize}
\item fixed; ssl setting when using U\+RI \#1882
\item fixed; find\+By\+Id\+And\+Update now respects the overwrite option \#1809 \href{https://github.com/owenallenaz}{\tt owenallenaz}
\end{DoxyItemize}

\section*{3.\+8.\+4 / 2014-\/01-\/07 }


\begin{DoxyItemize}
\item updated; mongodb driver to 1.\+3.\+23
\item updated; mquery to 0.\+4.\+1
\item updated; mpromise to 0.\+4.\+3
\item fixed; discriminators now work when selecting fields \#1820 \href{https://github.com/daemon1981}{\tt daemon1981}
\item fixed; geo\+Search with no results timeout \#1846 \href{https://github.com/ghartnett}{\tt ghartnett}
\item fixed; infitite recursion in Validation\+Error \#1834 \href{https://github.com/chetverikov}{\tt chetverikov}
\end{DoxyItemize}

\section*{3.\+8.\+3 / 2013-\/12-\/17 }


\begin{DoxyItemize}
\item fixed; setting empty array with model.\+update \#1838
\item docs; fix url
\end{DoxyItemize}

\section*{3.\+8.\+2 / 2013-\/12-\/14 }


\begin{DoxyItemize}
\item fixed; enum validation of multiple values \#1778 \href{https://github.com/heroicyang}{\tt heroicyang}
\item fixed; global var leak \#1803
\item fixed; post remove now fires on subdocs \#1810
\item fixed; no longer set default empty array for geospatial-\/indexed fields \#1668 \href{https://github.com/shirish87}{\tt shirish87}
\item fixed; model.\+stream() not hydrating discriminators correctly \#1792 \href{https://github.com/j}{\tt j}
\item docs\+: Stablility -\/$>$ Stability \href{https://github.com/nikmartin}{\tt nikmartin}
\item tests; improve shard error handling
\end{DoxyItemize}

\section*{3.\+8.\+1 / 2013-\/11-\/19 }


\begin{DoxyItemize}
\item fixed; mishandling of Dates with minimize/getters \#1764
\item fixed; Normalize bugs.\+email, so {\ttfamily npm} will shut up \#1769 \href{https://github.com/refack}{\tt refack}
\item docs; Improve the grammar where \char`\"{}lets us\char`\"{} was used \#1777 \href{https://github.com/alexyoung}{\tt alexyoung}
\item docs; Fix some grammatical issues in the documentation \#1777 \href{https://github.com/alexyoung}{\tt alexyoung}
\item docs; fix Query api exposure
\item docs; fix return description
\item docs; Added Notes on find\+And\+Update() \#1750 \href{https://github.com/sstadelman}{\tt sstadelman}
\item docs; Update version number in R\+E\+A\+D\+ME \#1762 \href{https://github.com/Fodi69}{\tt Fodi69}
\end{DoxyItemize}

\section*{3.\+8.\+0 / 2013-\/10-\/31 }


\begin{DoxyItemize}
\item updated; warn when using an unstable version
\item updated; error message returned in doc.\+save() \#1595
\item updated; mongodb driver to 1.\+3.\+19 (fix error swallowing behavior)
\item updated; mquery to 0.\+3.\+2
\item updated; mocha to 1.\+12.\+0
\item updated; mpromise 0.\+3.\+0
\item updated; sliced 0.\+0.\+5
\item removed; mongoose.\+Error.\+Document\+Error (never used)
\item removed; namedscope (undocumented and broken) \#679 \#642 \#455 \#379
\item changed; no longer offically supporting node 0.\+6.\+x
\item changed; query.\+within getter is now a method -\/$>$ query.\+within()
\item changed; query.\+intersects getter is now a method -\/$>$ query.\+intersects()
\item added; custom error msgs for built-\/in validators \#747
\item added; discriminator support \#1647 \#1003 \href{https://github.com/j}{\tt j}
\item added; support disabled collection name pluralization \#1350 \#1707 \href{https://github.com/refack}{\tt refack}
\item added; support for Geo\+J\+S\+ON to Query\+::near \href{https://github.com/ebensing}{\tt ebensing}
\item added; stand-\/alone base query support -\/ query.\+to\+Constructor() \href{https://github.com/ebensing}{\tt ebensing}
\item added; promise support to geo\+Search \#1614 \href{https://github.com/ebensing}{\tt ebensing}
\item added; promise support for geo\+Near \#1614 \href{https://github.com/ebensing}{\tt ebensing}
\item added; connection.\+use\+Db() \#1124 \href{https://github.com/ebensing}{\tt ebensing}
\item added; promise support to model.\+map\+Reduce()
\item added; promise support to model.\+ensure\+Indexes()
\item added; promise support to model.\+populate()
\item added; benchmarks \href{https://github.com/ebensing}{\tt ebensing}
\item added; publicly exposed connection states \#1585
\item added; \$geo\+Within support \#1529 \$1455 \href{https://github.com/ebensing}{\tt ebensing}
\item added; query method chain validation
\item added; model.\+update {\ttfamily overwrite} option
\item added; model.\+geo\+Near() support \#1563 \href{https://github.com/ebensing}{\tt ebensing}
\item added; model.\+geo\+Search() support \#1560 \href{https://github.com/ebensing}{\tt ebensing}
\item added; Mongoose\+Buffer\+::subtype()
\item added; model.\+create() now returns a promise \#1340
\item added; support for {\ttfamily awaitdata} query option
\item added; pass the doc to doc.\+remove() callback \#1419 \href{https://github.com/JoeWagner}{\tt Joe\+Wagner}
\item added; aggregation query builder \#1404 \href{https://github.com/njoyard}{\tt njoyard}
\item fixed; document.\+to\+Object when using {\ttfamily minimize} and {\ttfamily getters} options \#1607 \href{https://github.com/JedWatson}{\tt Jed\+Watson}
\item fixed; Mixed types can now be required \#1722 \href{https://github.com/Reggino}{\tt Reggino}
\item fixed; do not pluralize model names not ending with letters \#1703 \href{https://github.com/refack}{\tt refack}
\item fixed; repopulating modified populated paths \#1697
\item fixed; doc.\+equals() when \+\_\+id option is set to false \#1687
\item fixed; strict mode warnings \#1686
\item fixed; \$near Geo\+J\+S\+ON casting \#1683
\item fixed; near\+Sphere Geo\+J\+S\+ON query builder
\item fixed; population field selection w/ strings \#1669
\item fixed; setters not firing on null values \#1445 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; handle another versioning edge case \#1520
\item fixed; excluding subdocument fields \#1280 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; allow array properties to be set to null with find\+One\+And\+Update \href{https://github.com/aheuermann}{\tt aheuermann}
\item fixed; subdocuments now use own to\+J\+S\+ON opts \#1376 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; model\+::geo\+Near fulfills promise when results empty \#1658 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; utils.\+merge no longer overrides props and methods \#1655 \href{https://github.com/j}{\tt j}
\item fixed; subdocuments now use their own transform \#1412 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; model.\+remove() removes only what is necessary \#1649
\item fixed; update() now only runs with cb or explicit true \#1644
\item fixed; casting ref docs on creation \#1606 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; model.\+update \char`\"{}overwrite\char`\"{} option works as documented
\item fixed; query\+::remove() works as documented
\item fixed; \char`\"{}limit\char`\"{} correctly applies to individual items on population \#1490 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; issue with positional operator on ref docs \#1572 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; benchmarks to actually output valid json
\item deprecated; promise\+::add\+Back (use promise\+::on\+Resolve)
\item deprecated; promise\+::complete (use promise\+::fulfill)
\item deprecated; promise\+::add\+Callback (use promise\+::on\+Ful\+Fill)
\item deprecated; promise\+::add\+Errback (use promise\+::on\+Reject)
\item deprecated; query.\+near\+Sphere() (use query.\+near)
\item deprecated; query.\+center() (use query.\+circle)
\item deprecated; query.\+center\+Sphere() (use query.\+circle)
\item deprecated; query\+::slave\+Ok (use query\+::read)
\item docs; custom validator messages
\item docs; 10gen -\/$>$ Mongo\+DB
\item docs; add Date method caveats \#1598
\item docs; more validation details
\item docs; state which branch is stable/unstable
\item docs; mention that middleware does not run on Models
\item docs; promise.\+fulfill()
\item docs; fix readme spelling \#1483 \href{https://github.com/yorchopolis}{\tt yorchopolis}
\item docs; fixed up the R\+E\+A\+D\+ME and examples \href{https://github.com/ebensing}{\tt ebensing}
\item website; add \char`\"{}show code\char`\"{} for properties
\item website; move \char`\"{}show code\char`\"{} links down
\item website; update guide
\item website; add unstable docs
\item website; many improvements
\item website; fix copyright \#1439
\item website; server.\+js -\/$>$ static.\+js \#1546 \href{https://github.com/nikmartin}{\tt nikmartin}
\item tests; refactor 1703
\item tests; add test generator
\item tests; validate format\+Message() throws
\item tests; add script for continuously running tests
\item tests; fixed versioning tests
\item tests; race conditions in tests
\item tests; added for nested and/or queries
\item tests; close some test connections
\item tests; validate db contents
\item tests; remove .only
\item tests; close some test connections
\item tests; validate db contents
\item tests; remove .only
\item tests; replace deprecated method names
\item tests; convert id to string
\item tests; fix sharding tests for Mongo\+DB 2.\+4.\+5
\item tests; now 4-\/5 seconds faster
\item tests; fix race condition
\item make; suppress warning msg in test
\item benchmarks; updated for pull requests
\item examples; improved and expanded \href{https://github.com/ebensing}{\tt ebensing}
\end{DoxyItemize}

\section*{3.\+7.\+4 (unstable) / 2013-\/10-\/01 }


\begin{DoxyItemize}
\item updated; mquery to 0.\+3.\+2
\item removed; mongoose.\+Error.\+Document\+Error (never used)
\item added; custom error msgs for built-\/in validators \#747
\item added; discriminator support \#1647 \#1003 \href{https://github.com/j}{\tt j}
\item added; support disabled collection name pluralization \#1350 \#1707 \href{https://github.com/refack}{\tt refack}
\item fixed; do not pluralize model names not ending with letters \#1703 \href{https://github.com/refack}{\tt refack}
\item fixed; repopulating modified populated paths \#1697
\item fixed; doc.\+equals() when \+\_\+id option is set to false \#1687
\item fixed; strict mode warnings \#1686
\item fixed; \$near Geo\+J\+S\+ON casting \#1683
\item fixed; near\+Sphere Geo\+J\+S\+ON query builder
\item fixed; population field selection w/ strings \#1669
\item docs; custom validator messages
\item docs; 10gen -\/$>$ Mongo\+DB
\item docs; add Date method caveats \#1598
\item docs; more validation details
\item website; add \char`\"{}show code\char`\"{} for properties
\item website; move \char`\"{}show code\char`\"{} links down
\item tests; refactor 1703
\item tests; add test generator
\item tests; validate format\+Message() throws
\end{DoxyItemize}

\section*{3.\+7.\+3 (unstable) / 2013-\/08-\/22 }


\begin{DoxyItemize}
\item updated; warn when using an unstable version
\item updated; mquery to 0.\+3.\+1
\item updated; mocha to 1.\+12.\+0
\item updated; mongodb driver to 1.\+3.\+19 (fix error swallowing behavior)
\item changed; no longer offically supporting node 0.\+6.\+x
\item added; support for Geo\+J\+S\+ON to Query\+::near \href{https://github.com/ebensing}{\tt ebensing}
\item added; stand-\/alone base query support -\/ query.\+to\+Constructor() \href{https://github.com/ebensing}{\tt ebensing}
\item added; promise support to geo\+Search \#1614 \href{https://github.com/ebensing}{\tt ebensing}
\item added; promise support for geo\+Near \#1614 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; setters not firing on null values \#1445 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; handle another versioning edge case \#1520
\item fixed; excluding subdocument fields \#1280 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; allow array properties to be set to null with find\+One\+And\+Update \href{https://github.com/aheuermann}{\tt aheuermann}
\item fixed; subdocuments now use own to\+J\+S\+ON opts \#1376 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; model\+::geo\+Near fulfills promise when results empty \#1658 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; utils.\+merge no longer overrides props and methods \#1655 \href{https://github.com/j}{\tt j}
\item fixed; subdocuments now use their own transform \#1412 \href{https://github.com/ebensing}{\tt ebensing}
\item make; suppress warning msg in test
\item docs; state which branch is stable/unstable
\item docs; mention that middleware does not run on Models
\item tests; add script for continuously running tests
\item tests; fixed versioning tests
\item benchmarks; updated for pull requests
\end{DoxyItemize}

\section*{3.\+7.\+2 (unstable) / 2013-\/08-\/15 }


\begin{DoxyItemize}
\item fixed; model.\+remove() removes only what is necessary \#1649
\item fixed; update() now only runs with cb or explicit true \#1644
\item tests; race conditions in tests
\item website; update guide
\end{DoxyItemize}

\section*{3.\+7.\+1 (unstable) / 2013-\/08-\/13 }


\begin{DoxyItemize}
\item updated; driver to 1.\+3.\+18 (fixes memory leak)
\item added; connection.\+use\+Db() \#1124 \href{https://github.com/ebensing}{\tt ebensing}
\item added; promise support to model.\+map\+Reduce()
\item added; promise support to model.\+ensure\+Indexes()
\item added; promise support to model.\+populate()
\item fixed; casting ref docs on creation \#1606 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; model.\+update \char`\"{}overwrite\char`\"{} option works as documented
\item fixed; query\+::remove() works as documented
\item fixed; \char`\"{}limit\char`\"{} correctly applies to individual items on population \#1490 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; issue with positional operator on ref docs \#1572 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; benchmarks to actually output valid json
\item tests; added for nested and/or queries
\item tests; close some test connections
\item tests; validate db contents
\item tests; remove .only
\item tests; close some test connections
\item tests; validate db contents
\item tests; remove .only
\item tests; replace deprecated method names
\item tests; convert id to string
\item docs; promise.\+fulfill()
\end{DoxyItemize}

\section*{3.\+7.\+0 (unstable) / 2013-\/08-\/05 }


\begin{DoxyItemize}
\item changed; query.\+within getter is now a method -\/$>$ query.\+within()
\item changed; query.\+intersects getter is now a method -\/$>$ query.\+intersects()
\item deprecated; promise\+::add\+Back (use promise\+::on\+Resolve)
\item deprecated; promise\+::complete (use promise\+::fulfill)
\item deprecated; promise\+::add\+Callback (use promise\+::on\+Ful\+Fill)
\item deprecated; promise\+::add\+Errback (use promise\+::on\+Reject)
\item deprecated; query.\+near\+Sphere() (use query.\+near)
\item deprecated; query.\+center() (use query.\+circle)
\item deprecated; query.\+center\+Sphere() (use query.\+circle)
\item deprecated; query\+::slave\+Ok (use query\+::read)
\item removed; namedscope (undocumented and broken) \#679 \#642 \#455 \#379
\item added; benchmarks \href{https://github.com/ebensing}{\tt ebensing}
\item added; publicly exposed connection states \#1585
\item added; \$geo\+Within support \#1529 \$1455 \href{https://github.com/ebensing}{\tt ebensing}
\item added; query method chain validation
\item added; model.\+update {\ttfamily overwrite} option
\item added; model.\+geo\+Near() support \#1563 \href{https://github.com/ebensing}{\tt ebensing}
\item added; model.\+geo\+Search() support \#1560 \href{https://github.com/ebensing}{\tt ebensing}
\item added; Mongoose\+Buffer\+::subtype()
\item added; model.\+create() now returns a promise \#1340
\item added; support for {\ttfamily awaitdata} query option
\item added; pass the doc to doc.\+remove() callback \#1419 \href{https://github.com/JoeWagner}{\tt Joe\+Wagner}
\item added; aggregation query builder \#1404 \href{https://github.com/njoyard}{\tt njoyard}
\item updated; integrate mquery \#1562 \href{https://github.com/ebensing}{\tt ebensing}
\item updated; error msg in doc.\+save() \#1595
\item updated; bump driver to 1.\+3.\+15
\item updated; mpromise 0.\+3.\+0
\item updated; sliced 0.\+0.\+5
\item tests; fix sharding tests for Mongo\+DB 2.\+4.\+5
\item tests; now 4-\/5 seconds faster
\item tests; fix race condition
\item docs; fix readme spelling \#1483 \href{https://github.com/yorchopolis}{\tt yorchopolis}
\item docs; fixed up the R\+E\+A\+D\+ME and examples \href{https://github.com/ebensing}{\tt ebensing}
\item website; add unstable docs
\item website; many improvements
\item website; fix copyright \#1439
\item website; server.\+js -\/$>$ static.\+js \#1546 \href{https://github.com/nikmartin}{\tt nikmartin}
\item examples; improved and expanded \href{https://github.com/ebensing}{\tt ebensing}
\end{DoxyItemize}

\section*{3.\+6.\+20 (stable) / 2013-\/09-\/23 }


\begin{DoxyItemize}
\item fixed; repopulating modified populated paths \#1697
\item fixed; doc.\+equals w/ \+\_\+id false \#1687
\item fixed; strict mode warning \#1686
\item docs; near/near\+Sphere
\end{DoxyItemize}

\section*{3.\+6.\+19 (stable) / 2013-\/09-\/04 }


\begin{DoxyItemize}
\item fixed; population field selection w/ strings \#1669
\item docs; Date method caveats \#1598
\end{DoxyItemize}

\section*{3.\+6.\+18 (stable) / 2013-\/08-\/22 }


\begin{DoxyItemize}
\item updated; warn when using an unstable version of mongoose
\item updated; mocha to 1.\+12.\+0
\item updated; mongodb driver to 1.\+3.\+19 (fix error swallowing behavior)
\item fixed; setters not firing on null values \#1445 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; properly exclude subdocument fields \#1280 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; cast error in find\+And\+Modify \#1643 \href{https://github.com/aheuermann}{\tt aheuermann}
\item website; update guide
\item website; added documentation for safe\+:false and versioning interaction
\item docs; mention that middleware dont run on Models
\item docs; fix indexes link
\item make; suppress warning msg in test
\item tests; moar
\end{DoxyItemize}

\section*{3.\+6.\+17 / 2013-\/08-\/13 }


\begin{DoxyItemize}
\item updated; driver to 1.\+3.\+18 (fixes memory leak)
\item fixed; casting ref docs on creation \#1606
\item docs; query options
\end{DoxyItemize}

\section*{3.\+6.\+16 / 2013-\/08-\/08 }


\begin{DoxyItemize}
\item added; publicly expose connection states \#1585
\item fixed; limit applies to individual items on population \#1490 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; positional operator casting in updates \#1572 \href{https://github.com/ebensing}{\tt ebensing}
\item updated; Mongo\+DB driver to 1.\+3.\+17
\item updated; sliced to 0.\+0.\+5
\item website; tweak homepage
\item tests; fixed + added
\item docs; fix some examples
\item docs; multi-\/mongos support details
\item docs; auto open browser after starting static server
\end{DoxyItemize}

\section*{3.\+6.\+15 / 2013-\/07-\/16 }


\begin{DoxyItemize}
\item added; mongos failover support \#1037
\item updated; make schematype return vals return self \#1580
\item docs; add note to model.\+update \#571
\item docs; document third param to document.\+save callback \#1536
\item tests; tweek mongos test timeout
\end{DoxyItemize}

\section*{3.\+6.\+14 / 2013-\/07-\/05 }


\begin{DoxyItemize}
\item updated; driver to 1.\+3.\+11
\item fixed; issue with find\+One\+And\+Update not returning null on upserts \#1533 \href{https://github.com/ebensing}{\tt ebensing}
\item fixed; missing return statement in Schema\+Array\+::\$geo\+Intersects() \#1498 \href{https://github.com/bsrykt}{\tt bsrykt}
\item fixed; wrong is\+Selected() behavior \#1521 \href{https://github.com/kyano}{\tt kyano}
\item docs; note about to\+Object behavior during save()
\item docs; add callbacks details \#1547 \href{https://github.com/nikmartin}{\tt nikmartin}
\end{DoxyItemize}

\section*{3.\+6.\+13 / 2013-\/06-\/27 }


\begin{DoxyItemize}
\item fixed; calling model.\+distinct without conditions \#1541
\item fixed; regression in Query\+::count() \#1542
\item now working on 3.\+6.\+13
\end{DoxyItemize}

\section*{3.\+6.\+12 / 2013-\/06-\/25 }


\begin{DoxyItemize}
\item updated; driver to 1.\+3.\+10
\item updated; clearer capped collection error message \#1509 \href{https://github.com/bitmage}{\tt bitmage}
\item fixed; Mongoose\+Buffer subtype loss during casting \#1517 \href{https://github.com/zedgu}{\tt zedgu}
\item fixed; doc\+Array\+::id when doc.\+id is disabled \#1492
\item fixed; doc\+Array\+::id now supports matches on populated arrays \#1492 \href{https://github.com/pgherveou}{\tt pgherveou}
\item website; fix example
\item website; improve \+\_\+id disabling example
\item website; fix typo \#1494 \href{https://github.com/dejj}{\tt dejj}
\item docs; added a \textquotesingle{}Requesting new features\textquotesingle{} section \#1504 \href{https://github.com/shovon}{\tt shovon}
\item docs; improve subtypes description
\item docs; clarify \+\_\+id disabling
\item docs\+: display by alphabetical order the methods list \#1508 \href{https://github.com/nicolasleger}{\tt nicolasleger}
\item tests; refactor is\+Selected checks
\item tests; remove pointless test
\item tests; fixed timeouts
\end{DoxyItemize}

\section*{3.\+6.\+11 / 2013-\/05-\/15 }


\begin{DoxyItemize}
\item updated; driver to 1.\+3.\+5
\item fixed; compat w/ Object.\+create(null) \#1484 \#1485
\item fixed; cloning objects w/ missing constructors
\item fixed; prevent multiple min number validators \#1481 \href{https://github.com/nrako}{\tt nrako}
\item docs; add doc.\+increment() example
\item docs; add \$size example
\item docs; add \char`\"{}distinct\char`\"{} example
\end{DoxyItemize}

\section*{3.\+6.\+10 / 2013-\/05-\/09 }


\begin{DoxyItemize}
\item update driver to 1.\+3.\+3
\item fixed; increment() works without other changes \#1475
\item website; fix links to posterous
\item docs; fix link \#1472
\end{DoxyItemize}

\section*{3.\+6.\+9 / 2013-\/05-\/02 }


\begin{DoxyItemize}
\item fixed; depopulation of mixed documents \#1471
\item fixed; use of \$options in array \#1462
\item tests; fix race condition
\item docs; fix default example
\end{DoxyItemize}

\section*{3.\+6.\+8 / 2013-\/04-\/25 }


\begin{DoxyItemize}
\item updated; driver to 1.\+3.\+0
\item fixed; connection.\+model should retain options \#1458 \href{https://github.com/vedmalex}{\tt vedmalex}
\item tests; 4-\/5 seconds faster
\end{DoxyItemize}

\section*{3.\+6.\+7 / 2013-\/04-\/19 }


\begin{DoxyItemize}
\item fixed; population regression in 3.\+6.\+6 \#1444
\end{DoxyItemize}

\section*{3.\+6.\+6 / 2013-\/04-\/18 }


\begin{DoxyItemize}
\item fixed; saving populated new documents \#1442
\item fixed; population regession in 3.\+6.\+5 \#1441
\item website; fix copyright \#1439
\end{DoxyItemize}

\section*{3.\+6.\+5 / 2013-\/04-\/15 }


\begin{DoxyItemize}
\item fixed; strict\+:throw edge case using .set(path, val)
\item fixed; schema.\+path\+Type() on some numberic\+Alpha paths
\item fixed; numberic\+Alpha path versioning
\item fixed; setting nested mixed paths \#1418
\item fixed; setting nested objects with null prop \#1326
\item fixed; regression in v3.\+6 population performance \#1426 \href{https://github.com/vedmalex}{\tt vedmalex}
\item fixed; read pref typos \#1422 \href{https://github.com/kyano}{\tt kyano}
\item docs; fix method example
\item website; update faq
\item website; add more deep links
\item website; update pool\+Size docs
\item website; add 3.\+6 release notes
\item website; note about keep\+Alive
\end{DoxyItemize}

\section*{3.\+6.\+4 / 2013-\/04-\/03 }


\begin{DoxyItemize}
\item fixed; +field conflict with \$slice \#1370
\item fixed; nested deselection conflict \#1333
\item fixed; Range\+Error in Validation\+Error.\+to\+String() \#1296
\item fixed; do not save user defined transforms \#1415
\item tests; fix race condition
\end{DoxyItemize}

\section*{3.\+6.\+3 / 2013-\/04-\/02 }


\begin{DoxyItemize}
\item fixed; setting subdocuments deeply nested fields \#1394
\item fixed; regression\+: populated streams \#1411
\item docs; mention hooks/validation with find\+And\+Modify
\item docs; mention auth
\item docs; add more links
\item examples; add document methods example
\item website; display \char`\"{}see\char`\"{} links for properties
\item website; clean up homepage
\end{DoxyItemize}

\section*{3.\+6.\+2 / 2013-\/03-\/29 }


\begin{DoxyItemize}
\item fixed; corrupted sub-\/doc array \#1408
\item fixed; document\+::update returns a Query \#1397
\item docs; readpref strategy
\end{DoxyItemize}

\section*{3.\+6.\+1 / 2013-\/03-\/27 }


\begin{DoxyItemize}
\item added; populate support to find\+And\+Modify varients \#1395
\item added; text index type to schematypes
\item expose allowed index types as Schema.\+index\+Types
\item fixed; use of {\ttfamily set\+Max\+Listeners} as path
\item fixed; regression in node 0.\+6 on docs with $>$ 10 arrays
\item fixed; do not alter schema arguments \#1364
\item fixed; subdoc\+::owner\+Document() \#1385
\item website; change search id
\item website; add search from google \href{https://github.com/jackdbernier}{\tt jackdbernier}
\item website; fix link
\item website; add 3.\+5.\+x docs release
\item website; fix link
\item docs; fix geometry
\item docs; hide internal constructor
\item docs; aggregation does not cast arguments \#1399
\item docs; querystream options
\item examples; added for population
\end{DoxyItemize}

\section*{3.\+6.\+0 / 2013-\/03-\/18 }


\begin{DoxyItemize}
\item changed; cast \textquotesingle{}true\textquotesingle{}/\textquotesingle{}false\textquotesingle{} to boolean \#1282 \href{https://github.com/mgrach}{\tt mgrach}
\item changed; Buffer arrays can now contain nulls
\item added; Query\+Stream transform option
\item added; support for auth\+Source driver option
\item added; \{mongoose,db\}.model\+Names()
\item added; \$push w/ \$slice,\$sort support (Mongo\+DB 2.\+4)
\item added; hashed index type (Mongo\+DB 2.\+4)
\item added; support for mongodb 2.\+4 geojson (Mongo\+DB 2.\+4)
\item added; value at time of validation error
\item added; support for object literal schemas
\item added; buffer\+Commands schema option
\item added; allow auth option in connections \#1360 \href{https://github.com/geoah}{\tt geoah}
\item added; performance improvements to populate() \href{https://github.com/LearnBoost/mongoose/commit/263ece9}{\tt 263ece9}
\item added; allow adding uncasted docs to populated arrays and properties \#570
\item added; doc\+::populated(path) stores original populated \+\_\+ids
\item added; lean population \#1260
\item added; query.\+populate() now accepts an options object
\item added; document\+::populate(opts, callback)
\item added; Model.\+populate(docs, opts, callback)
\item added; support for rich nested path population
\item added; doc.\+array.\+remove(value) subdoc with \+\_\+id value support \#1278
\item added; optionally allow non-\/strict sets and updates
\item added; promises/\+A+ comformancy with \href{https://github.com/aheckmann/mpromise}{\tt mpromise}
\item added; promise\+::then
\item added; promise\+::end
\item fixed; use of {\ttfamily model} as doc property
\item fixed; lean population \#1382
\item fixed; empty object mixed defaults \#1380
\item fixed; populate w/ deselected \+\_\+id using string syntax
\item fixed; attempted save of divergent populated arrays \#1334 related
\item fixed; better error msg when attempting to\+Object as property name
\item fixed; non population buffer casting from doc
\item fixed; setting populated paths \#570
\item fixed; casting when added docs to populated arrays \#570
\item fixed; prohibit updating arrays selected with \$elem\+Match \#1334
\item fixed; pull / set subdoc combination \#1303
\item fixed; multiple bg index creation \#1365
\item fixed; manual reconnection to single mongod
\item fixed; Constructor / version exposure \#1124
\item fixed; Cast\+Error race condition
\item fixed; no longer swallowing misuse of subdoc\+::invalidate()
\item fixed; utils.\+clone retains Reg\+Exp opts
\item fixed; population of non-\/schema property
\item fixed; allow updating version\+Key \#1265
\item fixed; add Event\+Emitter props to reserved paths \#1338
\item fixed; can now deselect populated doc \+\_\+ids \#1331
\item fixed; properly pass subtype to Binary in Mongoose\+Buffer
\item fixed; casting \+\_\+id from document with non-\/\+Object\+Id \+\_\+id
\item fixed; specifying schema type edge case \{ path\+: \mbox{[}\{type\+: \char`\"{}\+String\char`\"{} \}\mbox{]} \}
\item fixed; typo in schemdate \#1329 \href{https://github.com/jplock}{\tt jplock}
\item updated; driver to 1.\+2.\+14
\item updated; muri to 0.\+3.\+1
\item updated; mpromise to 0.\+2.\+1
\item updated; mocha 1.\+8.\+1
\item updated; mpath to 0.\+1.\+1
\item deprecated; pluralization will die in 4.\+x
\item refactor; rename private methods to something unusable as doc properties
\item refactor Mongoose\+Array\+::remove
\item refactor; move expires index to Schema\+Date \#1328
\item refactor; internal document properties \#1171 \#1184
\item tests; added
\item docs; indexes
\item docs; validation
\item docs; populate
\item docs; populate
\item docs; add note about stream compatibility with node 0.\+8
\item docs; fix for private names
\item docs; Buffer -\/$>$ mongodb.\+Binary \#1363
\item docs; auth options
\item docs; improved
\item website; update F\+AQ
\item website; add more api links
\item website; add 3.\+5.\+x docs to prior releases
\item website; Change mongoose-\/types to an active repo \href{https://github.com/jackdbernier}{\tt jackdbernier}
\item website; compat with node 0.\+10
\item website; add news section
\item website; use T for generic type
\item benchmark; make adjustable
\end{DoxyItemize}

\section*{3.\+6.\+0rc1 / 2013-\/03-\/12 }


\begin{DoxyItemize}
\item refactor; rename private methods to something unusable as doc properties
\item added; \{mongoose,db\}.model\+Names()
\item added; \$push w/ \$slice,\$sort support (Mongo\+DB 2.\+4)
\item added; hashed index type (Mongo\+DB 2.\+4)
\item added; support for mongodb 2.\+4 geojson (Mongo\+DB 2.\+4)
\item added; value at time of validation error
\item added; support for object literal schemas
\item added; buffer\+Commands schema option
\item added; allow auth option in connections \#1360 \href{https://github.com/geoah}{\tt geoah}
\item fixed; lean population \#1382
\item fixed; empty object mixed defaults \#1380
\item fixed; populate w/ deselected \+\_\+id using string syntax
\item fixed; attempted save of divergent populated arrays \#1334 related
\item fixed; better error msg when attempting to\+Object as property name
\item fixed; non population buffer casting from doc
\item fixed; setting populated paths \#570
\item fixed; casting when added docs to populated arrays \#570
\item fixed; prohibit updating arrays selected with \$elem\+Match \#1334
\item fixed; pull / set subdoc combination \#1303
\item fixed; multiple bg index creation \#1365
\item fixed; manual reconnection to single mongod
\item fixed; Constructor / version exposure \#1124
\item fixed; Cast\+Error race condition
\item fixed; no longer swallowing misuse of subdoc\+::invalidate()
\item fixed; utils.\+clone retains Reg\+Exp opts
\item fixed; population of non-\/schema property
\item fixed; allow updating version\+Key \#1265
\item fixed; add Event\+Emitter props to reserved paths \#1338
\item fixed; can now deselect populated doc \+\_\+ids \#1331
\item updated; muri to 0.\+3.\+1
\item updated; driver to 1.\+2.\+12
\item updated; mpromise to 0.\+2.\+1
\item deprecated; pluralization will die in 4.\+x
\item docs; Buffer -\/$>$ mongodb.\+Binary \#1363
\item docs; auth options
\item docs; improved
\item website; add news section
\item benchmark; make adjustable
\end{DoxyItemize}

\section*{3.\+6.\+0rc0 / 2013-\/02-\/03 }


\begin{DoxyItemize}
\item changed; cast \textquotesingle{}true\textquotesingle{}/\textquotesingle{}false\textquotesingle{} to boolean \#1282 \href{https://github.com/mgrach}{\tt mgrach}
\item changed; Buffer arrays can now contain nulls
\item fixed; properly pass subtype to Binary in Mongoose\+Buffer
\item fixed; casting \+\_\+id from document with non-\/\+Object\+Id \+\_\+id
\item fixed; specifying schema type edge case \{ path\+: \mbox{[}\{type\+: \char`\"{}\+String\char`\"{} \}\mbox{]} \}
\item fixed; typo in schemdate \#1329 \href{https://github.com/jplock}{\tt jplock}
\item refactor; move expires index to Schema\+Date \#1328
\item refactor; internal document properties \#1171 \#1184
\item added; performance improvements to populate() \href{https://github.com/LearnBoost/mongoose/commit/263ece9}{\tt 263ece9}
\item added; allow adding uncasted docs to populated arrays and properties \#570
\item added; doc\+::populated(path) stores original populated \+\_\+ids
\item added; lean population \#1260
\item added; query.\+populate() now accepts an options object
\item added; document\+::populate(opts, callback)
\item added; Model.\+populate(docs, opts, callback)
\item added; support for rich nested path population
\item added; doc.\+array.\+remove(value) subdoc with \+\_\+id value support \#1278
\item added; optionally allow non-\/strict sets and updates
\item added; promises/\+A+ comformancy with \href{https://github.com/aheckmann/mpromise}{\tt mpromise}
\item added; promise\+::then
\item added; promise\+::end
\item updated; mocha 1.\+8.\+1
\item updated; muri to 0.\+3.\+0
\item updated; mpath to 0.\+1.\+1
\item updated; docs
\end{DoxyItemize}

\section*{3.\+5.\+16 / 2013-\/08-\/13 }


\begin{DoxyItemize}
\item updated; driver to 1.\+3.\+18
\end{DoxyItemize}

\section*{3.\+5.\+15 / 2013-\/07-\/26 }


\begin{DoxyItemize}
\item updated; sliced to 0.\+0.\+5
\item updated; driver to 1.\+3.\+12
\item fixed; regression in Query\+::count() due to driver change
\item tests; fixed timeouts
\item tests; handle differing test uris
\end{DoxyItemize}

\section*{3.\+5.\+14 / 2013-\/05-\/15 }


\begin{DoxyItemize}
\item updated; driver to 1.\+3.\+5
\item fixed; compat w/ Object.\+create(null) \#1484 \#1485
\item fixed; cloning objects missing constructors
\item fixed; prevent multiple min number validators \#1481 \href{https://github.com/nrako}{\tt nrako}
\end{DoxyItemize}

\section*{3.\+5.\+13 / 2013-\/05-\/09 }


\begin{DoxyItemize}
\item update driver to 1.\+3.\+3
\item fixed; use of \$options in array \#1462
\end{DoxyItemize}

\section*{3.\+5.\+12 / 2013-\/04-\/25 }


\begin{DoxyItemize}
\item updated; driver to 1.\+3.\+0
\item fixed; connection.\+model should retain options \#1458 \href{https://github.com/vedmalex}{\tt vedmalex}
\item fixed; read pref typos \#1422 \href{https://github.com/kyano}{\tt kyano}
\end{DoxyItemize}

\section*{3.\+5.\+11 / 2013-\/04-\/03 }


\begin{DoxyItemize}
\item fixed; +field conflict with \$slice \#1370
\item fixed; Range\+Error in Validation\+Error.\+to\+String() \#1296
\item fixed; nested deselection conflict \#1333
\item remove time from Makefile
\end{DoxyItemize}

\section*{3.\+5.\+10 / 2013-\/04-\/02 }


\begin{DoxyItemize}
\item fixed; setting subdocuments deeply nested fields \#1394
\item fixed; do not alter schema arguments \#1364
\end{DoxyItemize}

\section*{3.\+5.\+9 / 2013-\/03-\/15 }


\begin{DoxyItemize}
\item updated; driver to 1.\+2.\+14
\item added; support for auth\+Source driver option (mongodb 2.\+4)
\item added; Query\+Stream transform option (node 0.\+10 helper)
\item fixed; backport for saving required populated buffers
\item fixed; pull / set subdoc combination \#1303
\item fixed; multiple bg index creation \#1365
\item test; added for saveable required populated buffers
\item test; added for \#1365
\item test; add auth\+Source test
\end{DoxyItemize}

\section*{3.\+5.\+8 / 2013-\/03-\/12 }


\begin{DoxyItemize}
\item added; auth option in connection \href{https://github.com/geoah}{\tt geoah}
\item fixed; Cast\+Error race condition
\item docs; add note about stream compatibility with node 0.\+8
\end{DoxyItemize}

\section*{3.\+5.\+7 / 2013-\/02-\/22 }


\begin{DoxyItemize}
\item updated; driver to 1.\+2.\+13
\item updated; muri to 0.\+3.\+1 \#1347
\item fixed; utils.\+clone retains Reg\+Exp opts \#1355
\item fixed; deep\+Equals Reg\+Exp support
\item tests; fix a connection test
\item website; clean up docs \href{https://github.com/afshinm}{\tt afshinm}
\item website; update homepage
\item website; migragtion\+: emphasize impact of strict docs \#1264
\end{DoxyItemize}

\section*{3.\+5.\+6 / 2013-\/02-\/14 }


\begin{DoxyItemize}
\item updated; driver to 1.\+2.\+12
\item fixed; properly pass Binary subtype
\item fixed; add Event\+Emitter props to reserved paths \#1338
\item fixed; use correct node engine version
\item fixed; display empty docs as \{\} in log output \#953 follow up
\item improved; \char`\"{}bad \$within \$box argument\char`\"{} error message
\item populate; add unscientific benchmark
\item website; add stack overflow to help section
\item website; use better code font \#1336 \href{https://github.com/risseraka}{\tt risseraka}
\item website; clarify where help is available
\item website; fix source code links \#1272 \href{https://github.com/floatingLomas}{\tt floating\+Lomas}
\item docs; be specific about \+\_\+id schema option \#1103
\item docs; add ensure\+Index error handling example
\item docs; R\+E\+A\+D\+ME
\item docs; C\+O\+N\+T\+R\+I\+B\+U\+T\+I\+N\+G.\+md
\end{DoxyItemize}

\section*{3.\+5.\+5 / 2013-\/01-\/29 }


\begin{DoxyItemize}
\item updated; driver to 1.\+2.\+11
\item removed; old node $<$ 0.\+6x shims
\item fixed; documents with Buffer \+\_\+ids equality
\item fixed; Mongoose\+Buffer properly casts numbers
\item fixed; reopening closed connection on alt host/port \#1287
\item docs; fixed typo in Readme \#1298 \href{https://github.com/rened}{\tt rened}
\item docs; fixed typo in migration docs \href{https://github.com/Prinzhorn}{\tt Prinzhorn}
\item docs; fixed incorrect annotation in Schema\+Number\+::min \href{https://github.com/bilalq}{\tt bilalq}
\item docs; updated
\end{DoxyItemize}

\section*{3.\+5.\+4 / 2013-\/01-\/07 }


\begin{DoxyItemize}
\item changed; \char`\"{}\+\_\+pres\char`\"{} \& \char`\"{}\+\_\+posts\char`\"{} are now reserved pathnames \#1261
\item updated; driver to 1.\+2.\+8
\item fixed; exception when reopening a replica set. \#1263 \href{https://github.com/ethankan}{\tt ethankan}
\item website; updated
\end{DoxyItemize}

\section*{3.\+5.\+3 / 2012-\/12-\/26 }


\begin{DoxyItemize}
\item added; support for geo object notation \#1257
\item fixed; \$within query casting with arrays
\item fixed; unix domain socket support \#1254
\item updated; driver to 1.\+2.\+7
\item updated; muri to 0.\+0.\+5
\end{DoxyItemize}

\section*{3.\+5.\+2 / 2012-\/12-\/17 }


\begin{DoxyItemize}
\item fixed; using auth with replica sets \#1253
\end{DoxyItemize}

\section*{3.\+5.\+1 / 2012-\/12-\/12 }


\begin{DoxyItemize}
\item fixed; regression when using subdoc with {\ttfamily path} as pathname \#1245 \href{https://github.com/daeq}{\tt daeq}
\item fixed; safer db option checks
\item updated; driver to 1.\+2.\+5
\item website; add more examples
\item website; clean up old docs
\item website; fix prev release urls
\item docs; clarify streaming with H\+T\+TP responses
\end{DoxyItemize}

\section*{3.\+5.\+0 / 2012-\/12-\/10 }


\begin{DoxyItemize}
\item added; paths to Cast\+Errors \#1239
\item added; support for mongodb connection string spec \#1187
\item added; post validate event
\item added; Schema\+::get (to retrieve schema options)
\item added; Version\+Error \#1071
\item added; npmignore \href{https://github.com/hidekiy}{\tt hidekiy}
\item update; driver to 1.\+2.\+3
\item fixed; stackoverflow in setter \#1234
\item fixed; utils.\+is\+Object()
\item fixed; do not clobber user specified driver write\+Concern \#1227
\item fixed; always pass current document to post hooks
\item fixed; throw error when user attempts to overwrite a model
\item fixed; connection.\+model only caches on connection \#1209
\item fixed; respect conn.\+model() creation when matching global model exists \#1209
\item fixed; passing model name + collection name now always honors collection name
\item fixed; setting virtual field to an empty object \#1154
\item fixed; subclassed Mongoose\+Errors exposure, now available in mongoose.\+Error.\+xxxx
\item fixed; model.\+remove() ignoring callback when executed twice \href{https://github.com/daeq}{\tt daeq} \#1210
\item docs; add collection option to schema api docs \#1222
\item docs; N\+O\+TE about db safe options
\item docs; add post hooks docs
\item docs; connection string options
\item docs; middleware is not executed with Model.\+remove \#1241
\item docs; \{g,s\}etter introspection \#777
\item docs; update validation docs
\item docs; add link to plugins page
\item docs; clarify error returned by unique indexes \#1225
\item docs; more detail about disabling auto\+Index behavior
\item docs; add homepage section to package (npm docs mongoose)
\item docs; more detail around collection name pluralization \#1193
\item website; add .important css
\item website; update models page
\item website; update getting started
\item website; update quick start
\end{DoxyItemize}

\section*{3.\+4.\+0 / 2012-\/11-\/10 }


\begin{DoxyItemize}
\item added; support for generic to\+J\+S\+O\+N/to\+Object transforms \#1160 \#1020 \#1197
\item added; doc.\+set() merge support \#1148 \href{https://github.com/NuORDER}{\tt Nu\+O\+R\+D\+ER}
\item added; query\+::add support \#1188 \href{https://github.com/aleclofabbro}{\tt aleclofabbro}
\item changed; adding invalid nested paths to non-\/objects throws 4216f14
\item changed; fixed; stop invalid function cloning (internal fix)
\item fixed; add query \$and casting support \#1180 \href{https://github.com/anotheri}{\tt anotheri}
\item fixed; overwriting of query arguments \#1176
\item docs; fix expires examples
\item docs; transforms
\item docs; schema {\ttfamily collection} option docs \href{https://github.com/hermanjunge}{\tt hermanjunge}
\item website; updated
\item tests; added
\end{DoxyItemize}

\section*{3.\+3.\+1 / 2012-\/10-\/11 }


\begin{DoxyItemize}
\item fixed; allow goose.\+connect(uris, dbname, opts) \#1144
\item docs; persist A\+PI private checked state across page loads
\end{DoxyItemize}

\section*{3.\+3.\+0 / 2012-\/10-\/10 }


\begin{DoxyItemize}
\item fixed; passing options as 2nd arg to connect() \#1144
\item fixed; race condition after no-\/op save \#1139
\item fixed; schema field selection application in find\+And\+Modify \#1150
\item fixed; directly setting arrays \#1126
\item updated; driver to 1.\+1.\+11
\item updated; collection pluralization rules \href{https://github.com/mrickard}{\tt mrickard}
\item tests; added
\item docs; updated
\end{DoxyItemize}

\section*{3.\+2.\+2 / 2012-\/10-\/08 }


\begin{DoxyItemize}
\item updated; driver to 1.\+1.\+10 \#1143
\item updated; use sliced 0.\+0.\+3
\item fixed; do not recast embedded docs unnecessarily
\item fixed; expires schema option helper \#1132
\item fixed; built in string setters \#1131
\item fixed; debug output for Dates/\+Object\+Id properties \#1129
\item docs; fixed Javascript syntax error in example \href{https://github.com/olalonde}{\tt olalonde}
\item docs; fix to\+J\+S\+ON example \#1137
\item docs; add ensure\+Index production notes
\item docs; fix spelling
\item docs; add blogposts about v3
\item website; updated
\item removed; undocumented in\+Groups\+Of util
\item tests; added
\end{DoxyItemize}

\section*{3.\+2.\+1 / 2012-\/09-\/28 }


\begin{DoxyItemize}
\item fixed; remove query batch\+Size option default of 1000 \href{https://github.com/learnboost/mongoose/commit/3edaa8651}{\tt https\+://github.\+com/learnboost/mongoose/commit/3edaa8651}
\item docs; updated
\item website; updated
\end{DoxyItemize}

\section*{3.\+2.\+0 / 2012-\/09-\/27 }


\begin{DoxyItemize}
\item added; direct array index assignment with casting support {\ttfamily doc.\+array.\+set(index, value)}
\item fixed; Query\+Stream\+::resume within same tick as pause() \#1116
\item fixed; default value validatation \#1109
\item fixed; array splice() not casting \#1123
\item fixed; default array construction edge case \#1108
\item fixed; query casting for inequalities in arrays \#1101 \href{https://github.com/dpatti}{\tt dpatti}
\item tests; added
\item website; more documentation
\item website; fixed layout issue \#1111 \href{https://github.com/SlashmanX}{\tt SlashmanX}
\item website; refactored \href{https://github.com/guille}{\tt guille}
\end{DoxyItemize}

\section*{3.\+1.\+2 / 2012-\/09-\/10 }


\begin{DoxyItemize}
\item added; Read\+Preferrence schema option \#1097
\item updated; driver to 1.\+1.\+7
\item updated; default query batch\+Size to 1000
\item fixed; we now cast the map\+Reduce query option \#1095
\item fixed; \$elem\+Match+\$in with field selection \#1091
\item fixed; properly cast \$elem\+Match+\$in conditions \#1100
\item fixed; default field application of subdocs \#1027
\item fixed; querystream prematurely dying \#1092
\item fixed; querystream never resumes when paused at get\+More boundries \#1092
\item fixed; querystream occasionally emits data events after destroy \#1092
\item fixed; remove unnecessary Object\+Id creation in querystream
\item fixed; allow ne(boolean) again \#1093
\item docs; add populate/field selection syntax notes
\item docs; add to\+Object/to\+J\+S\+ON options detail
\item docs; {\ttfamily read} schema option
\end{DoxyItemize}

\section*{3.\+1.\+1 / 2012-\/08-\/31 }


\begin{DoxyItemize}
\item updated; driver to 1.\+1.\+6
\end{DoxyItemize}

\section*{3.\+1.\+0 / 2012-\/08-\/29 }


\begin{DoxyItemize}
\item changed; fixed; directly setting nested objects now overwrites entire object (previously incorrectly merged them)
\item added; read pref support (mongodb 2.\+2) 205a709c
\item added; aggregate support (mongodb 2.\+2) f3a5bd3d
\item added; virtual \{g,s\}etter introspection (\#1070)
\item updated; docs \href{https://github.com/brettz9}{\tt brettz9}
\item updated; driver to 1.\+1.\+5
\item fixed; retain virtual setter return values (\#1069)
\end{DoxyItemize}

\section*{3.\+0.\+3 / 2012-\/08-\/23 }


\begin{DoxyItemize}
\item fixed; use of nested paths beginning w/ numbers \#1062
\item fixed; query population edge case \#1053 \#1055 \href{https://github.com/jfremy}{\tt jfremy}
\item fixed; simultaneous top and sub level array modifications \#1073
\item added; id and \+\_\+id schema option aliases + tests
\item improve debug formatting to allow copy/paste logged queries into mongo shell \href{https://github.com/eknkc}{\tt eknkc}
\item docs
\end{DoxyItemize}

\section*{3.\+0.\+2 / 2012-\/08-\/17 }


\begin{DoxyItemize}
\item added; missing support for v3 sort/select syntax to find\+And\+Modify helpers (\#1058)
\item fixed; replset fullsetup event emission
\item fixed; reconnected event for replsets
\item fixed; server reconnection setting discovery
\item fixed; compat with non-\/schema path props using positional notation (\#1048)
\item fixed; setter/casting order (\#665)
\item docs; updated
\end{DoxyItemize}

\section*{3.\+0.\+1 / 2012-\/08-\/11 }


\begin{DoxyItemize}
\item fixed; throw Error on bad validators (1044)
\item fixed; typo in Embedded\+Document\+::parent\+Array \mbox{[}lackac\mbox{]}
\item fixed; repair mongoose.\+Schema\+Types alias
\item updated; docs
\end{DoxyItemize}

\section*{3.\+0.\+0 / 2012-\/08-\/07 }


\begin{DoxyItemize}
\item removed; old subdocument\+::commit method
\item fixed; setting arrays of matching docs \mbox{[}6924cbc2\mbox{]}
\item fixed; doc!remove event now emits in save order as save for consistency
\item fixed; pre-\/save hooks no longer fire on subdocuments when validation fails
\item added; subdoc\+::parent() and subdoc\+::parent\+Array() to access subdocument parent objects
\item added; query\+::lean() helper
\end{DoxyItemize}

\section*{3.\+0.\+0rc0 / 2012-\/08-\/01 }


\begin{DoxyItemize}
\item fixed; allow subdoc literal declarations containing \char`\"{}type\char`\"{} pathname (\#993)
\item fixed; unsetting a default array (\#758)
\item fixed; boolean \$in queries (\#998)
\item fixed; allow use of {\ttfamily options} as a pathname (\#529)
\item fixed; {\ttfamily model} is again a permitted schema path name
\item fixed; field selection option on subdocs (\#1022)
\item fixed; handle another edge case with subdoc saving (\#975)
\item added; emit save err on model if listening
\item added; Mongo\+DB T\+TL collection support (\#1006)
\item added; \$center options support
\item added; \$near\+Sphere and \$polygon support
\item updated; driver version to 1.\+1.\+2
\end{DoxyItemize}

\section*{3.\+0.\+0alpha2 / 2012-\/07-\/18 }


\begin{DoxyItemize}
\item changed; index errors are now emitted on their model and passed to an optional callback (\#984)
\item fixed; specifying index along with sparse/unique option no longer overwrites (\#1004)
\item fixed; never swallow connection errors (\#618)
\item fixed; creating object from model with emded object no longer overwrites defaults \href{#859}{\tt achurkin}
\item fixed; stop needless validation of unchanged/unselected fields (\#891)
\item fixed; document\+::equals behavior of objectids (\#974)
\item fixed; honor the minimize schema option (\#978)
\item fixed; provide helpful error msgs when reserved schema path is used (\#928)
\item fixed; callback to conn\+::disconnect is optional (\#875)
\item fixed; handle missing protocols in connection urls (\#987)
\item fixed; validate args to query\+::where (\#969)
\item fixed; saving modified/removed subdocs (\#975)
\item fixed; update with \$pull from Mixed array (\#735)
\item fixed; error with null shard key value
\item fixed; allow unsetting enums (\#967)
\item added; support for manual index creation (\#984)
\item added; support for disabled auto-\/indexing (\#984)
\item added; support for preserving Mongoose\+Array\+::sort changes (\#752)
\item added; emit state change events on connection
\item added; support for specifying B\+S\+ON subtype in Mongoose\+Buffer\+::to\+Object \mbox{[}jcrugzz\mbox{]}
\item added; support for disabled versioning (\#977)
\item added; implicit \char`\"{}new\char`\"{} support for models and Schemas
\end{DoxyItemize}

\section*{3.\+0.\+0alpha1 / 2012-\/06-\/15 }


\begin{DoxyItemize}
\item removed; doc\+::commit (use doc\+::mark\+Modified)
\item removed; doc.\+modified getter (\#950)
\item removed; mongoose\{connect\+Set,create\+Set\+Connection\}. use connect,create\+Connection instead
\item removed; query alias methods 1149804c
\item removed; Mongoose\+Number
\item changed; now creating indexes in background by default
\item changed; strict mode now enabled by default (\#952)
\item changed; doc\+::modified\+Paths is now a method (\#950)
\item changed; getters no longer cast (\#820); casting happens during set
\item fixed; no need to pass update\+Arg to find\+One\+And\+Update (\#931)
\item fixed\+: utils.\+merge bug when merging nested non-\/objects. \mbox{[}treygriffith\mbox{]}
\item fixed; strict\+:throw should produce errors in find\+And\+Modify (\#963)
\item fixed; find\+And\+Update no longer overwrites document (\#962)
\item fixed; setting default Document\+Arrays (\#953)
\item fixed; selection of \+\_\+id with schema deselection (\#954)
\item fixed; ensure promise\+::error emits instanceof Error
\item fixed; Cursor\+Stream\+: No stack overflow on any size result (\#929)
\item fixed; doc\+::remove now passes safe options
\item fixed; invalid use of \$set during \$pop
\item fixed; array\#\{\$pop,\$shift\} mirror Mongo\+DB behavior
\item fixed; no longer test non-\/required vals in string match (\#934)
\item fixed; edge case with doc\+::inspect
\item fixed; setter order (\#665)
\item fixed; setting invalid paths in strict mode (\#916)
\item fixed; handle docs without id in Document\+Array\+::id method (\#897)
\item fixed; do not save virtuals during model.\+update (\#894)
\item fixed; sub doc to\+Object virtuals application (\#889)
\item fixed; Mongoose\+Array\+::pull of Object\+Id (\#881)
\item fixed; handle passing db name with any repl set string
\item fixed; default application of selected fields (\#870)
\item fixed; subdoc paths reported in validation errors (\#725)
\item fixed; incorrect reported num of affected docs in update ops (\#862)
\item fixed; connection assignment in Model\+::model (\#853)
\item fixed; stringifying arrays of docs (\#852)
\item fixed; modifying subdoc and parent array works (\#842)
\item fixed; passing undefined to next hook (\#785)
\item fixed; Query\#\{update,remove\}() works without callbacks (\#788)
\item fixed; set/updating nested objects by parent pathname (\#843)
\item fixed; allow null in number arrays (\#840)
\item fixed; is\+New on sub doc after insertion error (\#837)
\item fixed; if an insert fails, set is\+New back to false \mbox{[}boutell\mbox{]}
\item fixed; is\+Selected when only \+\_\+id is selected (\#730)
\item fixed; setting an unset default value (\#742)
\item fixed; query\+::sort error messaging (\#671)
\item fixed; support for passing \$options with \$regex
\item added; array of object literal notation in schema creates Document\+Arrays
\item added; gt,gte,lt,lte query support for arrays (\#902)
\item added; capped collection support (\#938)
\item added; document versioning support
\item added; inclusion of deselected schema path (\#786)
\item added; non-\/atomic array\+::pop
\item added; Embedded\+Document constructor is now exposed in Doc\+Array\+::create 7cf8beec
\item added; map\+Reduce support (\#678)
\item added; support for a configurable minimize option \#to\{Object,J\+S\+ON\}(option) (\#848)
\item added; support for strict\+: {\ttfamily throws} \mbox{[}regality\mbox{]}
\item added; support for named schema types (\#795)
\item added; to\{Object,J\+S\+ON\} schema options (\#805)
\item added; find\+By\+Id\+And\{Update,Remove\}()
\item added; find\+One\+And\{Update,Remove\}()
\item added; query.\+set\+Options()
\item added; instance.\+update() (\#794)
\item added; support specifying model in populate() \mbox{[}Daniel\+Baulig\mbox{]}
\item added; {\ttfamily lean} query option \mbox{[}gitfy\mbox{]}
\item added; multi-\/atomic support to Mongoose\+Array\+::non\+Atomic\+Push
\item added; support for \$set + other \$atomic ops on single array
\item added; tests
\item updated; driver to 1.\+0.\+2
\item updated; query.\+sort() syntax to mirror query.\+select()
\item updated; clearer cast error msg for array numbers
\item updated; docs
\item updated; doc.\+clone 3x faster (\#950)
\item updated; only create \+\_\+id if necessary (\#950)
\end{DoxyItemize}

\section*{2.\+7.\+3 / 2012-\/08-\/01 }


\begin{DoxyItemize}
\item fixed; boolean \$in queries (\#998)
\item fixed field selection option on subdocs (\#1022)
\end{DoxyItemize}

\section*{2.\+7.\+2 / 2012-\/07-\/18 }


\begin{DoxyItemize}
\item fixed; callback to conn\+::disconnect is optional (\#875)
\item fixed; handle missing protocols in connection urls (\#987)
\item fixed; saving modified/removed subdocs (\#975)
\item updated; tests
\end{DoxyItemize}

\section*{2.\+7.\+1 / 2012-\/06-\/26 }


\begin{DoxyItemize}
\item fixed; sharding\+: when a document holds a null as a value of the shard key
\item fixed; update() using \$pull on an array of Mixed (gh-\/735)
\item deprecated; Mongoose\+Number\#\{inc, increment, decrement\} methods
\item tests; now using mocha
\end{DoxyItemize}

\section*{2.\+7.\+0 / 2012-\/06-\/14 }


\begin{DoxyItemize}
\item added; deprecation warnings to methods being removed in 3.\+x
\end{DoxyItemize}

\section*{2.\+6.\+8 / 2012-\/06-\/14 }


\begin{DoxyItemize}
\item fixed; edge case when using \textquotesingle{}options\textquotesingle{} as a path name (\#961)
\end{DoxyItemize}

\section*{2.\+6.\+7 / 2012-\/06-\/08 }


\begin{DoxyItemize}
\item fixed; ensure promise\+::error always emits instanceof Error
\item fixed; selection of \+\_\+id w/ another excluded path (\#954)
\item fixed; setting default Document\+Arrays (\#953)
\end{DoxyItemize}

\section*{2.\+6.\+6 / 2012-\/06-\/06 }


\begin{DoxyItemize}
\item fixed; stack overflow in query stream with large result sets (\#929)
\item added; \$gt, \$gte, \$lt, \$lte support to arrays (\#902)
\item fixed; pass option {\ttfamily safe} along to doc\+::remove() calls
\end{DoxyItemize}

\section*{2.\+6.\+5 / 2012-\/05-\/24 }


\begin{DoxyItemize}
\item fixed; do not save virtuals in Model.\+update (\#894)
\item added; missing \$ prefixed query aliases (going away in 3.\+x) (\#884) \mbox{[}timoxley\mbox{]}
\item fixed; setting invalid paths in strict mode (\#916)
\item fixed; resetting is\+New after insert failure (\#837) \mbox{[}boutell\mbox{]}
\end{DoxyItemize}

\section*{2.\+6.\+4 / 2012-\/05-\/15 }


\begin{DoxyItemize}
\item updated; backport string regex \$options to 2.\+x
\item updated; use driver 1.\+0.\+2 (performance improvements) (\#914)
\item fixed; calling Mongoose\+Document\+Array\+::id when the doc has no \+\_\+id (\#897)
\end{DoxyItemize}

\section*{2.\+6.\+3 / 2012-\/05-\/03 }


\begin{DoxyItemize}
\item fixed; repl-\/set connectivity issues during failover on Mongo\+DB 2.\+0.\+1
\item updated; driver to 1.\+0.\+0
\item fixed; virtuals application of subdocs when using to\+Object(\{ virtuals\+: true \}) (\#889)
\item fixed; Mongoose\+Array\+::pull of Object\+Id correctly updates the array itself (\#881)
\end{DoxyItemize}

\section*{2.\+6.\+2 / 2012-\/04-\/30 }


\begin{DoxyItemize}
\item fixed; default field application of selected fields (\#870)
\end{DoxyItemize}

\section*{2.\+6.\+1 / 2012-\/04-\/30 }


\begin{DoxyItemize}
\item fixed; connection assignment in mongoose\+::model (\#853, \#877)
\item fixed; incorrect reported num of affected docs in update ops (\#862)
\end{DoxyItemize}

\section*{2.\+6.\+0 / 2012-\/04-\/19 }


\begin{DoxyItemize}
\item updated; hooks.\+js to 0.\+2.\+1
\item fixed; issue with passing undefined to a hook callback. thanks to \mbox{[}chrisleishman\mbox{]} for reporting.
\item fixed; updating/setting nested objects in strict schemas (\#843) as reported by \mbox{[}kof\mbox{]}
\item fixed; Query\#\{update,remove\}() work without callbacks again (\#788)
\item fixed; modifying subdoc along with parent array \$atomic op (\#842)
\end{DoxyItemize}

\section*{2.\+5.\+14 / 2012-\/04-\/13 }


\begin{DoxyItemize}
\item fixed; setting an unset default value (\#742)
\item fixed; doc.\+is\+Selected(otherpath) when only \+\_\+id is selected (\#730)
\item updated; docs
\end{DoxyItemize}

\section*{2.\+5.\+13 / 2012-\/03-\/22 }


\begin{DoxyItemize}
\item fixed; failing validation of unselected required paths (\#730,\#713)
\item fixed; emitting connection error when only one listener (\#759)
\item fixed; Mongoose\+Array\+::splice was not returning values (\#784) \mbox{[}chrisleishman\mbox{]}
\end{DoxyItemize}

\section*{2.\+5.\+12 / 2012-\/03-\/21 }


\begin{DoxyItemize}
\item fixed; honor the {\ttfamily safe} option in all ensure\+Index calls
\item updated; node-\/mongodb-\/native driver to 0.\+9.\+9-\/7
\end{DoxyItemize}

\section*{2.\+5.\+11 / 2012-\/03-\/15 }


\begin{DoxyItemize}
\item added; introspection for getters/setters (\#745)
\item updated; node-\/mongodb-\/driver to 0.\+9.\+9-\/5
\item added; tailable method to Query (\#769) \mbox{[}holic\mbox{]}
\item fixed; Number min/max validation of null (\#764) \mbox{[}btamas\mbox{]}
\item added; more flexible user/password connection options (\#738) \mbox{[}Karne\+Asada\mbox{]}
\end{DoxyItemize}

\section*{2.\+5.\+10 / 2012-\/03-\/06 }


\begin{DoxyItemize}
\item updated; node-\/mongodb-\/native driver to 0.\+9.\+9-\/4
\item added; Query\+::comment()
\item fixed; allow unsetting arrays
\item fixed; hooking the set method of subdocuments (\#746)
\item fixed; edge case in hooks
\item fixed; allow \$id and \$ref in queries (fixes compatibility with mongoose-\/dbref) (\#749) \mbox{[}richtera\mbox{]}
\item added; default path selection to Schema\+Types
\end{DoxyItemize}

\section*{2.\+5.\+9 / 2012-\/02-\/22 }


\begin{DoxyItemize}
\item fixed; properly cast nested atomic update operators for sub-\/documents
\end{DoxyItemize}

\section*{2.\+5.\+8 / 2012-\/02-\/21 }


\begin{DoxyItemize}
\item added; post \textquotesingle{}remove\textquotesingle{} middleware includes model that was removed (\#729) \mbox{[}timoxley\mbox{]}
\end{DoxyItemize}

\section*{2.\+5.\+7 / 2012-\/02-\/09 }


\begin{DoxyItemize}
\item fixed; Reg\+Exp validators on node $>$= v0.\+6.\+x
\end{DoxyItemize}

\section*{2.\+5.\+6 / 2012-\/02-\/09 }


\begin{DoxyItemize}
\item fixed; emit errors returned from db.\+collection() on the connection (were being swallowed)
\item added; can add multiple validators in your schema at once (\#718) \mbox{[}diogogmt\mbox{]}
\item fixed; strict embedded documents (\#717)
\item updated; docs \mbox{[}niemyjski\mbox{]}
\item added; pass number of affected docs back in model.\+update/save
\end{DoxyItemize}

\section*{2.\+5.\+5 / 2012-\/02-\/03 }


\begin{DoxyItemize}
\item fixed; Range\+Error\+: maximum call stack exceed error when removing docs with Number \+\_\+id (\#714)
\end{DoxyItemize}

\section*{2.\+5.\+4 / 2012-\/02-\/03 }


\begin{DoxyItemize}
\item fixed; Range\+Error\+: maximum call stack exceed error (\#714)
\end{DoxyItemize}

\section*{2.\+5.\+3 / 2012-\/02-\/02 }


\begin{DoxyItemize}
\item added; doc\+::is\+Selected(path)
\item added; query\+::equals()
\item added; beta sharding support
\item added; more descript error msgs (\#700) \mbox{[}obeleh\mbox{]}
\item added; document.\+modified\+Paths (\#709) \mbox{[}ljharb\mbox{]}
\item fixed; only functions can be added as getters/setters (\#707,704) \mbox{[}ljharb\mbox{]}
\end{DoxyItemize}

\section*{2.\+5.\+2 / 2012-\/01-\/30 }


\begin{DoxyItemize}
\item fixed; rollback -\/native driver to 0.\+9.\+7-\/3-\/5 (was causing timeouts and other replica set weirdness)
\item deprecated; Mongoose\+Number (will be moved to a separate repo for 3.\+x)
\item added; init event is emitted on schemas
\end{DoxyItemize}

\section*{2.\+5.\+1 / 2012-\/01-\/27 }


\begin{DoxyItemize}
\item fixed; honor strict schemas in Model.\+update (\#699)
\end{DoxyItemize}

\section*{2.\+5.\+0 / 2012-\/01-\/26 }


\begin{DoxyItemize}
\item added; doc.\+to\+J\+S\+ON calls to\+J\+S\+ON on embedded docs when exists \mbox{[}jerem\mbox{]}
\item added; populate support for refs of type Buffer (\#686) \mbox{[}jerem\mbox{]}
\item added; \$all support for Object\+Ids and Dates (\#690)
\item fixed; virtual setter calling on instantiation when strict\+: true (\#682) \mbox{[}hunterloftis\mbox{]}
\item fixed; doc construction triggering getters (\#685)
\item fixed; Mongoose\+Buffer check in deep\+Equals (\#688)
\item fixed; range error when using Number \+\_\+ids with {\ttfamily instance.\+save()} (\#691)
\item fixed; is\+New on embedded docs edge case (\#680)
\item updated; driver to 0.\+9.\+8-\/3
\item updated; expose {\ttfamily model()} method within static methods
\end{DoxyItemize}

\section*{2.\+4.\+10 / 2012-\/01-\/10 }


\begin{DoxyItemize}
\item added; optional getter application in .to\+Object()/.to\+J\+S\+O\+N() (\#412)
\item fixed; nested \$operators in \$all queries (\#670)
\item added; \$nor support (\#674)
\item fixed; bug when adding nested schema (\#662) \mbox{[}paulwe\mbox{]}
\end{DoxyItemize}

\section*{2.\+4.\+9 / 2012-\/01-\/04 }


\begin{DoxyItemize}
\item updated; driver to 0.\+9.\+7-\/3-\/5 to fix Linux performance degradation on some boxes
\end{DoxyItemize}

\section*{2.\+4.\+8 / 2011-\/12-\/22 }


\begin{DoxyItemize}
\item updated; bump -\/native to 0.\+9.\+7.\+2-\/5
\item fixed; compatibility with date.\+js (\#646) \mbox{[}chrisleishman\mbox{]}
\item changed; undocumented schema \char`\"{}lax\char`\"{} option to \char`\"{}strict\char`\"{}
\item fixed; default value population for strict schemas
\item updated; the next\+Tick helper for small performance gain. 1bee2a2
\end{DoxyItemize}

\section*{2.\+4.\+7 / 2011-\/12-\/16 }


\begin{DoxyItemize}
\item fixed; bug in 2.\+4.\+6 with path setting
\item updated; bump -\/native to 0.\+9.\+7.\+2-\/1
\item added; strict schema option \mbox{[}nw\mbox{]}
\end{DoxyItemize}

\section*{2.\+4.\+6 / 2011-\/12-\/16 }


\begin{DoxyItemize}
\item fixed; conflicting mods on update bug \mbox{[}sirlantis\mbox{]}
\item improved; doc.\+id getter performance
\end{DoxyItemize}

\section*{2.\+4.\+5 / 2011-\/12-\/14 }


\begin{DoxyItemize}
\item fixed; bad Mongoose\+Array behavior in 2.\+4.\+2 -\/ 2.\+4.\+4
\end{DoxyItemize}

\section*{2.\+4.\+4 / 2011-\/12-\/14 }


\begin{DoxyItemize}
\item fixed; Mongoose\+Array\+::do\+Atomics throwing after sliced
\end{DoxyItemize}

\section*{2.\+4.\+3 / 2011-\/12-\/14 }


\begin{DoxyItemize}
\item updated; system.\+profile schema for Mongo\+DB 2x
\end{DoxyItemize}

\section*{2.\+4.\+2 / 2011-\/12-\/12 }


\begin{DoxyItemize}
\item fixed; partially populating multiple children of subdocs (\#639) \mbox{[}kenpratt\mbox{]}
\item fixed; allow Update of numbers to null (\#640) \mbox{[}jerem\mbox{]}
\end{DoxyItemize}

\section*{2.\+4.\+1 / 2011-\/12-\/02 }


\begin{DoxyItemize}
\item added; options support for populate() queries
\item updated; -\/native driver to 0.\+9.\+7-\/1.\+4
\end{DoxyItemize}

\section*{2.\+4.\+0 / 2011-\/11-\/29 }


\begin{DoxyItemize}
\item added; Query\+Streams (\#614)
\item added; debug print mode for development
\item added; \$within support to Array queries (\#586) \mbox{[}ggoodale\mbox{]}
\item added; \$center\+Sphere query support
\item fixed; \$within support
\item added; \$unset is now used when setting a path to undefined (\#519)
\item added; query\+::batch\+Size support
\item updated; docs
\item updated; -\/native driver to 0.\+9.\+7-\/1.\+3 (provides Windows support)
\end{DoxyItemize}

\section*{2.\+3.\+13 / 2011-\/11-\/15 }


\begin{DoxyItemize}
\item fixed; required validation for Refs (\#612) \mbox{[}ded\mbox{]}
\item added; \$near\+Sphere support for Arrays (\#610)
\end{DoxyItemize}

\section*{2.\+3.\+12 / 2011-\/11-\/09 }


\begin{DoxyItemize}
\item fixed; regression, objects passed to Model.\+update should not be changed (\#605)
\item fixed; regression, empty Model.\+update should not be executed
\end{DoxyItemize}

\section*{2.\+3.\+11 / 2011-\/11-\/08 }


\begin{DoxyItemize}
\item fixed; using \$elem\+Match on arrays of Mixed types (\#591)
\item fixed; allow using \$regex when querying Arrays (\#599)
\item fixed; calling Model.\+update with no atomic keys (\#602)
\end{DoxyItemize}

\section*{2.\+3.\+10 / 2011-\/11-\/05 }


\begin{DoxyItemize}
\item fixed; model.\+update casting for nested paths works (\#542)
\end{DoxyItemize}

\section*{2.\+3.\+9 / 2011-\/11-\/04 }


\begin{DoxyItemize}
\item fixed; deep\+Equals check for Mongoose\+Array returned false
\item fixed; reset modified flags of embedded docs after save \mbox{[}gitfy\mbox{]}
\item fixed; setting embedded doc with identical values no longer marks modified \mbox{[}gitfy\mbox{]}
\item updated; -\/native driver to 0.\+9.\+6.\+23 \mbox{[}mlazarov\mbox{]}
\item fixed; Model.\+update casting (\#542, \#545, \#479)
\item fixed; populated refs no longer fail required validators (\#577)
\item fixed; populating refs of objects with custom ids works
\item fixed; \$pop \& \$unset work with Model.\+update (\#574)
\item added; more helpful debugging message for Schema\+::add (\#578)
\item fixed; accessing .id when no \+\_\+id exists now returns null (\#590)
\end{DoxyItemize}

\section*{2.\+3.\+8 / 2011-\/10-\/26 }


\begin{DoxyItemize}
\item added; callback to query\+::find\+One is now optional (\#581)
\end{DoxyItemize}

\section*{2.\+3.\+7 / 2011-\/10-\/24 }


\begin{DoxyItemize}
\item fixed; wrapped save/remove callbacks in next\+Tick to mitigate -\/native swallowing thrown errors
\end{DoxyItemize}

\section*{2.\+3.\+6 / 2011-\/10-\/21 }


\begin{DoxyItemize}
\item fixed; exclusion of embedded doc \+\_\+id from query results (\#541)
\end{DoxyItemize}

\section*{2.\+3.\+5 / 2011-\/10-\/19 }


\begin{DoxyItemize}
\item fixed; calling queries without passing a callback works (\#569)
\item fixed; populate() works with String and Number \+\_\+ids too (\#568)
\end{DoxyItemize}

\section*{2.\+3.\+4 / 2011-\/10-\/18 }


\begin{DoxyItemize}
\item added; Model.\+create now accepts an array as a first arg
\item fixed; calling to\+Object on a Document\+Array with nulls no longer throws
\item fixed; calling inspect on a Document\+Array with nulls no longer throws
\item added; Mongoose\+Array\+::unshift support
\item fixed; save hooks now fire on embedded documents \href{#456}{\tt gitfy}
\item updated; -\/native driver to 0.\+9.\+6-\/22
\item fixed; correctly pass \$add\+To\+Set op instead of \$push
\item fixed; \$add\+To\+Set properly detects dates
\item fixed; \$add\+To\+Set with multiple items works
\item updated; better node 0.\+6 Buffer support
\end{DoxyItemize}

\section*{2.\+3.\+3 / 2011-\/10-\/12 }


\begin{DoxyItemize}
\item fixed; population conditions in multi-\/query settings \href{#563}{\tt vedmalex}
\item fixed; now compatible with Node v0.\+5.\+x
\end{DoxyItemize}

\section*{2.\+3.\+2 / 2011-\/10-\/11 }


\begin{DoxyItemize}
\item fixed; population of null subdoc properties no longer hangs (\#561)
\end{DoxyItemize}

\section*{2.\+3.\+1 / 2011-\/10-\/10 }


\begin{DoxyItemize}
\item added; support for Query filters to populate() \mbox{[}eneko\mbox{]}
\item fixed; querying with number no longer crashes mongodb (\#555) \mbox{[}jlbyrey\mbox{]}
\item updated; version of -\/native driver to 0.\+9.\+6-\/21
\item fixed; prevent query callbacks that throw errors from corrupting -\/native connection state
\end{DoxyItemize}

\section*{2.\+3.\+0 / 2011-\/10-\/04 }


\begin{DoxyItemize}
\item fixed; nulls as default values for Boolean now works as expected
\item updated; version of -\/native driver to 0.\+9.\+6-\/20
\end{DoxyItemize}

\section*{2.\+2.\+4 / 2011-\/10-\/03 }


\begin{DoxyItemize}
\item fixed; populate() works when returned array contains undefined/nulls
\end{DoxyItemize}

\section*{2.\+2.\+3 / 2011-\/09-\/29 }


\begin{DoxyItemize}
\item updated; version of -\/native driver to 0.\+9.\+6-\/19
\end{DoxyItemize}

\section*{2.\+2.\+2 / 2011-\/09-\/28 }


\begin{DoxyItemize}
\item added; \$regex support to String \mbox{[}davidandrewcope\mbox{]}
\item added; support for other contexts like repl etc (\#535)
\item fixed; clear modified state properly after saving
\item added; \$add\+To\+Set support to Array
\end{DoxyItemize}

\section*{2.\+2.\+1 / 2011-\/09-\/22 }


\begin{DoxyItemize}
\item more descript error when casting undefined to string
\item updated; version of -\/native driver to 0.\+9.\+6-\/18
\end{DoxyItemize}

\section*{2.\+2.\+0 / 2011-\/09-\/22 }


\begin{DoxyItemize}
\item fixed; max\+Listeners warning on schemas with many arrays (\#530)
\item changed; return / apply defaults based on fields selected in query (\#423)
\item fixed; correctly detect Mixed types within schema arrays (\#532)
\end{DoxyItemize}

\section*{2.\+1.\+4 / 2011-\/09-\/20 }


\begin{DoxyItemize}
\item fixed; new private methods that stomped on users code
\item changed; finished removing old \char`\"{}compat\char`\"{} support which did nothing
\end{DoxyItemize}

\section*{2.\+1.\+3 / 2011-\/09-\/16 }


\begin{DoxyItemize}
\item updated; version of -\/native driver to 0.\+9.\+6-\/15
\item added; emit {\ttfamily error} on connection when open fails \mbox{[}edwardhotchkiss\mbox{]}
\item added; index support to Buffers (thanks justmoon for helping track this down)
\item fixed; passing collection name via schema in conn.\+model() now works (thanks vedmalex for reporting)
\end{DoxyItemize}

\section*{2.\+1.\+2 / 2011-\/09-\/07 }


\begin{DoxyItemize}
\item fixed; Query\+::find with no args no longer throws
\end{DoxyItemize}

\section*{2.\+1.\+1 / 2011-\/09-\/07 }


\begin{DoxyItemize}
\item added; support Model.\+count(fn)
\item fixed; compatibility with node $>$=0.\+4.\+0 $<$ 0.\+4.\+3
\item added; pass model.\+options.\+safe through with .save() so w\+:2, wtimeout\+:5000 options work \mbox{[}andrewjstone\mbox{]}
\item added; support for \$type queries
\item added; support for Query\+::or
\item added; more tests
\item optimized populate queries
\end{DoxyItemize}

\section*{2.\+1.\+0 / 2011-\/09-\/01 }


\begin{DoxyItemize}
\item changed; document\+::validate is a public method
\item fixed; setting number to same value no longer marks modified (\#476) \mbox{[}gitfy\mbox{]}
\item fixed; Buffers shouldn\textquotesingle{}t have default vals
\item added; allow specifying collection name in schema (\#470) \mbox{[}ixti\mbox{]}
\item fixed; reset modified paths and atomics after saved (\#459)
\item fixed; set is\+New on embedded docs to false after save
\item fixed; use self to ensure proper scope of options in do\+Open\+Set (\#483) \mbox{[}andrewjstone\mbox{]}
\end{DoxyItemize}

\section*{2.\+0.\+4 / 2011-\/08-\/29 }


\begin{DoxyItemize}
\item Fixed; Only send the depopulated Object\+Id instead of the entire doc on save (D\+B\+Refs)
\item Fixed; Properly cast nested array values in Model.\+update (the data was stored in Mongo incorrectly but recast on document fetch was \char`\"{}fixing\char`\"{} it)
\end{DoxyItemize}

\section*{2.\+0.\+3 / 2011-\/08-\/28 }


\begin{DoxyItemize}
\item Fixed; manipulating a populated array no longer causes infinite loop in B\+S\+ON serializer during save (\#477)
\item Fixed; populating an empty array no longer hangs foreeeeeeeever (\#481)
\end{DoxyItemize}

\section*{2.\+0.\+2 / 2011-\/08-\/25 }


\begin{DoxyItemize}
\item Fixed; Maintain query option key order (fixes \textquotesingle{}bad hint\textquotesingle{} error from compound query hints)
\end{DoxyItemize}

\section*{2.\+0.\+1 / 2011-\/08-\/25 }


\begin{DoxyItemize}
\item Fixed; do not over-\/write the doc when no valide props exist in Model.\+update (\#473)
\end{DoxyItemize}

\section*{2.\+0.\+0 / 2011-\/08-\/24 }


\begin{DoxyItemize}
\item Added; support for Buffers \mbox{[}justmoon\mbox{]}
\item Changed; improved error handling \mbox{[}maelstrom\mbox{]}
\item Removed\+: unused utils.\+erase
\item Fixed; support for passing other context object into Schemas (\#234) \mbox{[}Sija\mbox{]}
\item Fixed; getters are no longer circular refs to themselves (\#366)
\item Removed; unused compat.\+js
\item Fixed; getter/setter scopes are set properly
\item Changed; made several private properties more obvious by prefixing \+\_\+
\item Added; D\+B\+Ref support \mbox{[}guille\mbox{]}
\item Changed; removed support for multiple collection names per model
\item Fixed; no longer applying setters when document returned from db
\item Changed; default auto\+\_\+reconnect to true
\item Changed; Query\+::bind no longer clones the query
\item Fixed; Model.\+update now accepts \$pull, \$inc and friends (\#404)
\item Added; virtual type option support \mbox{[}nw\mbox{]}
\end{DoxyItemize}

\section*{1.\+8.\+4 / 2011-\/08-\/21 }


\begin{DoxyItemize}
\item Fixed; validation bug when instantiated with non-\/schema properties (\#464) \mbox{[}jmreidy\mbox{]}
\end{DoxyItemize}

\section*{1.\+8.\+3 / 2011-\/08-\/19 }


\begin{DoxyItemize}
\item Fixed; regression in connection\+::open \mbox{[}jshaw86\mbox{]}
\end{DoxyItemize}

\section*{1.\+8.\+2 / 2011-\/08-\/17 }


\begin{DoxyItemize}
\item fixed; reset connection.\+ready\+State after failure \mbox{[}tomseago\mbox{]}
\item fixed; can now query positionally for non-\/embedded docs (arrays of numbers/strings etc)
\item fixed; embedded document query casting
\item added; support for passing options to node-\/mongo-\/native db, server, and replsetserver \mbox{[}tomseago\mbox{]}
\end{DoxyItemize}

\section*{1.\+8.\+1 / 2011-\/08-\/10 }


\begin{DoxyItemize}
\item fixed; Object\+Ids were always marked modified
\item fixed; can now query using document instances
\item fixed; can now query/update using documents with subdocs
\end{DoxyItemize}

\section*{1.\+8.\+0 / 2011-\/08-\/04 }


\begin{DoxyItemize}
\item fixed; can now use \$all with String and Number
\item fixed; can query subdoc array with \$ne\+: null
\item fixed; instance.\+subdocs\+::id now works with custom \+\_\+ids
\item fixed; do not apply setters when doc returned from db (change in bad behavior)
\end{DoxyItemize}

\section*{1.\+7.\+4 / 2011-\/07-\/25 }


\begin{DoxyItemize}
\item fixed; sparse now a valid seperate schema option
\item fixed; now catching cast errors in queries
\item fixed; calling new Schema with object created in vm.\+run\+In\+New\+Context now works (\#384) \mbox{[}Sija\mbox{]}
\item fixed; String enum was disallowing null
\item fixed; Find by nested document \+\_\+id now works (\#389)
\end{DoxyItemize}

\section*{1.\+7.\+3 / 2011-\/07-\/16 }


\begin{DoxyItemize}
\item fixed; Mongoose\+Array\+::index\+Of now works with Object\+Ids
\item fixed; validation scope now set properly (\#418)
\item fixed; added missing colors dependency (\#398)
\end{DoxyItemize}

\section*{1.\+7.\+2 / 2011-\/07-\/13 }


\begin{DoxyItemize}
\item changed; node-\/mongodb-\/native driver to v0.\+9.\+6.\+7
\end{DoxyItemize}

\section*{1.\+7.\+1 / 2011-\/07-\/12 }


\begin{DoxyItemize}
\item changed; roll back node-\/mongodb-\/native driver to v0.\+9.\+6.\+4
\end{DoxyItemize}

\section*{1.\+7.\+0 / 2011-\/07-\/12 }


\begin{DoxyItemize}
\item fixed; collection name misspelling \mbox{[}mathrawka\mbox{]}
\item fixed; 2nd param is required for Repl\+Set\+Servers \mbox{[}kevinmarvin\mbox{]}
\item fixed; Mongoose\+Array behaves properly with Object.\+keys
\item changed; node-\/mongodb-\/native driver to v0.\+9.\+6.\+6
\item fixed/changed; Mongodb segfault when passed invalid Object\+Id (\#407)
\begin{DoxyItemize}
\item This means invalid data passed to the Object\+Id constructor will now error
\end{DoxyItemize}
\end{DoxyItemize}

\section*{1.\+6.\+0 / 2011-\/07-\/07 }


\begin{DoxyItemize}
\item changed; .save() errors are now emitted on the instances db instead of the instance 9782463fc
\item fixed; errors occurring when creating indexes now properly emit on db
\item added; \$max\+Distance support to Mongoose\+Arrays
\item fixed; Reg\+Exps now work with \$all
\item changed; node-\/mongodb-\/native driver to v0.\+9.\+6.\+4
\item fixed; model names are now accessible via .model\+Name
\item added; Query\+::slave\+Ok support
\end{DoxyItemize}

\section*{1.\+5.\+0 / 2011-\/06-\/27 }


\begin{DoxyItemize}
\item changed; saving without a callback no longer ignores the error ()
\item changed; hook-\/js version bump to 0.\+1.\+9
\item changed; node-\/mongodb-\/native version bumped to 0.\+9.\+6.\+1 -\/ When .remove() doesn\textquotesingle{}t return an error, null is no longer passed.
\item fixed; two memory leaks ()
\item added; sparse index support
\item added; more Object\+Id conditionals (gt, lt, gte, lte) ()
\item added; options are now passed in model\+::remote ()
\end{DoxyItemize}

\section*{1.\+4.\+0 / 2011-\/06-\/10 }


\begin{DoxyItemize}
\item bumped hooks-\/js dependency (fixes issue passing null as first arg to next())
\item fixed; document\+::inspect now works properly with nested docs
\item fixed; \textquotesingle{}set\textquotesingle{} now works as a schema attribute (G\+H-\/365)
\item fixed; \+\_\+id is now set properly within pre-\/init hooks (G\+H-\/289)
\item added; Query\+::distinct / Model\+::distinct support (G\+H-\/155)
\item fixed; embedded docs now can use instance methods (G\+H-\/249)
\item fixed; can now overwrite strings conflicting with schema type
\end{DoxyItemize}

\section*{1.\+3.\+7 / 2011-\/06-\/03 }


\begin{DoxyItemize}
\item added Mongoose\+Array\+::splice support
\item fixed; \textquotesingle{}path\textquotesingle{} is now a valid Schema pathname
\item improved hooks (utilizing \href{https://github.com/bnoguchi/hooks-js}{\tt https\+://github.\+com/bnoguchi/hooks-\/js})
\item fixed; Mongoose\+Array\+::\$shift now works (never did)
\item fixed; Document.\+modified no longer throws
\item fixed; modifying subdoc property sets modified paths for subdoc and parent doc
\item fixed; marking subdoc path as modified properly persists the value to the db
\item fixed; Rex\+Exps can again be saved ( \#357 )
\end{DoxyItemize}

\section*{1.\+3.\+6 / 2011-\/05-\/18 }


\begin{DoxyItemize}
\item fixed; corrected casting for queries against array types
\item added; Document\+::set now accepts Document instances
\end{DoxyItemize}

\section*{1.\+3.\+5 / 2011-\/05-\/17 }


\begin{DoxyItemize}
\item fixed; \$ne queries work properly with single vals
\item added; \#inspect() methods to improve console.\+log output
\end{DoxyItemize}

\section*{1.\+3.\+4 / 2011-\/05-\/17 }


\begin{DoxyItemize}
\item fixed; find by Date works as expected (\#336)
\item added; geospatial 2d index support
\item added; support for \$near (\#309)
\item updated; node-\/mongodb-\/native driver
\item fixed; updating numbers work (\#342)
\item added; better error msg when try to remove an embedded doc without an \+\_\+id (\#307)
\item added; support for \textquotesingle{}on-\/the-\/fly\textquotesingle{} schemas (\#227)
\item changed; virtual id getters can now be skipped
\item fixed; .index() called on subdoc schema now works as expected
\item fixed; db.\+set\+Profile() now buffers until the db is open (\#340)
\end{DoxyItemize}

\section*{1.\+3.\+3 / 2011-\/04-\/27 }


\begin{DoxyItemize}
\item fixed; corrected query casting on nested mixed types
\end{DoxyItemize}

\section*{1.\+3.\+2 / 2011-\/04-\/27 }


\begin{DoxyItemize}
\item fixed; query hints now retain key order
\end{DoxyItemize}

\section*{1.\+3.\+1 / 2011-\/04-\/27 }


\begin{DoxyItemize}
\item fixed; setting a property on an embedded array no longer overwrites entire array (G\+H-\/310)
\item fixed; setting nested properties works when sibling prop is named \char`\"{}type\char`\"{}
\item fixed; is\+Modified is now much finer grained when .set() is used (G\+H-\/323)
\item fixed; mongoose.\+model() and connection.\+model() now return the Model (G\+H-\/308, G\+H-\/305)
\item fixed; can now use \$gt, \$lt, \$gte, \$lte with String schema types (G\+H-\/317)
\item fixed; .lowercase() -\/$>$ .to\+Lower\+Case() in pluralize()
\item fixed; updating an embedded document by index works (G\+H-\/334)
\item changed; .save() now passes the instance to the callback (G\+H-\/294, G\+H-\/264)
\item added; can now query system.\+profile and system.\+indexes collections
\item added; db.\+model(\textquotesingle{}system.\+profile\textquotesingle{}) is now included as a default Schema
\item added; db.\+set\+Profiling(level, ms, callback)
\item added; Query\+::hint() support
\item added; more tests
\item updated node-\/mongodb-\/native to 0.\+9.\+3
\end{DoxyItemize}

\section*{1.\+3.\+0 / 2011-\/04-\/19 }


\begin{DoxyItemize}
\item changed; save() callbacks now fire only once on failed validation
\item changed; Errors returned from save() callbacks now instances of Validation\+Error
\item fixed; Mongoose\+Array\+::index\+Of now works properly
\end{DoxyItemize}

\section*{1.\+2.\+0 / 2011-\/04-\/11 }


\begin{DoxyItemize}
\item changed; Mongoose\+Number now casts empty string to null
\end{DoxyItemize}

\section*{1.\+1.\+25 / 2011-\/04-\/08 }


\begin{DoxyItemize}
\item fixed; post init now fires at proper time
\end{DoxyItemize}

\section*{1.\+1.\+24 / 2011-\/04-\/03 }


\begin{DoxyItemize}
\item fixed; pushing an array onto an Array works on existing docs
\end{DoxyItemize}

\section*{1.\+1.\+23 / 2011-\/04-\/01 }


\begin{DoxyItemize}
\item Added Model\+::model
\end{DoxyItemize}

\section*{1.\+1.\+22 / 2011-\/03-\/31 }


\begin{DoxyItemize}
\item Fixed; \$in queries on mixed types now work
\end{DoxyItemize}

\section*{1.\+1.\+21 / 2011-\/03-\/31 }


\begin{DoxyItemize}
\item Fixed; setting object root to null/undefined works
\end{DoxyItemize}

\section*{1.\+1.\+20 / 2011-\/03-\/31 }


\begin{DoxyItemize}
\item Fixed; setting multiple props on null field works
\end{DoxyItemize}

\section*{1.\+1.\+19 / 2011-\/03-\/31 }


\begin{DoxyItemize}
\item Fixed; no longer using \$set on paths to an unexisting fields
\end{DoxyItemize}

\section*{1.\+1.\+18 / 2011-\/03-\/30 }


\begin{DoxyItemize}
\item Fixed; non-\/mixed type object setters work after initd from null
\end{DoxyItemize}

\section*{1.\+1.\+17 / 2011-\/03-\/30 }


\begin{DoxyItemize}
\item Fixed; nested object property access works when root initd with null value
\end{DoxyItemize}

\section*{1.\+1.\+16 / 2011-\/03-\/28 }


\begin{DoxyItemize}
\item Fixed; empty arrays are now saved
\end{DoxyItemize}

\section*{1.\+1.\+15 / 2011-\/03-\/28 }


\begin{DoxyItemize}
\item Fixed; {\ttfamily null} and {\ttfamily undefined} are set atomically.
\end{DoxyItemize}

\section*{1.\+1.\+14 / 2011-\/03-\/28 }


\begin{DoxyItemize}
\item Changed; more forgiving date casting, accepting \textquotesingle{}\textquotesingle{} as null.
\end{DoxyItemize}

\section*{1.\+1.\+13 / 2011-\/03-\/26 }


\begin{DoxyItemize}
\item Fixed setting values as {\ttfamily undefined}.
\end{DoxyItemize}

\section*{1.\+1.\+12 / 2011-\/03-\/26 }


\begin{DoxyItemize}
\item Fixed; nested objects now convert to J\+S\+ON properly
\item Fixed; setting nested objects directly now works
\item Update node-\/mongodb-\/native
\end{DoxyItemize}

\section*{1.\+1.\+11 / 2011-\/03-\/25 }


\begin{DoxyItemize}
\item Fixed for use of {\ttfamily type} as a key.
\end{DoxyItemize}

\section*{1.\+1.\+10 / 2011-\/03-\/23 }


\begin{DoxyItemize}
\item Changed; Make sure to only ensure indexes while connected
\end{DoxyItemize}

\section*{1.\+1.\+9 / 2011-\/03-\/2 }


\begin{DoxyItemize}
\item Fixed; Mixed can now default to empty arrays
\item Fixed; keys by the name \textquotesingle{}type\textquotesingle{} are now valid
\item Fixed; null values retrieved from the database are hydrated as null values.
\item Fixed repeated atomic operations when saving a same document twice.
\end{DoxyItemize}

\section*{1.\+1.\+8 / 2011-\/03-\/23 }


\begin{DoxyItemize}
\item Fixed \textquotesingle{}id\textquotesingle{} overriding. \mbox{[}bnoguchi\mbox{]}
\end{DoxyItemize}

\section*{1.\+1.\+7 / 2011-\/03-\/22 }


\begin{DoxyItemize}
\item Fixed Reg\+Exp query casting when querying against an Array of Strings \mbox{[}bnoguchi\mbox{]}
\item Fixed getters/setters for nested virtualsl. \mbox{[}bnoguchi\mbox{]}
\end{DoxyItemize}

\section*{1.\+1.\+6 / 2011-\/03-\/22 }


\begin{DoxyItemize}
\item Only do\+Validate when path exists in Schema \mbox{[}aheckmann\mbox{]}
\item Allow function defaults for Array types \mbox{[}aheckmann\mbox{]}
\item Fix validation hang \mbox{[}aheckmann\mbox{]}
\item Fix setting of is\+Required of Schema\+Type \mbox{[}aheckmann\mbox{]}
\item Fix Schema\+Type\+::required(false) filter \mbox{[}aheckmann\mbox{]}
\item More backwards compatibility \mbox{[}aheckmann\mbox{]}
\item More tests \mbox{[}aheckmann\mbox{]}
\end{DoxyItemize}

\section*{1.\+1.\+5 / 2011-\/03-\/14 }


\begin{DoxyItemize}
\item Added support for {\ttfamily uri, db, fn} and {\ttfamily uri, fn} signatures for replica sets.
\item Improved/extended replica set tests.
\end{DoxyItemize}

\section*{1.\+1.\+4 / 2011-\/03-\/09 }


\begin{DoxyItemize}
\item Fixed; running an empty Query doesn\textquotesingle{}t throw. \mbox{[}aheckmann\mbox{]}
\item Changed; Promise\+::add\+Back returns promise. \mbox{[}aheckmann\mbox{]}
\item Added streaming cursor support. \mbox{[}aheckmann\mbox{]}
\item Changed; Query\+::update defaults to use\$\+Set\+On\+Save now. \mbox{[}brian\mbox{]}
\item Added more docs.
\end{DoxyItemize}

\section*{1.\+1.\+3 / 2011-\/03-\/04 }


\begin{DoxyItemize}
\item Added Promise\+::resolve \mbox{[}aheckmann\mbox{]}
\item Fixed backward compatibility with nulls \mbox{[}aheckmann\mbox{]}
\item Changed; Query\#\{run,exec\} return promises \mbox{[}aheckmann\mbox{]}
\end{DoxyItemize}

\section*{1.\+1.\+2 / 2011-\/03-\/03 }


\begin{DoxyItemize}
\item Restored Query\+::exec and added notion of default operation \mbox{[}brian\mbox{]}
\item Fixed Validator\+Error messages \mbox{[}brian\mbox{]}
\end{DoxyItemize}

\section*{1.\+1.\+1 / 2011-\/03-\/01 }


\begin{DoxyItemize}
\item Added Schema\+Type String {\ttfamily lowercase}, {\ttfamily uppercase}, {\ttfamily trim}.
\item Public exports ({\ttfamily Model}, {\ttfamily Document}) and tests.
\item Added Object\+Id casting support for {\ttfamily Document}s.
\end{DoxyItemize}

\section*{1.\+1.\+0 / 2011-\/02-\/25 }


\begin{DoxyItemize}
\item Added support for replica sets.
\end{DoxyItemize}

\section*{1.\+0.\+16 / 2011-\/02-\/18 }


\begin{DoxyItemize}
\item Added \$nin as another whitelisted \$conditional for Schema\+Array \mbox{[}brian\mbox{]}
\item Changed \#with to \#where \mbox{[}brian\mbox{]}
\item Added ability to use \$in conditional with Array types \mbox{[}brian\mbox{]}
\end{DoxyItemize}

\section*{1.\+0.\+15 / 2011-\/02-\/18 }


\begin{DoxyItemize}
\item Added {\ttfamily id} virtual getter for documents to easily access the hex\+String of the {\ttfamily \+\_\+id}.
\end{DoxyItemize}

\section*{1.\+0.\+14 / 2011-\/02-\/17 }


\begin{DoxyItemize}
\item Fix for arrays within subdocuments \mbox{[}brian\mbox{]}
\end{DoxyItemize}

\section*{1.\+0.\+13 / 2011-\/02-\/16 }


\begin{DoxyItemize}
\item Fixed embedded documents saving.
\end{DoxyItemize}

\section*{1.\+0.\+12 / 2011-\/02-\/14 }


\begin{DoxyItemize}
\item Minor refactorings \mbox{[}brian\mbox{]}
\end{DoxyItemize}

\section*{1.\+0.\+11 / 2011-\/02-\/14 }


\begin{DoxyItemize}
\item Query refactor and \$ne, \$slice, \$or, \$size, \$elem\+Match, \$nin, \$exists support \mbox{[}brian\mbox{]}
\item Named scopes sugar \mbox{[}brian\mbox{]}
\end{DoxyItemize}

\section*{1.\+0.\+10 / 2011-\/02-\/11 }


\begin{DoxyItemize}
\item Updated node-\/mongodb-\/native driver \mbox{[}thanks John Allen\mbox{]}
\end{DoxyItemize}

\section*{1.\+0.\+9 / 2011-\/02-\/09 }


\begin{DoxyItemize}
\item Fixed single member arrays as defaults \mbox{[}brian\mbox{]}
\end{DoxyItemize}

\section*{1.\+0.\+8 / 2011-\/02-\/09 }


\begin{DoxyItemize}
\item Fixed for collection-\/level buffering of commands \mbox{[}gitfy\mbox{]}
\item Fixed {\ttfamily Document\+::to\+J\+S\+ON} \mbox{[}dalejefferson\mbox{]}
\item Fixed {\ttfamily Connection} authentication \mbox{[}robrighter\mbox{]}
\item Fixed clash of accessors in getters/setters \mbox{[}eirikurn\mbox{]}
\item Improved {\ttfamily Model\+::save} promise handling
\end{DoxyItemize}

\section*{1.\+0.\+7 / 2011-\/02-\/05 }


\begin{DoxyItemize}
\item Fixed memory leak warnings for test suite on 0.\+3
\item Fixed querying documents that have an array that contain at least one specified member. \mbox{[}brian\mbox{]}
\item Fixed default value for Array types (fixes G\+H-\/210). \mbox{[}brian\mbox{]}
\item Fixed example code.
\end{DoxyItemize}

\section*{1.\+0.\+6 / 2011-\/02-\/03 }


\begin{DoxyItemize}
\item Fixed {\ttfamily post} middleware
\item Fixed; it\textquotesingle{}s now possible to instantiate a model even when one of the paths maps to an undefined value \mbox{[}brian\mbox{]}
\end{DoxyItemize}

\section*{1.\+0.\+5 / 2011-\/02-\/02 }


\begin{DoxyItemize}
\item Fixed; combo \$push and \$push\+All auto-\/converts into a \$push\+All \mbox{[}brian\mbox{]}
\item Fixed; combo \$pull and \$pull\+All auto-\/converts to a single \$pull\+All \mbox{[}brian\mbox{]}
\item Fixed; \$pull\+All now removes said members from array before save (so it acts just like push\+All) \mbox{[}brian\mbox{]}
\item Fixed; multiple \$pulls and \$pushes become a single \$pull\+All and \$push\+All. Moreover, \$pull now modifies the array before save to reflect the immediate change \mbox{[}brian\mbox{]}
\item Added tests for nested shortcut getters \mbox{[}brian\mbox{]}
\item Added tests that show that Schemas with nested Arrays don\textquotesingle{}t apply defaults \mbox{[}brian\mbox{]}
\end{DoxyItemize}

\section*{1.\+0.\+4 / 2011-\/02-\/02 }


\begin{DoxyItemize}
\item Added Mongoose\+Number\+::to\+String
\item Added Mongoose\+Number unit tests
\end{DoxyItemize}

\section*{1.\+0.\+3 / 2011-\/02-\/02 }


\begin{DoxyItemize}
\item Make sure safe mode works with Model\+::save
\item Changed Schema options\+: safe mode is now the default
\item Updated node-\/mongodb-\/native to H\+E\+AD
\end{DoxyItemize}

\section*{1.\+0.\+2 / 2011-\/02-\/02 }


\begin{DoxyItemize}
\item Added a Model.\+create shortcut for creating documents. \mbox{[}brian\mbox{]}
\item Fixed; we can now instantiate models with hashes that map to at least one null value. \mbox{[}brian\mbox{]}
\item Fixed Schema with more than 2 nested levels. \mbox{[}brian\mbox{]}
\end{DoxyItemize}

\section*{1.\+0.\+1 / 2011-\/02-\/02 }


\begin{DoxyItemize}
\item Improved {\ttfamily Mongoose\+Number}, works almost like the native except for {\ttfamily typeof} not being `\textquotesingle{}number'\`{}. 
\end{DoxyItemize}