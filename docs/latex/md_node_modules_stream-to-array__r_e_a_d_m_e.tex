\href{https://npmjs.org/package/stream-to-array}{\tt } \href{https://travis-ci.org/stream-utils/stream-to-array}{\tt } \href{https://coveralls.io/r/stream-utils/stream-to-array?branch=master}{\tt } \href{https://david-dm.org/stream-utils/stream-to-array}{\tt } \mbox{[}\mbox{]}\mbox{[}license-\/url\mbox{]} \href{https://npmjs.org/package/stream-to-array}{\tt }

Concatenate a readable stream\textquotesingle{}s data into a single array.

You may also be interested in\+:


\begin{DoxyItemize}
\item \href{https://github.com/stream-utils/raw-body}{\tt raw-\/body} for strings
\end{DoxyItemize}

\subsection*{A\+PI}


\begin{DoxyCode}
var toArray = require('stream-to-array')
\end{DoxyCode}


\subsubsection*{to\+Array(\mbox{[}stream\mbox{]}, \mbox{[}callback(err, arr)\mbox{]})}

Returns all the data objects in an array. This is useful for streams in object mode if you want to just use an array.


\begin{DoxyCode}
var stream = new Stream.Readable()
toArray(stream, function (err, arr) \{
  assert.ok(Array.isArray(arr))
\})
\end{DoxyCode}


If {\ttfamily stream} is not defined, it is assumed that {\ttfamily this} is a stream.


\begin{DoxyCode}
var stream = new Stream.Readable()
stream.toArray = toArray
stream.toArray(function (err, arr) \{

\})
\end{DoxyCode}


If {\ttfamily callback} is not defined, then it returns a promise.


\begin{DoxyCode}
toArray(stream)
  .then(function (parts) \{

  \})
\end{DoxyCode}


If you want to return a buffer, just use {\ttfamily Buffer.\+concat(arr)}


\begin{DoxyCode}
toArray(stream)
  .then(function (parts) \{
    var buffers = []
    for (var i = 0, l = parts.length; i < l ; ++i) \{
      var part = parts[i]
      buffers.push((part instanceof Buffer) ? part : new Buffer(part))
    \}
    return Buffer.concat(buffers)
  \})
\end{DoxyCode}
 